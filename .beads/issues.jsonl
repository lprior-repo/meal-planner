{"id":"meal-planner-13h","title":"MEDIUM: Parameterize Test Generation","description":"Refactor 69 test files in /test/tandoor/api/. All follow identical delegation patterns. Create test factories and helpers to eliminate repetition. Target: 150-200 lines reduction (30-40%).","status":"in_progress","priority":2,"issue_type":"task","created_at":"2025-12-15T04:13:49.259317505Z","updated_at":"2025-12-15T19:22:23.326880261Z"}
{"id":"meal-planner-1cf","title":"Task 4: Verify decoder coverage with tests","description":"Create error_decoder_test.gleam for all 17 error codes and add MonthSummary single-day edge case test to decoders_test.gleam","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T20:04:26.693139995Z","updated_at":"2025-12-15T20:09:50.376850126Z","closed_at":"2025-12-15T20:09:50.376850126Z"}
{"id":"meal-planner-1hc","title":"[LOW] Expose Tandoor User Preferences endpoints","description":"User preferences and settings:\n\nEndpoints needed:\n1. GET /api/tandoor/preferences - Get user preferences\n2. PUT /api/tandoor/preferences - Update user preferences\n\nCurrent status:\n✅ Implementation: tandoor/api/user/preferences.gleam\n✅ Encoders/Decoders: user_preference_decoder.gleam\n❌ Web handlers: Not exposed\n❌ Routing: Not wired up\n❌ OpenAPI: Not documented\n\nPreference types:\n- UI settings\n- Default serving sizes\n- Meal types\n- Display options\n\nAction needed:\n1. Add handlers\n2. Add routing\n3. Update OpenAPI spec","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-15T04:32:29.907898248Z","updated_at":"2025-12-15T04:32:29.907898248Z","labels":["handlers","low","tandoor"]}
{"id":"meal-planner-1k1","title":"Document SPARC workflow and phases for meal-planner project","description":"","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-14T19:27:34.187177636-06:00","updated_at":"2025-12-14T19:27:34.187177636-06:00"}
{"id":"meal-planner-1qa","title":"[SDK] Extract decoders from client.gleam","description":"Remove decoder code (lines 1022-1340) from client.gleam, import from decoders/ directory. Make client HTTP-focused only.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-14T12:28:46.058918875-06:00","updated_at":"2025-12-14T13:45:36.941083492-06:00","closed_at":"2025-12-14T13:45:36.941083492-06:00","labels":["refactor","sdk"],"dependencies":[{"issue_id":"meal-planner-1qa","depends_on_id":"meal-planner-3ea","type":"blocks","created_at":"2025-12-14T12:28:53.135602608-06:00","created_by":"daemon"}]}
{"id":"meal-planner-20x","title":"Implement persistent rate limiting","description":"Rate limiting placeholder needs persistent storage implementation (Redis/database). TODO at line 292 in web/middleware.gleam.","status":"in_progress","priority":2,"issue_type":"task","created_at":"2025-12-15T03:16:22.178218104Z","updated_at":"2025-12-15T19:20:55.347239215Z","labels":["middleware","performance","rate-limiting"]}
{"id":"meal-planner-23m","title":"Implement diary/service.gleam service layer","description":"Create service layer wrapper for diary API with auto-config loading","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T11:53:37.270070334-06:00","updated_at":"2025-12-14T12:03:09.197638424-06:00","closed_at":"2025-12-14T12:03:09.197638424-06:00","labels":["diary","fatsecret","implementation","service"]}
{"id":"meal-planner-262","title":"Resolve disabled/skip handler files - Migrate to active code","description":"Disabled files create technical debt:\n- gleam/src/meal_planner/fatsecret/exercise/handlers.gleam.skip\n- gleam/src/meal_planner/fatsecret/weight/handlers.gleam.skip\n- gleam/src/meal_planner/fatsecret/favorites/handlers.gleam.disabled\n- gleam/src/meal_planner/web/middleware.gleam.disabled\n- gleam/src/meal_planner/tandoor/testing/matchers.gleam.disabled\n\nUSER RULE: 'Never disable a file again'\n\nAudit each: fix+enable OR delete completely. Cannot remain disabled.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-15T12:53:19.878183254Z","updated_at":"2025-12-15T15:45:10.352943372Z","closed_at":"2025-12-15T15:45:10.352943372Z"}
{"id":"meal-planner-27a","title":"Resolve TandoorFood type inconsistency: 2-field vs 8-field vs 16-field mismatch","description":"","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-14T19:27:39.892305175-06:00","updated_at":"2025-12-15T03:08:09.717734449Z","closed_at":"2025-12-15T03:08:09.717734449Z"}
{"id":"meal-planner-2b8","title":"DEBUG: FatSecret API returning empty entries for 2025-12-15","description":"ISSUE: GET /api/fatsecret/diary/day/20437 returns 0 calories despite user having food logged in FatSecret.\n\nFINDINGS:\n- Endpoint returns HTTP 200 OK ✓\n- Response structure is valid JSON ✓  \n- date_int calculation is correct (20437 for 2025-12-15) ✓\n- Entries array is empty: []\n- Totals all show 0.0\n\nROOT CAUSE LIKELY:\n1. OAuth token expired/invalid (most likely)\n2. FatSecret API failing silently (error response being swallowed)\n3. Date format mismatch\n\nNEXT STEPS:\n1. Verify OAuth token in database is valid\n2. Add detailed logging to client.gleam to see raw FatSecret response\n3. Test FatSecret API directly with curl using stored token","status":"in_progress","priority":2,"issue_type":"task","created_at":"2025-12-15T19:46:45.603512286Z","updated_at":"2025-12-15T19:47:34.285708034Z"}
{"id":"meal-planner-2b8.1","title":"Step 1: Verify OAuth token validity in database","description":"Check if the stored FatSecret OAuth token is still valid and not expired. Query the fatsecret_oauth_token table and verify the token is recent.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T19:47:17.221295228Z","updated_at":"2025-12-15T19:58:53.1976376Z","closed_at":"2025-12-15T19:58:53.1976376Z","dependencies":[{"issue_id":"meal-planner-2b8.1","depends_on_id":"meal-planner-2b8","type":"parent-child","created_at":"2025-12-15T19:47:17.221723193Z","created_by":"daemon"}]}
{"id":"meal-planner-2b8.2","title":"Step 2: Add error logging to diary/client.gleam","description":"Add logging to get_food_entries to capture the raw JSON response from FatSecret API. This will show exactly what FatSecret is returning for date_int=20437","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T19:47:21.437619211Z","updated_at":"2025-12-15T19:59:23.005762642Z","closed_at":"2025-12-15T19:59:23.005762642Z","dependencies":[{"issue_id":"meal-planner-2b8.2","depends_on_id":"meal-planner-2b8","type":"parent-child","created_at":"2025-12-15T19:47:21.438069896Z","created_by":"daemon"}]}
{"id":"meal-planner-2b8.3","title":"Step 3: Test FatSecret API directly with curl","description":"Use the stored OAuth token to make a direct curl request to FatSecret's food_entries.get endpoint with date_int=20437. This will show if the problem is in our app or with the FatSecret token/API itself.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T19:47:26.724177586Z","updated_at":"2025-12-15T19:59:40.34315525Z","closed_at":"2025-12-15T19:59:40.34315525Z","dependencies":[{"issue_id":"meal-planner-2b8.3","depends_on_id":"meal-planner-2b8","type":"parent-child","created_at":"2025-12-15T19:47:26.724506813Z","created_by":"daemon"}]}
{"id":"meal-planner-2dj","title":"Add error code 207 (NoEntries) to FatSecretError","description":"Add missing error code 207 from FatSecret API to errors.gleam. This code is returned when no diary entries exist for a given date.","status":"in_progress","priority":2,"issue_type":"task","created_at":"2025-12-15T20:04:15.301262343Z","updated_at":"2025-12-15T20:04:19.19642407Z"}
{"id":"meal-planner-2sn","title":"Setup Beads viewer (bv) for task intelligence and parallel planning","description":"","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-14T19:28:03.809251736-06:00","updated_at":"2025-12-14T19:28:03.809251736-06:00"}
{"id":"meal-planner-3ea","title":"[SDK] Consolidate type system to types/ directory","description":"Delete types.gleam, extract types from client.gleam (lines 894-1009), establish types/ as single source of truth. Update 30+ imports. Impact: ~250 lines removed, eliminates 3 parallel hierarchies.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-14T12:28:45.981043804-06:00","updated_at":"2025-12-14T13:45:36.905983096-06:00","closed_at":"2025-12-14T13:45:36.905983096-06:00","labels":["foundation","refactor","sdk"]}
{"id":"meal-planner-3p4","title":"Consolidate handler patterns: Remove nested case boilerplate","description":"All Tandoor handlers repeat 3-level nesting pattern:\n1. get_authenticated_client() -\u003e Error case\n2. API call -\u003e Error case\n3. JSON encode -\u003e Response\n\nAppears 20+ times across tandoor.gleam, tandoor_cuisines.gleam, shopping_list.gleam.\n\nCreate handler wrapper to flatten nesting into single pipeline.\n\nGLEAM RULE 3: PIPE_EVERYTHING","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-15T12:53:19.769872512Z","updated_at":"2025-12-15T15:41:41.251948781Z","closed_at":"2025-12-15T15:41:41.251948781Z"}
{"id":"meal-planner-3yw","title":"Task 2: Update OpenAPI schemas to match Gleam types","description":"Update openapi.yaml with comprehensive FoodEntry schema, ErrorResponse with all 17 error codes, FoodEntriesResponse, MonthSummaryResponse, and DaySummary schemas.","notes":"PASS: Updated OpenAPI schemas to match Gleam types - added FoodEntry (comprehensive with all 20 fields), ErrorResponse (all 17 error codes), SuccessResponse, FoodEntriesResponse, MonthSummaryResponse, DaySummary. Updated diary endpoints to use new schemas.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T20:04:26.681513289Z","updated_at":"2025-12-15T20:06:18.935171425Z","closed_at":"2025-12-15T20:06:18.935174215Z"}
{"id":"meal-planner-3zq","title":"Re-enable dashboard handlers when module is available","description":"Dashboard handlers disabled with TODO at lines 52, 62 in web/handlers.gleam. Waiting for dashboard module availability.","status":"in_progress","priority":2,"issue_type":"task","created_at":"2025-12-15T03:16:22.184597279Z","updated_at":"2025-12-15T19:22:23.233277857Z","labels":["dashboard","handlers","refactor"]}
{"id":"meal-planner-5lf","title":"[MEDIUM] Expose Tandoor Cuisines CRUD endpoints","description":"Full implementation exists but not exposed:\n\nEndpoints needed:\n1. GET /api/tandoor/cuisines - List cuisines\n2. GET /api/tandoor/cuisines/{id} - Get cuisine details\n3. POST /api/tandoor/cuisines - Create cuisine\n4. PUT /api/tandoor/cuisines/{id} - Update cuisine\n5. DELETE /api/tandoor/cuisines/{id} - Delete cuisine\n\nCurrent status:\n✅ Implementation: tandoor/api/cuisine/*.gleam (complete CRUD)\n✅ Encoders/Decoders: cuisine_encoder.gleam, cuisine_decoder.gleam\n❌ Web handlers: Not exposed\n❌ Routing: Not wired up\n❌ OpenAPI: Not documented\n\nAction needed:\n1. Add handlers in web/handlers/tandoor.gleam\n2. Add routing in web.gleam\n3. Update OpenAPI spec with full CRUD operations","status":"in_progress","priority":2,"issue_type":"task","created_at":"2025-12-15T04:32:24.747681044Z","updated_at":"2025-12-15T19:22:23.451684385Z","labels":["handlers","medium","tandoor"]}
{"id":"meal-planner-5tv","title":"Re-enable food logging handlers when module is available","description":"Food logging handlers disabled with TODO at line 72 in web/handlers.gleam. Waiting for foods module availability.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T03:16:22.190660984Z","updated_at":"2025-12-15T20:08:00.034647123Z","closed_at":"2025-12-15T20:08:00.034647123Z","labels":["food-logging","handlers","refactor"]}
{"id":"meal-planner-6zj","title":"Fix update_food parameter name: change 'food' to 'food_data'","description":"","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-14T19:27:50.72845582-06:00","updated_at":"2025-12-15T16:02:49.358794438Z","closed_at":"2025-12-15T16:02:49.358794438Z"}
{"id":"meal-planner-70d","title":"Create comprehensive FatSecret \u0026 Tandoor integration tests with live HTTP calls","description":"Build integration tests that make real HTTP calls to all implemented endpoints with proper documentation, response validation, curl examples, and debugging guidance","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-15T20:21:29.077832182Z","updated_at":"2025-12-15T20:26:23.594372066Z","closed_at":"2025-12-15T20:26:23.594372066Z"}
{"id":"meal-planner-71q","title":"Parse ingredients from recipe steps when available","description":"Tandoor recipe mapper doesn't extract ingredients from recipe steps. TODO at line 103 in tandoor/mapper.gleam. This improves data completeness.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-15T03:16:26.18637433Z","updated_at":"2025-12-15T03:29:08.993539823Z","closed_at":"2025-12-15T03:29:08.993539823Z","labels":["parsing","recipes","tandoor"]}
{"id":"meal-planner-72k","title":"[LOW] Expose Tandoor Supermarkets endpoints","description":"Supermarket and category management:\n\nEndpoints needed:\n1. GET /api/tandoor/supermarkets - List supermarkets\n2. GET /api/tandoor/supermarkets/{id} - Get supermarket details\n3. GET /api/tandoor/supermarkets/{id}/categories - Get categories\n4. POST /api/tandoor/supermarkets - Create supermarket\n5. PUT /api/tandoor/supermarkets/{id} - Update supermarket\n6. DELETE /api/tandoor/supermarkets/{id} - Delete supermarket\n\nCurrent status:\n✅ Implementation: tandoor/api/supermarket/*.gleam (full CRUD + categories)\n✅ Encoders/Decoders: Complete\n❌ Web handlers: Not exposed\n❌ Routing: Not wired up\n❌ OpenAPI: Not documented\n\nUse cases:\n- Organize shopping lists by store\n- Store-specific ingredient availability\n- Shopping route optimization\n\nAction needed:\n1. Add handlers\n2. Add routing\n3. Update OpenAPI spec","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-15T04:32:27.592416833Z","updated_at":"2025-12-15T04:32:27.592416833Z","labels":["handlers","low","tandoor"]}
{"id":"meal-planner-766","title":"Fix image upload - requires binary body support in HTTP module","description":"Image upload functionality is blocked because the HTTP module doesn't support binary request bodies. This affects recipe image uploads in Tandoor integration. Files: image.gleam, image_stub_temp.gleam","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-12-15T03:16:22.087825085Z","updated_at":"2025-12-15T03:29:08.97685351Z","closed_at":"2025-12-15T03:29:08.97685351Z","labels":["critical","image-upload","tandoor"]}
{"id":"meal-planner-796","title":"Investigate Favorites endpoints returning 404","description":"All FatSecret Favorites endpoints return 404 Not Found despite having handlers and routes defined.\n\nAffected endpoints:\n- GET /api/fatsecret/favorites/foods\n- GET /api/fatsecret/favorites/foods/most-eaten\n- GET /api/fatsecret/favorites/recipes\n\nNeed to verify handler exports, module imports, and pattern matching with verbose logging.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-14T13:08:53.070196527-06:00","updated_at":"2025-12-15T16:04:23.742592064Z","closed_at":"2025-12-15T16:04:23.742592064Z","labels":["404","fatsecret","favorites"]}
{"id":"meal-planner-7dh","title":"Fix Tandoor types/decoders to match spec exactly","description":"Update any Tandoor types that don't align with API spec. Ensure proper opaque types, complete field coverage, correct decoders.","status":"in_progress","priority":2,"issue_type":"task","created_at":"2025-12-15T19:19:55.428288489Z","updated_at":"2025-12-15T19:20:30.238750374Z"}
{"id":"meal-planner-7gw","title":"Complete MealPlan API implementation","description":"MealPlan API endpoints in tandoor/client.gleam are incomplete with FIXME markers at lines 1659, 1727, 1809. Needs full implementation of meal plan CRUD operations.","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-12-15T03:16:22.099577236Z","updated_at":"2025-12-15T03:22:00.236795825Z","closed_at":"2025-12-15T03:22:00.236795825Z","labels":["critical","mealplan","tandoor"]}
{"id":"meal-planner-7kj","title":"CRITICAL: Consolidate CRUD API Boilerplate","description":"PROGRESS UPDATE: \n\n✅ PHASE 1-2 COMPLETE (Design, Test, Implementation):\n- Created generic_crud.gleam module with polymorphic CRUD functions\n- Added comprehensive test coverage for generic CRUD patterns\n- Successfully established scalable consolidation approach\n\n✅ PHASE 3 PARTIALLY COMPLETE (Refactoring):\nRefactored Resources (24 CRUD files):\n- cuisine/* (5 files) - ✓ Complete\n- food/{create,get,update,delete} (4 files) - ✓ Complete  \n- ingredient/{create,get,update,delete} (4 files) - ✓ Complete\n- recipe/* (5 files) - ✓ Complete\n- step/* (4 files) - ✓ Complete\n\nLine Savings Achieved: 160+ lines eliminated\nCode Quality: All tests passing, all quality gates passing\n\nRemaining Work:\n- supermarket/* (5 files) - Ready to refactor\n- mealplan/* (4 files, no delete) - Ready to refactor\n- unit/crud.gleam (1 file) - Ready to refactor\n- Pagination list operations (food, ingredient, recipe) - Requires separate approach\n- Refactoring would complete remaining 31 files → target 900-1,100 line reduction\n\nCurrent Status: On track for target consolidation.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-15T04:13:43.96715457Z","updated_at":"2025-12-15T13:08:04.974771506Z","closed_at":"2025-12-15T13:08:04.974771506Z"}
{"id":"meal-planner-7kj.1","title":"Refactor supermarket CRUD to generic_crud","description":"","status":"in_progress","priority":1,"issue_type":"task","created_at":"2025-12-15T13:01:35.743324118Z","updated_at":"2025-12-15T18:40:25.604449445Z","dependencies":[{"issue_id":"meal-planner-7kj.1","depends_on_id":"meal-planner-7kj","type":"parent-child","created_at":"2025-12-15T13:01:35.743694671Z","created_by":"daemon"}]}
{"id":"meal-planner-7kj.2","title":"Refactor mealplan CRUD to generic_crud","description":"","status":"in_progress","priority":1,"issue_type":"task","created_at":"2025-12-15T13:01:35.750214381Z","updated_at":"2025-12-15T18:40:25.634674682Z","dependencies":[{"issue_id":"meal-planner-7kj.2","depends_on_id":"meal-planner-7kj","type":"parent-child","created_at":"2025-12-15T13:01:35.750549065Z","created_by":"daemon"}]}
{"id":"meal-planner-7kj.3","title":"Refactor unit CRUD to generic_crud","description":"","status":"in_progress","priority":2,"issue_type":"task","created_at":"2025-12-15T13:01:35.75680953Z","updated_at":"2025-12-15T19:22:23.482149764Z","dependencies":[{"issue_id":"meal-planner-7kj.3","depends_on_id":"meal-planner-7kj","type":"parent-child","created_at":"2025-12-15T13:01:35.757077655Z","created_by":"daemon"}]}
{"id":"meal-planner-7kj.4","title":"Handle paginated list operations (food, ingredient, recipe)","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T13:01:35.763071425Z","updated_at":"2025-12-15T20:07:56.013441779Z","closed_at":"2025-12-15T20:07:56.013441779Z","dependencies":[{"issue_id":"meal-planner-7kj.4","depends_on_id":"meal-planner-7kj","type":"parent-child","created_at":"2025-12-15T13:01:35.763358199Z","created_by":"daemon"}]}
{"id":"meal-planner-89p","title":"refactor: Consolidate unit CRUD and complete major consolidation","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T13:02:01.225990242Z","updated_at":"2025-12-15T13:05:28.886938155Z","closed_at":"2025-12-15T13:05:28.886938155Z"}
{"id":"meal-planner-8jo","title":"[LOW] Expose Tandoor Shopping Lists endpoints","description":"Shopping list management:\n\nEndpoints needed:\n1. GET /api/tandoor/shopping-lists - List shopping lists\n2. POST /api/tandoor/shopping-lists - Create shopping list\n3. POST /api/tandoor/shopping-lists/{id}/add-recipe - Add recipe to list\n\nCurrent status:\n✅ Implementation: tandoor/api/shopping_list.gleam\n✅ Encoders/Decoders: shopping_list_encoder.gleam, shopping_list_decoder.gleam\n❌ Web handlers: Not exposed\n❌ Routing: Not wired up\n❌ OpenAPI: Not documented\n\nFeatures:\n- Create shopping lists from meal plans\n- Add recipes directly to list\n- Auto-populate ingredients\n\nAction needed:\n1. Add handlers\n2. Add routing\n3. Update OpenAPI spec","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-15T04:32:28.423547811Z","updated_at":"2025-12-15T04:32:28.423547811Z","labels":["handlers","low","tandoor"]}
{"id":"meal-planner-8z3","title":"Task 3: Document raw FatSecret REST API endpoints","description":"Add 6 raw FatSecret REST API endpoints to openapi.yaml: /food-entries/v2 (GET), /food-entries/month/v1 (GET), /food-entries/v1 (POST/PUT/DELETE), /food-entries/copy/v1 (POST)","notes":"PASS: Added 6 raw FatSecret REST API endpoints (/food-entries/v2 GET, /food-entries/month/v1 GET, /food-entries/v1 POST/PUT/DELETE, /food-entries/copy/v1 POST) with OAuth1 security and error response schemas","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T20:04:26.687294322Z","updated_at":"2025-12-15T20:06:54.494572746Z","closed_at":"2025-12-15T20:06:54.494577426Z"}
{"id":"meal-planner-9ag","title":"Refactor supermarket CRUD to use generic_crud module","description":"Consolidate 5 supermarket CRUD files (create/get/update/delete/list) to use generic_crud module. Pattern: Replace individual crud_helpers calls with generic_crud functions. Reduces boilerplate and improves maintainability.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-15T13:02:10.997350182Z","updated_at":"2025-12-15T13:05:45.273628165Z","closed_at":"2025-12-15T13:05:45.273628165Z"}
{"id":"meal-planner-9el","title":"[LOW] Expose Tandoor Foods CRUD endpoints","description":"Tandoor Food objects (separate from Ingredients):\n\nEndpoints needed:\n1. GET /api/tandoor/foods - List foods\n2. GET /api/tandoor/foods/{id} - Get food details\n3. POST /api/tandoor/foods - Create food\n4. PUT /api/tandoor/foods/{id} - Update food\n5. DELETE /api/tandoor/foods/{id} - Delete food\n\nCurrent status:\n✅ Implementation: tandoor/api/food/*.gleam\n✅ Encoders/Decoders: food_encoder.gleam, food_decoder.gleam\n❌ Web handlers: Not exposed\n❌ Routing: Not wired up\n❌ OpenAPI: Not documented\n\nNote: Foods are distinct from Ingredients in Tandoor\n- Foods: Database of food items with nutrition\n- Ingredients: Recipe components\n\nAction needed:\n1. Add handlers\n2. Add routing\n3. Update OpenAPI spec","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-15T04:32:26.279822812Z","updated_at":"2025-12-15T20:03:09.389017882Z","labels":["handlers","low","tandoor"]}
{"id":"meal-planner-9jm","title":"Fix FatSecret Recipes search parser error","description":"Recipe search endpoint fetches data from API successfully but fails to parse the JSON response.\n\nError: 'Failed to parse recipe search'\nEndpoint: GET /api/fatsecret/recipes/search?q=chicken\n\nFiles to investigate:\n- gleam/src/meal_planner/fatsecret/recipes/decoders.gleam\n- gleam/src/meal_planner/web/handlers.gleam","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-14T13:08:51.929374019-06:00","updated_at":"2025-12-15T03:34:25.183062907Z","closed_at":"2025-12-15T03:34:25.183062907Z","labels":["fatsecret","parser","recipes"]}
{"id":"meal-planner-9oh","title":"HIGH: Consolidate Encoder Duplication","description":"Refactor /tandoor/encoders/ (2,023 lines). Create helper functions for repeated optional field encoding patterns appearing 20+ times. Target: 300-400 lines reduction (20-25%).","status":"in_progress","priority":1,"issue_type":"task","created_at":"2025-12-15T04:13:44.69700116Z","updated_at":"2025-12-15T18:38:55.443586891Z"}
{"id":"meal-planner-9qa","title":"[MEDIUM] Expose Tandoor Recipe Steps CRUD endpoints","description":"Full implementation exists but not exposed via web handlers:\n\nEndpoints needed:\n1. GET /api/tandoor/steps - List all steps\n2. GET /api/tandoor/steps/{id} - Get step details\n3. POST /api/tandoor/steps - Create step\n4. PUT /api/tandoor/steps/{id} - Update step\n5. DELETE /api/tandoor/steps/{id} - Delete step\n\nCurrent status:\n✅ Implementation: tandoor/api/step/*.gleam (create, delete, get, list)\n✅ Encoders/Decoders: Full support\n❌ Web handlers: Not in web/handlers/tandoor.gleam\n❌ Routing: Not exposed\n❌ OpenAPI: Not documented\n\nAction needed:\n1. Add handler functions\n2. Wire up routing\n3. Update OpenAPI spec","status":"in_progress","priority":2,"issue_type":"task","created_at":"2025-12-15T04:32:23.503274169Z","updated_at":"2025-12-15T19:22:23.41992772Z","labels":["handlers","medium","tandoor"]}
{"id":"meal-planner-9r3","title":"NCP MVP: Nutrition Control Plane - Daily Status \u0026 Dinner Recommendations","description":"MVP implementation of Nutritional Control Plane with two core endpoints: daily-status (track consumed vs goals) and recommend-dinner (suggest recipes to balance macros). Includes 15 generic recipes and deterministic NCP-based scoring.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-15T18:06:08.714632657Z","updated_at":"2025-12-15T18:06:49.685737626Z","closed_at":"2025-12-15T18:06:49.685737626Z","labels":["feature","mvp","nutrition"]}
{"id":"meal-planner-a4h","title":"[SDK] Extract CRUD helpers for API boilerplate","description":"Create api/crud_helpers.gleam with 6 generic functions (get_resource, create_resource, update_resource, delete_resource, list_resources_paginated, build_query_params). Migrate 27 API files. Impact: 87% reduction (731 → 90 lines).","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-14T12:28:37.201633493-06:00","updated_at":"2025-12-14T13:45:36.798802898-06:00","closed_at":"2025-12-14T13:45:36.798802898-06:00","labels":["high-roi","refactor","sdk"]}
{"id":"meal-planner-a4p","title":"Parse query parameters in ImportLog/ExportLog list handlers","description":"List handlers need to parse query parameters for limit/offset pagination. TODO at line 97 in import_export_handlers.gleam. Affects: handle_import_logs, handle_export_logs.","notes":"Implemented limit/offset query parameter parsing in import/export log list handlers. All tests passing.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-15T03:16:22.118133601Z","updated_at":"2025-12-15T18:12:43.357986157Z","closed_at":"2025-12-15T18:12:43.357989567Z","labels":["import-export","query-params"]}
{"id":"meal-planner-ac9","title":"Audit FatSecret client against OpenAPI spec","description":"Review gleam/src/meal_planner/fatsecret/* against openapi.yaml. Ensure all endpoints, parameters, response types match. Check OAuth flow implementation.","status":"in_progress","priority":2,"issue_type":"task","created_at":"2025-12-15T19:19:55.422209614Z","updated_at":"2025-12-15T19:20:54.322317068Z"}
{"id":"meal-planner-add-api-middleware","title":"[HIGH-P2] Add missing middleware chains to API handlers","description":"Three legacy API endpoints missing the standard middleware chain for robustness.\n\nFiles:\n- gleam/src/meal_planner/web/handlers/recipes.gleam:111\n- gleam/src/meal_planner/web/handlers/macros.gleam:13\n- gleam/src/meal_planner/web/handlers/diet.gleam:15\n\nRequired Middleware Chain (on all 3 handlers):\n  use \u003c- wisp.log_request(req)\n  use \u003c- wisp.rescue_crashes\n  use req \u003c- wisp.handle_head(req)\n\nMiddleware Purpose:\n- log_request: HTTP request logging for debugging/monitoring\n- rescue_crashes: Catch panics, return 500 gracefully\n- handle_head: Convert HEAD requests to GET responses\n\nGolden Rules Violated: Rule 3 (Middleware \u0026 Control Flow)","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-14T13:47:36.083864539-06:00","updated_at":"2025-12-14T20:49:26.632698429Z","closed_at":"2025-12-14T20:49:26.632698429Z","labels":["golden-rule-3","high","middleware","quality"],"dependencies":[{"issue_id":"meal-planner-add-api-middleware","depends_on_id":"meal-planner-fix-recipe-scoring","type":"blocks","created_at":"2025-12-14T13:47:36.086161266-06:00","created_by":"daemon"},{"issue_id":"meal-planner-add-api-middleware","depends_on_id":"meal-planner-fix-macros-calculator","type":"blocks","created_at":"2025-12-14T13:47:36.088209847-06:00","created_by":"daemon"},{"issue_id":"meal-planner-add-api-middleware","depends_on_id":"meal-planner-fix-diet-compliance","type":"blocks","created_at":"2025-12-14T13:47:36.089882543-06:00","created_by":"daemon"}]}
{"id":"meal-planner-add-json-decoders","title":"[HIGH-P2] Add JSON decoders for type-safe request parsing","description":"Add JSON decoders for type-safe request parsing to multiple endpoints.\n\nIMPORTANT UPDATE (2025-12-14): FatSecret diary endpoints already have comprehensive decoders:\n✅ POST /api/fatsecret/diary/entries - parse_food_entry_input implemented\n✅ PATCH /api/fatsecret/diary/entries/:entry_id - parse_food_entry_update implemented\n\nRemaining work:\n❌ POST /api/ai/score-recipe - NEEDS ScoringRequest decoder\n❌ POST /api/macros/calculate - NEEDS MacrosRequest decoder\n? POST /api/fatsecret/saved-meals - Verify decoder status\n? Other POST/PUT endpoints - Check coverage\n\nGolden Rules Violated: Rule 4 (JSON Handling)","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-14T13:47:36.120229929-06:00","updated_at":"2025-12-15T18:08:39.65369084Z","closed_at":"2025-12-15T18:08:39.65369084Z","labels":["blocker","golden-rule-4","high","json-decoders","type-safety"],"dependencies":[{"issue_id":"meal-planner-add-json-decoders","depends_on_id":"meal-planner-add-api-middleware","type":"blocks","created_at":"2025-12-14T13:47:36.123147404-06:00","created_by":"daemon"}]}
{"id":"meal-planner-afk","title":"REFACTOR: Extract Router into Composable Routing Modules (CUPID Compliance)","description":"The monolithic web.gleam router violates CUPID principles (Composable, Unix, Predictable, Idiomatic, Domain-based). Refactor into modular routing functions by domain:\n\nCurrent: 440+ line handle_request() case statement mixing routing \u0026 logic\nTarget: Composable routing modules by domain (fatsecret, tandoor, auth, api)\n\nModules to extract:\n- route_auth.gleam - FatSecret OAuth flow\n- route_fatsecret.gleam - FatSecret API routes  \n- route_tandoor.gleam - Tandoor integration\n- route_health.gleam - Health checks \u0026 status\n- route_legacy.gleam - Legacy endpoints (for later removal)\n\nRequirements:\n✓ Each router module is a single responsibility function\n✓ Main router pipes requests through domain routers\n✓ Patterns are exhaustive and predictable\n✓ Uses Gleam idioms (piping, pattern matching)\n✓ Tests verify routing behavior with mock requests","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-15T12:39:16.917037713Z","updated_at":"2025-12-15T12:44:56.393811333Z","closed_at":"2025-12-15T12:44:56.393811333Z"}
{"id":"meal-planner-agent-sessions-archived","title":"[ARCHIVED] Agent Session Reports \u0026 Analysis","description":"ARCHIVED FROM: 2 agent session markdown files\n- AGENT22_SUMMARY.md (agent session summary)\n- CODE_REVIEW_REPORT.md (agent analysis)\n\nThese were historical agent execution logs and session summaries.\nAll actionable findings consolidated into active beads.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-14T13:58:38.832399365-06:00","updated_at":"2025-12-14T13:59:03.315625219-06:00","closed_at":"2025-12-14T13:59:03.315632692-06:00","labels":["agent-sessions","archived","historical"]}
{"id":"meal-planner-ah0","title":"LOW: Consolidate Type Definitions","description":"Reduce type definition duplication in /types/ (1,287 lines). Replace mirror structures (CuisineCreateRequest vs Cuisine) with generic request types using optional fields. Target: 100-150 lines reduction (10-15%).","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-15T04:13:51.561920488Z","updated_at":"2025-12-15T04:13:51.561920488Z"}
{"id":"meal-planner-ahh","title":"Implement missing list_foods_with_options function in Tandoor API","description":"","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-14T19:27:45.016000019-06:00","updated_at":"2025-12-15T03:08:35.24202437Z","closed_at":"2025-12-15T03:08:35.24202437Z"}
{"id":"meal-planner-aqq","title":"SECURITY: debug_oauth1 exposes sensitive crypto material","description":"client.gleam debug_oauth1(): Returns signing_key containing consumer_secret and token_secret. Remove function or secure by stripping secrets from output.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T20:41:47.340111091Z","updated_at":"2025-12-14T20:43:01.631099865Z","closed_at":"2025-12-14T20:43:01.631101415Z"}
{"id":"meal-planner-audit-completion","title":"[META] Bead System Audit Completion - 100% Verified","description":"Comprehensive 15-agent bead audit completed 2025-12-14.\n\nAUDIT RESULTS - 100% ACCURACY:\n✅ 7/7 production-critical beads verified against codebase\n✅ meal-planner-add-json-decoders updated (diary already has decoders)\n✅ Single source of truth established: Beads system authoritative\n\nCRITICAL FINDINGS:\nP0 Beads - All Verified Correct:\n- meal-planner-fix-recipe-scoring: Hardcoded data at line 158 ✅\n- meal-planner-fix-macros-calculator: No request parsing ✅\n- meal-planner-fix-diet-compliance: Mock recipe at lines 19-41 ✅\n\nP1 Beads - All Verified Correct:\n- meal-planner-integrate-diary-handlers: 824-line implementation ready for 0.5h integration ✅\n- meal-planner-add-api-middleware: 9 missing middleware items across 3 handlers ✅\n- meal-planner-add-json-decoders: UPDATED - diary endpoints already have decoders (parse_food_entry_input lines 445-636, parse_food_entry_update lines 640-682) ⚠️\n- meal-planner-implement-log-food: 501 Not Implemented endpoints ✅\n\nSYSTEM STATUS:\n- Total beads in system: 323\n- Active/open beads: 32\n- Critical production beads: 7\n- Accuracy rate: 100% (6/6 verified correct, 1/7 updated with accurate info)\n\nGOVERNANCE:\nBeads = Source of Truth for all task details, priorities, dependencies\nMarkdown = Reference only (API_BEADS.md + CLAUDE.md maintained)\n\nFILES ARCHIVED (to git history):\n1. GRADING_REPORT.md - Outdated\n2. AUDIT_CORRECTIONS_SUMMARY.md - Historical\n3. CONSOLIDATION_CHECKLIST.md - Completed\n4. DECODER_CONSOLIDATION_REPORT.md - Completed\n5. DECODER_CONSOLIDATION_SUMMARY.md - Completed\n6. AGENT22_SUMMARY.md - Historical\n7. PAGINATION_HELPERS_IMPLEMENTATION.md - Completed\n8. VALIDATION_REPORT.md - Superseded","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-14T13:57:56.341292675-06:00","updated_at":"2025-12-14T13:59:04.054131626-06:00","closed_at":"2025-12-14T13:59:04.054137772-06:00","labels":["audit","governance","meta","source-of-truth","verified"]}
{"id":"meal-planner-avm","title":"Implement FatSecret Exercise API endpoints","description":"Wire up Exercise tracking endpoints - SDK modules exist but handlers not implemented.\n\nEndpoints:\n- GET /api/fatsecret/exercises?q=running\n- GET /api/fatsecret/exercise-entries?date=YYYY-MM-DD\n- POST /api/fatsecret/exercise-entries\n- PUT/DELETE /api/fatsecret/exercise-entries/:id\n\nFiles: gleam/src/meal_planner/fatsecret/exercise/handlers.gleam","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-14T13:08:56.78052966-06:00","updated_at":"2025-12-15T03:31:46.210053418Z","closed_at":"2025-12-15T03:31:46.210053418Z","labels":["exercise","fatsecret","implementation"]}
{"id":"meal-planner-ays","title":"REFACTOR: Eliminate OAuth code duplication (60 lines)","description":"Duplicate oauth_encode, generate_nonce, int_to_hex, hex_digit, create_signature_base_string, create_signature. Client.gleam should import from oauth.gleam instead of redefining.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T20:41:48.173391032Z","updated_at":"2025-12-14T20:43:14.146541758Z","closed_at":"2025-12-14T20:43:14.146543848Z"}
{"id":"meal-planner-az9","title":"CRITICAL BUG: oauth_encode crashes on non-ASCII characters","description":"client.gleam line 126-129: Pattern match 'let assert \u003c\u003cbyte\u003e\u003e = \u003c\u003cchar:utf8\u003e\u003e' fails on multi-byte UTF-8 (e.g., 'crème'). Use oauth.gleam's encode_bytes approach or import from oauth module.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T20:41:46.619768309Z","updated_at":"2025-12-14T20:43:01.625793612Z","closed_at":"2025-12-14T20:43:01.625795462Z"}
{"id":"meal-planner-b3g","title":"Consolidate FatSecret handler error response patterns","description":"FatSecret handlers repeat error handling for:\n- NotConnected -\u003e 401 response\n- NotConfigured -\u003e 500 response\n- AuthRevoked -\u003e 401 response\n- EncryptionError -\u003e 500 response\n- ApiError/StorageError -\u003e 500 response\n\nhandlers_helpers.gleam has service_error_response() but:\n- recipes/handlers.gleam has its own error handling (not using helper)\n- handlers_refactored.gleam imports handlers_helpers but uses generic_crud pattern\n\nStandardize all error responses through service_error_response().\n\nGLEAM RULE 2: NO_NULLS_EVER - Use Result for all fallible ops","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-15T12:53:31.796152025Z","updated_at":"2025-12-15T15:36:42.84005653Z","closed_at":"2025-12-15T15:36:42.84005653Z"}
{"id":"meal-planner-c9a","title":"[MEDIUM] Add FatSecret Autocomplete endpoints","description":"Add autocomplete search for better UX:\n\nEndpoints needed:\n1. GET /api/fatsecret/foods/autocomplete\n2. GET /api/fatsecret/recipes/autocomplete\n\nFatSecret API methods:\n- foods.autocomplete.v2\n- recipes.autocomplete.v2\n\nParameters:\n- expression (required, min 2 chars)\n- max_results (optional, default 8)\n\nBenefits:\n- Type-ahead search functionality\n- Improved user experience\n- Faster food/recipe discovery\n\nImplementation needs:\n- Create autocomplete handlers\n- Add routing\n- Update OpenAPI spec","status":"in_progress","priority":2,"issue_type":"task","created_at":"2025-12-15T04:32:19.452931152Z","updated_at":"2025-12-15T19:22:23.357698756Z","labels":["fatsecret","medium","openapi"]}
{"id":"meal-planner-cdm","title":"Implement database validation for API keys","description":"API key validation currently not checking against database. TODO at line 269 in web/middleware.gleam. Need to verify keys against stored credentials.","status":"in_progress","priority":2,"issue_type":"task","created_at":"2025-12-15T03:16:22.172197199Z","updated_at":"2025-12-15T19:20:55.317327231Z","labels":["api","auth","middleware","security"]}
{"id":"meal-planner-chg","title":"CRITICAL BUG: get_current_time_ms returns hardcoded 0","description":"fallback.gleam line 344: get_current_time_ms() returns 0, breaking circuit breaker. Must use birl.now() and convert to milliseconds. BLOCKS fallback mechanism entirely.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T20:41:45.778588797Z","updated_at":"2025-12-14T20:43:01.620583927Z","closed_at":"2025-12-14T20:43:01.620587777Z"}
{"id":"meal-planner-cjj","title":"[MEDIUM] Add FatSecret Diary Copy/Template Operations","description":"Add advanced diary operations:\n\nEndpoints needed:\n1. POST /api/fatsecret/diary/copy-entries - Copy all entries between dates\n2. POST /api/fatsecret/diary/copy-meal - Copy entries between meal types\n3. POST /api/fatsecret/diary/commit-day - Commit/finalize a day\n4. POST /api/fatsecret/diary/save-template - Save day as template\n\nFatSecret API methods:\n- food_entry.copy\n- food_entry.copy_meal  \n- food_entry.commit_day\n- food_entry.save_template\n\nUse cases:\n- Meal planning: Copy successful days\n- Consistency: Repeat common meals\n- Templates: Save favorite meal combinations\n\nImplementation needs:\n- Add handlers in diary/handlers.gleam\n- Add routing\n- Update OpenAPI spec","status":"in_progress","priority":2,"issue_type":"task","created_at":"2025-12-15T04:32:20.27652659Z","updated_at":"2025-12-15T19:22:23.388092335Z","labels":["diary","fatsecret","medium"]}
{"id":"meal-planner-consolidation-archived","title":"[ARCHIVED] Decoder Consolidation \u0026 Implementation Reports","description":"ARCHIVED FROM: 5 consolidation markdown files\n- DECODER_CONSOLIDATION_REPORT.md\n- DECODER_CONSOLIDATION_SUMMARY.md\n- CONSOLIDATION_CHECKLIST.md\n- PAGINATION_HELPERS_IMPLEMENTATION.md\n- REVIEW_SUMMARY.md\n\nSTATUS: Completed tasks (meal-planner-1qa, meal-planner-nl9 closed)\nPagination helpers: Implementation complete\nCode review summary: Superseded by active beads\n\nAll technical findings consolidated into respective implementation beads.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-14T13:58:37.548315758-06:00","updated_at":"2025-12-14T13:59:02.539988083-06:00","closed_at":"2025-12-14T13:59:02.539993251-06:00","labels":["archived","completed","consolidation"]}
{"id":"meal-planner-d10","title":"Implement recipe scoring algorithm","description":"Recipe scoring logic is not implemented. TODO at line 52 in web/handlers/recipes.gleam. Currently returns stub response.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-15T03:16:22.154796613Z","updated_at":"2025-12-15T03:29:08.987936293Z","closed_at":"2025-12-15T03:29:08.987936293Z","labels":["ai","recipes","scoring"]}
{"id":"meal-planner-d44","title":"Implement JSON encoding/decoding for ImportLog handlers","description":"ImportLog handlers need JSON encoding/decoding implementation. TODOs at lines 144, 177 in import_export_handlers.gleam. Affects: handle_import_logs, handle_import_log endpoints.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-15T03:16:22.106016861Z","updated_at":"2025-12-15T16:03:28.810045661Z","closed_at":"2025-12-15T16:03:28.810045661Z","labels":["import-export","json","tandoor"]}
{"id":"meal-planner-d7j","title":"Implement FatSecret Diary API endpoints","description":"Wire up Diary API endpoints - SDK modules exist but handlers return wisp.not_found().\n\nEndpoints:\n- GET /api/fatsecret/diary?date=YYYY-MM-DD\n- POST /api/fatsecret/diary\n- PUT /api/fatsecret/diary/:entry_id\n- DELETE /api/fatsecret/diary/:entry_id\n- GET /api/fatsecret/diary/month\n\nFiles: gleam/src/meal_planner/fatsecret/diary/handlers.gleam","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-14T13:08:55.327898466-06:00","updated_at":"2025-12-15T18:46:36.348757631Z","closed_at":"2025-12-15T18:46:36.348757631Z","labels":["diary","fatsecret","implementation"]}
{"id":"meal-planner-dam","title":"Extract JSON encoding duplications in tandoor_cuisines.gleam","description":"The cuisine JSON encoding is repeated 4x in:\n- handle_list_cuisines() \n- handle_get_cuisine()\n- handle_create_cuisine()\n- handle_update_cuisine()\n\nEach has identical 9-field json.object([...]) structure. Extract encode_cuisine() helper function.\n\nGLEAM RULE 1: IMMUTABILITY_ABSOLUTE","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-15T12:53:19.661401832Z","updated_at":"2025-12-15T13:14:56.779239261Z","closed_at":"2025-12-15T13:14:56.779239261Z"}
{"id":"meal-planner-djv","title":"Implement database validation for OAuth tokens","description":"Token validation currently not checking against database. TODO at line 256 in web/middleware.gleam. Need to verify tokens against stored credentials.","status":"in_progress","priority":2,"issue_type":"task","created_at":"2025-12-15T03:16:22.166398584Z","updated_at":"2025-12-15T19:20:55.286271909Z","labels":["auth","middleware","security"]}
{"id":"meal-planner-dq6","title":"Implement JSON encoding/decoding for ExportLog handlers","description":"ExportLog handlers need JSON encoding/decoding implementation. TODOs at lines 300, 332, 373 in import_export_handlers.gleam. Affects: handle_export_logs, handle_export_log endpoints.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-15T03:16:22.112083246Z","updated_at":"2025-12-15T18:09:13.930266074Z","closed_at":"2025-12-15T18:09:13.930266074Z","labels":["import-export","json","tandoor"]}
{"id":"meal-planner-e7f","title":"Implement pre-commit hooks for code quality validation (format, build, test)","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-14T19:28:10.238820697-06:00","updated_at":"2025-12-15T18:10:22.20750966Z","closed_at":"2025-12-15T18:10:22.20750966Z"}
{"id":"meal-planner-edb","title":"Consolidate web.gleam and router.gleam into single module","description":"Consolidate web.gleam (server initialization) and web/router.gleam (routing logic) into a single unified web module to reduce file fragmentation and improve cohesion. This combines the HTTP server setup with route handling in one place.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-15T03:11:34.852387437Z","updated_at":"2025-12-15T03:13:24.413569958Z","closed_at":"2025-12-15T03:13:24.413572608Z","labels":["refactor"]}
{"id":"meal-planner-ef4","title":"Task 5: Coverage audit - document all implemented endpoints","description":"Create mapping of all 9 Gleam-implemented FatSecret functions to both wrapper and raw API endpoints in OpenAPI spec","notes":"COVERAGE AUDIT: FatSecret OpenAPI Implementation Mapping\n\n✅ COMPLETE: All 9 Gleam-implemented functions are fully documented in OpenAPI spec\n\nIMPLEMENTATION COVERAGE TABLE:\n\n| Module | Function | Wrapper Endpoint | Raw API Endpoint | Status |\n|--------|----------|------------------|------------------|--------|\n| diary/client.gleam | create_food_entry | POST /api/fatsecret/diary/entries | POST /food-entries/v1 | ✅ Implemented |\n| diary/client.gleam | get_food_entry | GET /api/fatsecret/diary/entries/:id | GET /food-entries/v2?food_entry_id={id} | ✅ Implemented |\n| diary/client.gleam | edit_food_entry | PATCH /api/fatsecret/diary/entries/:id | PUT /food-entries/v1 | ✅ Implemented |\n| diary/client.gleam | delete_food_entry | DELETE /api/fatsecret/diary/entries/:id | DELETE /food-entries/v1 | ✅ Implemented |\n| diary/client.gleam | get_food_entries | GET /api/fatsecret/diary/day/:dateInt | GET /food-entries/v2?date_int={dateInt} | ✅ Implemented |\n| diary/client.gleam | get_month_summary | GET /api/fatsecret/diary/month/:dateInt | GET /food-entries/month/v1?date_int={dateInt} | ✅ Implemented |\n| profile/handlers.gleam | create_profile | POST /api/fatsecret/profile | profile.create | ✅ Implemented |\n| profile/handlers.gleam | get_profile | GET /api/fatsecret/profile | profile.get | ✅ Implemented |\n| profile/handlers.gleam | get_profile_auth | GET /api/fatsecret/profile/auth/{userId} | - (wrapper-only) | ✅ Implemented |\n\nTOTAL: 9/9 functions (100% coverage)\n\nFUTURE WORK:\n- POST /food-entries/copy/v1 (copyFoodEntries) - Documented as planned in OpenAPI, not yet implemented in Gleam\n\nVALIDATION CHECKS:\n✅ All 17 error codes mapped (2,3,4,5,6,7,8,9,13,14,101,106,107,108,205,206,207)\n✅ FoodEntry schema complete with all 20 fields (12 required + 8 optional micronutrients)\n✅ Response format flexibility documented (single object, array, null)\n✅ OAuth1 security scheme configured for all raw endpoints\n✅ All error responses include ErrorResponse schema with error codes enumerated\n✅ Test coverage verified: 535 tests passing (includes 19 error decoder tests + 15 food entry decoder tests + edge cases)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T20:04:26.699052386Z","updated_at":"2025-12-15T20:10:35.337143686Z","closed_at":"2025-12-15T20:10:35.337143686Z"}
{"id":"meal-planner-efc","title":"[HIGH] Expose FatSecret Most/Recently Eaten endpoints","description":"Client code exists but web handlers are missing:\n\nEndpoints needed:\n1. GET /api/fatsecret/favorites/foods/most-eaten\n2. GET /api/fatsecret/favorites/foods/recently-eaten\n\nCurrent status:\n✅ Client code: fatsecret/favorites/client.gleam (implementation ready)\n❌ Web handlers: Not exposed in web/handlers/fatsecret.gleam\n❌ Routing: Not in web.gleam\n❌ OpenAPI: Not documented\n\nAction needed:\n1. Add handler functions in web/handlers/fatsecret.gleam\n2. Wire up routing in web.gleam\n3. Add to OpenAPI spec","status":"in_progress","priority":1,"issue_type":"task","created_at":"2025-12-15T04:32:18.653574763Z","updated_at":"2025-12-15T18:40:25.575092837Z","labels":["fatsecret","handlers","high"]}
{"id":"meal-planner-ewi","title":"TESTING: Re-enable 4 skipped test files","description":"Rename: oauth_test.gleam.skip→.gleam, http_integration_test.gleam.skip→.gleam, decoders_test.gleam.skip2→.gleam, recipe_encoder_test.gleam.skip→.gleam.","status":"in_progress","priority":2,"issue_type":"task","created_at":"2025-12-14T20:41:50.648356516Z","updated_at":"2025-12-15T18:40:25.785985267Z"}
{"id":"meal-planner-fd9","title":"[CRITICAL] Add Tandoor Meal Plan POST/DELETE to OpenAPI spec","description":"These endpoints are ALREADY EXPOSED in handlers but missing from OpenAPI spec!\n\nMissing endpoints:\n1. POST /api/tandoor/meal-plan - Create meal plan entry\n2. DELETE /api/tandoor/meal-plan/{id} - Delete meal plan entry\n\nCurrent OpenAPI only has:\n- GET /api/tandoor/meal-plans (list)\n- GET /api/tandoor/meal-plans/{id} (get one)\n\nSource: TANDOOR_API_REFERENCE.md lines 241-336\n\nAction needed:\n- Add POST and DELETE operations to OpenAPI spec\n- Verify handler implementation matches spec","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-15T04:32:17.524453796Z","updated_at":"2025-12-15T04:39:08.335922496Z","closed_at":"2025-12-15T04:39:08.335926796Z","labels":["critical","openapi","tandoor"]}
{"id":"meal-planner-fix-diet-compliance","title":"[CRITICAL-P1] Fix diet compliance endpoint to check actual recipes","description":"Diet compliance endpoint ignores recipe_id parameter and evaluates a hardcoded mock recipe instead.\n\nFile: gleam/src/meal_planner/web/handlers/diet.gleam:15\n\nProblem:\n- Lines 19-41: Mock recipe hardcoded\n- recipe_id parameter unused\n- No database lookup\n- No error handling for invalid ID\n\nRequired Changes:\n1. Fetch actual recipe from database using recipe_id\n2. Map database recipe to vertical_diet_compliance.Recipe type\n3. Pass actual recipe to compliance checker\n4. Handle errors: 400 (invalid ID), 404 (not found), 500 (DB error)\n\nGolden Rules Violated: Rule 5 (Error Handling), Rule 4 (JSON)","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-14T13:47:36.022859045-06:00","updated_at":"2025-12-14T20:52:16.716301117Z","closed_at":"2025-12-14T20:52:16.716301117Z","labels":["api","blocker","critical","database","golden-rule-5"]}
{"id":"meal-planner-fix-macros-calculator","title":"[CRITICAL-P1] Fix macros calculator endpoint to process requests","description":"Macros calculator has no request body parsing. Returns documentation/sample response regardless of input.\n\nFile: gleam/src/meal_planner/web/handlers/macros.gleam:13\n\nProblem:\n- No wisp.require_json to parse request body\n- Returns hardcoded example response\n- Missing middleware chain\n- No aggregation logic\n\nRequired Changes:\n1. Add wisp.require_json(req) to parse request body\n2. Define MacrosRequest type with recipes array\n3. Create JSON decoder for MacrosRequest\n4. Implement aggregation logic to sum macros across recipes\n5. Return actual calculated totals\n\nGolden Rules Violated: Rule 4 (JSON Handling), Rule 3 (Middleware)","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-14T13:47:35.9930699-06:00","updated_at":"2025-12-14T20:51:45.727127013Z","closed_at":"2025-12-14T20:51:45.727127013Z","labels":["api","blocker","critical","golden-rule-4","json-handling"]}
{"id":"meal-planner-fix-recipe-scoring","title":"[CRITICAL-P1] Fix recipe scoring endpoint to parse actual JSON requests","description":"Recipe scoring endpoint returns hardcoded sample data instead of parsing request body. Function read_scoring_request() ignores request parameter.\n\nFile: gleam/src/meal_planner/web/handlers/recipes.gleam:158\n\nProblem:\n- Line 158: fn read_scoring_request(_req) returns hardcoded ScoringRequest\n- Missing wisp.require_json to parse request body\n- Missing JSON decoder for ScoringRequest type\n- Missing middleware chain (rescue_crashes, handle_head)\n\nRequired Changes:\n1. Use wisp.require_json(req) to parse request body\n2. Create JSON decoder for ScoringRequest using gleam/dynamic/decode\n3. Define decoders for nested types (ScoringRecipeInput, MacroTargets, ScoringWeights)\n4. Add missing middleware (rescue_crashes, handle_head)\n\nGolden Rules Violated: Rule 4 (JSON Handling), Rule 3 (Middleware)","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-14T13:47:35.963490209-06:00","updated_at":"2025-12-14T20:51:17.221600923Z","closed_at":"2025-12-14T20:51:17.221600923Z","labels":["api","blocker","critical","golden-rule-4","json-handling"]}
{"id":"meal-planner-fp1","title":"Fix FatSecret Foods router pattern matching bug","description":"Router pattern matching order prevents /api/fatsecret/foods/search from being reached. The catch-all pattern for food_id matches before the specific 'search' pattern.\n\nFiles: gleam/src/meal_planner/web/router.gleam:73-77\nStatus: Code fix applied (swapped lines), needs rebuild and testing verification\n\nTest: curl http://localhost:8080/api/fatsecret/foods/search?q=apple should return food search results, not 404","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-14T13:08:50.974466991-06:00","updated_at":"2025-12-14T21:05:21.690458251Z","closed_at":"2025-12-14T21:05:21.690458251Z","labels":["critical","fatsecret","router"]}
{"id":"meal-planner-grading-report-archived","title":"[ARCHIVED] GLEAM API Endpoint Grading Report (2025-12-14)","description":"ARCHIVED FROM: GRADING_REPORT.md\nDate: 2025-12-14\nTotal Endpoints: 75+ (45 initial + 30+ FatSecret discovered)\nSwarm Analysis: 12 Agents (Parallel)\n\nEXECUTIVE SUMMARY:\n- Pass Rate: 90%+ (67+/75+)\n- Critical Issues: 3 endpoints (recipes, macros, diet - hardcoded/mock data)\n- Integration Issues: 1 major (diary router delegation)\n- Golden Rule Violations: 5 critical violations\n- Beads Required: 7 (from this analysis)\n\nGOLDEN RULES COMPLIANCE:\n✅ Rule 1 (Stack \u0026 Imports): 95% (43/45)\n✅ Rule 2 (Routing Strategy): 100% (45/45)\n⚠️  Rule 3 (Middleware): 78% (35/45) - 3 handlers missing middleware\n🔴 Rule 4 (JSON Handling): 65% (29/45) - Critical issues in recipes/macros/diet\n✅ Rule 5 (Error Handling): 88% (40/45)\n✅ Rule 6 (File Structure): 100% (45/45)\n✅ Rule 7 (No Magic): 92% (41/45)\n\nCRITICAL ISSUES IDENTIFIED:\n1. recipes.gleam:158 - HARDCODED SAMPLE DATA (fix-recipe-scoring bead)\n2. macros.gleam:13-62 - NO REQUEST PARSING (fix-macros-calculator bead)\n3. diet.gleam:19-41 - MOCK RECIPE DATA (fix-diet-compliance bead)\n4. diary router delegation - UNINTEGRATED (integrate-diary-handlers bead)\n5. Missing middleware chains - 3 endpoints (add-api-middleware bead)\n6. Missing JSON decoders - 16+ endpoints (add-json-decoders bead)\n7. Food logging unimplemented - 2 handlers (implement-log-food bead)\n\nBEADS CREATED FROM THIS REPORT:\n1. meal-planner-fix-recipe-scoring (P0)\n2. meal-planner-fix-macros-calculator (P0)\n3. meal-planner-fix-diet-compliance (P0)\n4. meal-planner-integrate-diary-handlers (P1)\n5. meal-planner-add-api-middleware (P1)\n6. meal-planner-add-json-decoders (P1)\n7. meal-planner-implement-log-food (P2)\n\nAll details consolidated into respective beads. This metadata bead preserved for reference.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-14T13:58:32.48675225-06:00","updated_at":"2025-12-14T13:59:00.502494654-06:00","closed_at":"2025-12-14T13:59:00.502501778-06:00","labels":["archived","evaluation","golden-rules","grading-report"]}
{"id":"meal-planner-h6j","title":"[HIGH] Add FatSecret Barcode Lookup endpoints to OpenAPI spec","description":"Add two missing barcode lookup endpoints:\n1. GET /api/fatsecret/foods/barcode/{barcode} - Find food by barcode\n2. Query param: barcode_type (upc, ean13, ean8)\n\nFatSecret API: food.find_id_for_barcode.v2\n\nPriority: HIGH - Very useful for mobile scanning apps\n\nImplementation needs:\n- Create handler in fatsecret/foods/handlers.gleam\n- Add to web.gleam routing\n- Add OpenAPI spec with path params and query params","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-15T04:32:16.532767363Z","updated_at":"2025-12-15T04:43:07.787948108Z","closed_at":"2025-12-15T04:43:07.787951738Z","labels":["fatsecret","high","openapi"]}
{"id":"meal-planner-h9w","title":"[LOW] Add FatSecret Profile Create/Auth endpoints","description":"Add profile creation and authentication endpoints:\n\nEndpoints needed:\n1. POST /api/fatsecret/profile - Create user profile\n2. GET /api/fatsecret/profile/auth - Get profile auth status\n\nFatSecret API methods:\n- profile.create\n- profile.get_auth\n\nProfile creation fields:\n- height_cm / height_measure\n- weight_kg / weight_measure  \n- goal_weight_kg\n- age, gender, activity_level\n\nNote: Lower priority as basic profile.get already exists\n\nImplementation needs:\n- Add handlers\n- Add routing\n- Update OpenAPI spec","notes":"Implemented FatSecret Profile endpoints with handlers, routing, and OpenAPI documentation. All 493 tests passing.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-15T04:32:25.424379898Z","updated_at":"2025-12-15T19:46:23.114303162Z","closed_at":"2025-12-15T19:46:23.114306242Z","labels":["fatsecret","low","profile"]}
{"id":"meal-planner-iho","title":"Implement profile/service.gleam service layer","description":"Create service layer wrapper for FatSecret profile API with auto-config loading and error translation","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T11:53:35.055096491-06:00","updated_at":"2025-12-14T11:56:03.129191612-06:00","closed_at":"2025-12-14T11:56:03.129191612-06:00","labels":["fatsecret","implementation","profile"]}
{"id":"meal-planner-implement-log-food","title":"[MEDIUM-P3] Implement food logging handlers","description":"Implement food logging feature with form UI and API endpoint.\n\nFiles:\n- gleam/src/meal_planner/web/handlers.gleam:71-90\n\nEndpoints to Implement:\n1. GET /log/food/{fdc_id} - Return HTML form for logging food\n2. POST /api/logs/food - Process food log submission\n\nCurrent Status:\nBoth handlers return HTTP 501 (Not Implemented)\n\nRequired Implementation:\n1. Create HTML form for user input (HTMX-compatible)\n   - Input for quantity/servings\n   - Date picker\n   - Food info display\n   - Submit button with hx-post to /api/logs/food\n\n2. Parse form submission\n   - Extract form data (food_id, quantity, date, etc.)\n   - Validate inputs\n   - Store in database\n\n3. Return success/error response\n   - Success: Return food log entry\n   - Error: Return validation errors\n\nDatabase integration required for food_logs table.\n\nGolden Rules Violations: Rule 6 (File Structure - unimplemented handlers)","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-14T13:47:36.153357831-06:00","updated_at":"2025-12-15T20:08:00.040523658Z","closed_at":"2025-12-15T20:08:00.040523658Z","labels":["feature","food-logging","html","medium"],"dependencies":[{"issue_id":"meal-planner-implement-log-food","depends_on_id":"meal-planner-add-json-decoders","type":"blocks","created_at":"2025-12-14T13:47:36.156315045-06:00","created_by":"daemon"}]}
{"id":"meal-planner-integrate-diary-handlers","title":"[QUICK-WIN-P2] Integrate FatSecret diary handlers into router (30min)","description":"QUICK WIN: FatSecret diary API is fully implemented (824 lines, production-ready) but NOT integrated into main router.\n\nFiles:\n- Router: gleam/src/meal_planner/web/router.gleam:170-197\n- Implementation: gleam/src/meal_planner/fatsecret/diary/handlers.gleam (COMPLETE, 824 lines)\n\nCurrent Status:\n- Router lines 170-197 return wisp.not_found() with TODO comments\n- But diary/handlers.gleam has COMPLETE production-ready implementation with:\n  * POST /api/fatsecret/diary/entries - Create food entry\n  * GET /api/fatsecret/diary/entries/:entry_id - Get single entry\n  * PATCH /api/fatsecret/diary/entries/:entry_id - Edit entry\n  * DELETE /api/fatsecret/diary/entries/:entry_id - Delete entry\n  * GET /api/fatsecret/diary/day/:date_int - Get all entries for date\n  * GET /api/fatsecret/diary/month/:date_int - Get month summary\n\nRequired Changes:\n1. Import diary handlers in router.gleam:\n   import meal_planner/fatsecret/diary/handlers as diary_handlers\n\n2. Replace TODO blocks (lines 170-197) with:\n   [\"api\", \"fatsecret\", \"diary\"] -\u003e diary_handlers.handle_diary_routes(req, ctx)\n\nImpact: 6 production-ready endpoints immediately unlocked with 30 minutes work!\n\nType: Integration (no new code, just delegation)","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-14T13:47:36.053849807-06:00","updated_at":"2025-12-15T03:26:41.699782373Z","closed_at":"2025-12-15T03:26:41.699782373Z","labels":["blocker","diary","fatsecret","high","integration","quick-win"]}
{"id":"meal-planner-jv4","title":"Extract duplicated get_authenticated_client() to tandoor helpers module","description":"The get_authenticated_client() function is duplicated across:\n- gleam/src/meal_planner/web/handlers/tandoor.gleam\n- gleam/src/meal_planner/web/handlers/tandoor_cuisines.gleam  \n- gleam/src/meal_planner/web/handlers/shopping_list.gleam\n\nThis is ~40 lines of duplicated code. Extract to meal_planner/tandoor/handlers/helpers.gleam.\n\nGLEAM RULE 7: FORMAT_OR_DEATH - Ensure gleam format compliance.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-15T12:53:19.553337227Z","updated_at":"2025-12-15T13:10:09.007369812Z","closed_at":"2025-12-15T13:10:09.007369812Z"}
{"id":"meal-planner-kbv","title":"Investigate Saved Meals endpoints returning 404","description":"All FatSecret Saved Meals endpoints return 404 Not Found despite having handlers and routes defined.\n\nAffected endpoints:\n- GET /api/fatsecret/saved-meals\n- POST /api/fatsecret/saved-meals\n- PUT /api/fatsecret/saved-meals/:id\n\nMay have shared root cause with Favorites issue.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-14T13:08:54.186720139-06:00","updated_at":"2025-12-15T18:07:46.451056844Z","closed_at":"2025-12-15T18:07:46.451056844Z","labels":["404","fatsecret","saved-meals"]}
{"id":"meal-planner-kbv.1","title":"Fix Favorites endpoints 404 - consolidate handlers","description":"Favorites endpoints are configured in routing but use outdated handlers. Consolidate handlers.gleam with handlers_refactored.gleam using proper request parsing and consolidation patterns.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-15T16:18:02.227813995Z","updated_at":"2025-12-15T16:19:42.94037698Z","closed_at":"2025-12-15T16:19:42.94037698Z","labels":["404","favorites","routing"],"dependencies":[{"issue_id":"meal-planner-kbv.1","depends_on_id":"meal-planner-kbv","type":"parent-child","created_at":"2025-12-15T16:18:02.22828614Z","created_by":"daemon"}]}
{"id":"meal-planner-kbv.2","title":"Remove duplicate handlers_refactored.gleam file","description":"Remove the duplicate handler file gleam/src/meal_planner/fatsecret/favorites/handlers_refactored.gleam that has incorrect imports and is not being used. Active file is handlers.gleam.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T16:25:57.237218797Z","updated_at":"2025-12-15T16:26:21.944307156Z","closed_at":"2025-12-15T16:26:21.944307156Z","dependencies":[{"issue_id":"meal-planner-kbv.2","depends_on_id":"meal-planner-kbv","type":"parent-child","created_at":"2025-12-15T16:25:57.23769343Z","created_by":"daemon"}]}
{"id":"meal-planner-lw1","title":"Implement request body parsing for ImportLog create/update","description":"CreateRequest and UpdateRequest JSON body parsing not implemented. TODOs at lines 167, 201 in import_export_handlers.gleam.","notes":"Implemented request body parsing for ImportLog create/update with JSON decoders. Added POST handler and individual item handlers (GET by ID, PATCH, DELETE). All tests passing.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-15T03:16:22.124244937Z","updated_at":"2025-12-15T18:21:47.097933342Z","closed_at":"2025-12-15T18:21:47.097937702Z","labels":["import-export","json-parsing"]}
{"id":"meal-planner-lxv","title":"[SDK] Fix embedded types in ingredient.gleam","description":"Remove embedded Food and Unit types from types/recipe/ingredient.gleam, import from canonical locations.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-14T12:28:46.027048428-06:00","updated_at":"2025-12-14T13:24:22.93735378-06:00","closed_at":"2025-12-14T13:24:22.93735378-06:00","labels":["refactor","sdk"]}
{"id":"meal-planner-m1u","title":"Implement diary/handlers.gleam web handlers","description":"Create Wisp web handlers for diary endpoints","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T11:53:38.217453306-06:00","updated_at":"2025-12-14T12:07:08.998237155-06:00","closed_at":"2025-12-14T12:07:08.998245606-06:00","labels":["diary","fatsecret","handlers","implementation"]}
{"id":"meal-planner-may","title":"Update fatsecret.gleam main module exports","description":"Add Exercise and Profile service exports to main facade module","notes":"Implemented Exercise and Profile service exports in fatsecret.gleam facade module","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T11:53:39.469763409-06:00","updated_at":"2025-12-14T11:58:53.890151494-06:00","closed_at":"2025-12-14T11:58:53.890157221-06:00","labels":["exports","fatsecret","refactor"]}
{"id":"meal-planner-mhc","title":"Write comprehensive Tandoor + FatSecret integration tests (TDD)","description":"Create tests that validate both APIs work end-to-end. Use real API responses from specs as fixtures. RED phase: tests must fail for correct reasons.","status":"in_progress","priority":2,"issue_type":"task","created_at":"2025-12-15T19:19:55.439961596Z","updated_at":"2025-12-15T19:20:48.974188803Z"}
{"id":"meal-planner-mxk","title":"Implement exercise handlers - authorization and body parsing","description":"FatSecret exercise handlers missing authorization header extraction and JSON body parsing. TODOs at lines 112, 148, 149, 202, 234, 270, 271 in exercise/handlers.gleam. Affects GET/POST/PUT/DELETE exercise endpoints.","status":"in_progress","priority":1,"issue_type":"feature","created_at":"2025-12-15T03:16:22.136403167Z","updated_at":"2025-12-15T18:22:01.040815141Z","labels":["api","exercise","fatsecret"]}
{"id":"meal-planner-n2l","title":"FINAL: gleam test + gleam format --check (TCR gating)","description":"All tests PASS. All code formatted. This gates merge to main.","status":"in_progress","priority":2,"issue_type":"task","created_at":"2025-12-15T19:19:55.451554883Z","updated_at":"2025-12-15T19:20:43.446191844Z"}
{"id":"meal-planner-n79","title":"Implement web routes for Exercise API endpoints","description":"Web router has placeholder TODOs for exercise handlers at lines 242, 250, 254, 262, 266 in web.gleam. Need: GET /api/fatsecret/exercises, POST/PUT/DELETE /api/fatsecret/exercise-entries/:id","status":"in_progress","priority":1,"issue_type":"feature","created_at":"2025-12-15T03:16:22.142266102Z","updated_at":"2025-12-15T18:38:55.41019462Z","labels":["exercise","routing","web"]}
{"id":"meal-planner-n86","title":"MEDIUM: Consolidate Handler JSON Transforms","description":"Refactor /web/handlers/tandoor.gleam (10,239 lines). Extract pagination response building and error response helpers used repeatedly. Target: 200-300 lines reduction (3-4%).","status":"in_progress","priority":2,"issue_type":"task","created_at":"2025-12-15T04:13:48.251639614Z","updated_at":"2025-12-15T19:22:23.29472509Z"}
{"id":"meal-planner-nl9","title":"[SDK] Consolidate recipe decoders","description":"Keep recipe_decoder.gleam as entry point, remove embedded decoders (use imports), delete recipe_basic_decoder.gleam, refactor recipe_detail_decoder.gleam.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-14T12:28:46.091039636-06:00","updated_at":"2025-12-14T13:45:36.976208542-06:00","closed_at":"2025-12-14T13:45:36.976208542-06:00","labels":["refactor","sdk"],"dependencies":[{"issue_id":"meal-planner-nl9","depends_on_id":"meal-planner-3ea","type":"blocks","created_at":"2025-12-14T12:28:53.188279361-06:00","created_by":"daemon"}]}
{"id":"meal-planner-nlo","title":"Implement FatSecret Weight API endpoints","description":"Wire up Weight tracking endpoints - SDK fully implemented but handlers are stubs.\n\nEndpoints:\n- GET /api/fatsecret/weight?date=YYYY-MM-DD\n- POST /api/fatsecret/weight\n- GET /api/fatsecret/weight/month\n\nFiles: gleam/src/meal_planner/fatsecret/weight/handlers.gleam","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-14T13:08:57.965509742-06:00","updated_at":"2025-12-15T03:31:46.222072725Z","closed_at":"2025-12-15T03:31:46.222072725Z","labels":["fatsecret","implementation","weight"]}
{"id":"meal-planner-ogk","title":"Fix FatSecret types/decoders to match OpenAPI spec","description":"Update any FatSecret types that don't align with openapi.yaml. Ensure complete endpoint coverage and correct types.","status":"in_progress","priority":2,"issue_type":"task","created_at":"2025-12-15T19:19:55.434233236Z","updated_at":"2025-12-15T19:20:35.536301231Z"}
{"id":"meal-planner-oh2","title":"Implement missing Tandoor API handlers (12 endpoints)","description":"Extend tandoor.gleam handler to expose all backend API implementations. Currently 3/17 endpoints implemented (17.6% coverage).\n\n**Priority 1 - Core Recipe Management:**\n- Recipes: list, get\n- Steps: list, create, get, update, delete  \n- Meal Plans: list, create, get, delete\n\n**Priority 2 - Supporting:**\n- Ingredients: list\n- Import/Export logs: list\n\n**Root Cause:** tandoor.gleam handler incomplete - routed but not implemented.\n\n**Effort:** ~4-6 hours\n\n**Backend Status:** ✅ All APIs ready in gleam/src/meal_planner/tandoor/api/\n\nSee TANDOOR_OPENAPI_VALIDATION_REPORT.md for full analysis.","notes":"✅ ALL WORK COMPLETED\n\nPriority 1 (Completed):\n✅ Recipes CRUD handlers (list, get, create, update, delete)\n✅ Meal Plans CRUD handlers (list, get, create, update, delete)  \n✅ Steps CRUD handlers (list, get, create, update, delete)\n\nPriority 2 (Completed):\n✅ Ingredients list handler\n✅ Import/Export Logs list handlers (both import and export)\n\nImplementation Summary:\n- Added 12+ HTTP endpoints to expose all backend APIs\n- Implemented type-safe JSON encoding/decoding for all resource types\n- Added pagination support for list endpoints\n- Used opaque types for safe ID handling (RecipeId, MealPlanId, etc.)\n- Proper optional field handling with Option types\n- All tests pass (444 passed)\n- Pre-commit quality gates enforced (format, build, test)\n\nResult: 100% endpoint coverage achieved. Handler layer now fully exposes all available Tandoor APIs.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T04:44:49.554285153Z","updated_at":"2025-12-15T16:22:37.80666003Z","closed_at":"2025-12-15T16:22:37.80666288Z"}
{"id":"meal-planner-op9","title":"Fix FatSecret Diary API Response Parsing","description":"Add comprehensive decoder tests for food_entries.get API","notes":"Comprehensive FatSecret food_entries.get decoder tests completed with 15 test cases covering single entries, multiple entries, optional fields, and meal type variants. All 490 tests passing.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T19:23:30.434542726Z","updated_at":"2025-12-15T19:41:11.594909919Z","closed_at":"2025-12-15T19:41:11.594913619Z"}
{"id":"meal-planner-ox1","title":"Task 1: Add error code 207 (NoEntries) to FatSecretError","description":"Add missing error code 207 from FatSecret API to errors.gleam. This code is returned when no diary entries exist for a given date.","notes":"PASS: Added error code 207 (NoEntries) to ApiErrorCode enum and all conversion functions (code_from_int, code_to_int, code_to_string)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T20:04:26.675048385Z","updated_at":"2025-12-15T20:05:07.655945562Z","closed_at":"2025-12-15T20:05:07.655949352Z"}
{"id":"meal-planner-pbp","title":"Implement diary/client.gleam HTTP client","description":"Create HTTP client for FatSecret diary API endpoints (food entries, summaries)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T11:53:36.332440444-06:00","updated_at":"2025-12-14T11:58:28.789672811-06:00","closed_at":"2025-12-14T11:58:28.789672811-06:00","labels":["client","diary","fatsecret","implementation"]}
{"id":"meal-planner-qms","title":"HIGH: Consolidate Decoder Duplication","description":"Refactor /tandoor/decoders/ (2,345 lines). Create decoder combinators for nested type patterns. recipe_detail_decoder.gleam shows extensive duplication. Target: 400-600 lines reduction (25-30%).","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-15T04:13:46.307886677Z","updated_at":"2025-12-15T19:31:41.456534311Z","closed_at":"2025-12-15T19:31:41.456534311Z"}
{"id":"meal-planner-r2q","title":"HIGH: Extract Query Parameter Builders","description":"Consolidate query parameter building logic from multiple list.gleam files (food, recipe, cuisine, unit). Create reusable pagination and optional parameter helpers. Target: 150-200 lines reduction (40-50%).","status":"in_progress","priority":1,"issue_type":"task","created_at":"2025-12-15T04:13:47.35189791Z","updated_at":"2025-12-15T18:40:25.5453133Z"}
{"id":"meal-planner-r4d","title":"Configure Agent Mail MCP coordination for multi-agent workflows","description":"","status":"in_progress","priority":2,"issue_type":"task","created_at":"2025-12-14T19:27:57.608722861-06:00","updated_at":"2025-12-15T18:40:25.726694792Z"}
{"id":"meal-planner-rk2","title":"INEFFICIENCY: oauth_encode verbose alphanumeric pattern matching","description":"client.gleam \u0026 oauth.gleam: Individually lists A-Z, a-z, 0-9. Use character code ranges (48-57, 65-90, 97-122) or helper predicates instead.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T20:41:49.749541219Z","updated_at":"2025-12-14T20:43:38.068067071Z","closed_at":"2025-12-14T20:43:38.068069291Z"}
{"id":"meal-planner-rmc","title":"Implement web routes for Weight API endpoints","description":"Web router has placeholder TODOs for weight handlers at lines 278, 282, 290 in web.gleam. Need: GET/POST /api/fatsecret/weight, GET /api/fatsecret/weight/month","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-15T03:16:22.148422368Z","updated_at":"2025-12-15T03:31:46.228831823Z","closed_at":"2025-12-15T03:31:46.228831823Z","labels":["fatsecret","routing","web","weight"]}
{"id":"meal-planner-rzh","title":"INEFFICIENCY: pow() uses O(N) recursion on floats","description":"fallback.gleam line 351-357: Recursive power calculation prone to stack overflow. Replace with math library or iterative approach.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T20:41:49.063851049Z","updated_at":"2025-12-14T20:43:19.262057291Z","closed_at":"2025-12-14T20:43:19.262060561Z"}
{"id":"meal-planner-slf","title":"Implement request body parsing for ExportLog create/update","description":"CreateRequest and UpdateRequest JSON body parsing not implemented. TODOs at lines 322, 356 in import_export_handlers.gleam.","notes":"Implemented request body parsing for ExportLog create/update with JSON decoders. Added POST handler and individual item handlers (GET by ID, PATCH, DELETE). All tests passing.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-15T03:16:22.130291012Z","updated_at":"2025-12-15T18:21:54.117584135Z","closed_at":"2025-12-15T18:21:54.117587685Z","labels":["import-export","json-parsing"]}
{"id":"meal-planner-sv5","title":"[CRITICAL] Comprehensive Integration Tests for All 65+ API Endpoints","description":"Create comprehensive integration tests following Google SWE best practices:\n\n**Scope:** 65+ endpoints (25 Tandoor + 40 FatSecret)\n**Coverage:** Happy path + 4 edge cases per endpoint = ~195 tests total\n\n**Requirements:**\n- Real credentials from PostgreSQL database\n- OpenAPI spec compliance validation  \n- All types match up correctly\n- Idiomatic Gleam following all 7 commandments\n- TDD workflow (Test-Commit-Revert)\n\n**Test Structure:**\n- Happy path: 200/201/204 status, valid JSON, required fields\n- Edge cases: 400 (invalid params), 401/403 (auth), 404 (not found), network/timeout\n\n**Success Criteria:**\n- All 65+ endpoints covered\n- Tests use real database credentials\n- Tests skip gracefully without credentials\n- All tests pass with server running\n- Code passes gleam format --check\n\n**Plan:** /home/lewis/.claude/plans/curried-marinating-sphinx.md","status":"open","priority":1,"issue_type":"epic","created_at":"2025-12-15T20:41:48.415479008Z","updated_at":"2025-12-15T20:41:48.415479008Z"}
{"id":"meal-planner-sv5.1","title":"[P1] Phase 1: Build Test Infrastructure Foundation","description":"Create core helper modules that all integration tests depend on.\n\n**Deliverables:**\n1. gleam/test/integration/helpers/http.gleam - HTTP client wrapper\n   - Functions: get(), post(), patch(), delete()\n   - Error types: ServerNotRunning, NetworkError, InvalidUrl\n   - Base URL: http://localhost:8080\n\n2. gleam/test/integration/helpers/credentials.gleam - Credential loader\n   - Load Tandoor creds from env (TANDOOR_URL, USERNAME, PASSWORD)  \n   - Load FatSecret OAuth from PostgreSQL (decrypt with OAUTH_ENCRYPTION_KEY)\n   - Functions: load(), has_fatsecret(), has_tandoor()\n   - Types: Credentials, TandoorCreds, FatSecretCreds\n\n3. gleam/test/integration/helpers/assertions.gleam - Common assertions\n   - assert_status(response, expected)\n   - assert_valid_json(body)\n   - assert_has_field(body, field_name)\n   - assert_positive_number(body, field_name)\n\n**Dependencies:**\n- Uses existing: gleam/src/meal_planner/fatsecret/storage.gleam\n- Uses existing: gleam/httpc module\n- No new dependencies needed\n\n**Test Strategy:**\n- Write failing tests for each helper (RED)\n- Implement helper to pass tests (GREEN)\n- Refactor for clarity (REFACTOR)\n- Commit: \"PASS: \u003chelper name\u003e\"\n\n**Success Criteria:**\n- All 3 helper modules created\n- Each helper has unit tests  \n- Code passes gleam format --check\n- Existing 5 tests still pass with new helpers","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-15T20:42:36.331134474Z","updated_at":"2025-12-15T20:42:36.331134474Z","dependencies":[{"issue_id":"meal-planner-sv5.1","depends_on_id":"meal-planner-sv5","type":"parent-child","created_at":"2025-12-15T20:42:36.331452371Z","created_by":"daemon"}]}
{"id":"meal-planner-sv5.1.1","title":"Create HTTP client helper module","description":"File: gleam/test/integration/helpers/http.gleam\n\n**Implementation:**\n```gleam\nconst base_url = \"http://localhost:8080\"\n\npub type HttpError {\n  ServerNotRunning\n  NetworkError(String)\n  InvalidUrl(String)\n}\n\npub fn get(path: String) -\u003e Result(#(Int, String), HttpError)\npub fn post(path: String, body: String) -\u003e Result(#(Int, String), HttpError)\npub fn patch(path: String, body: String) -\u003e Result(#(Int, String), HttpError)\npub fn delete(path: String) -\u003e Result(#(Int, String), HttpError)\n```\n\n**TDD Steps:**\n1. Write test: test_http_get_returns_tuple_test() - MUST FAIL\n2. Implement get() using gleam/httpc\n3. Verify test passes - COMMIT: \"PASS: HTTP GET helper\"\n4. Repeat for post, patch, delete\n\n**Success Criteria:**\n- All 4 HTTP methods implemented\n- Returns tuple (status_code, body)\n- Consistent error handling\n- Unit tests for each method","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-15T20:43:07.297971062Z","updated_at":"2025-12-15T20:43:07.297971062Z","dependencies":[{"issue_id":"meal-planner-sv5.1.1","depends_on_id":"meal-planner-sv5.1","type":"parent-child","created_at":"2025-12-15T20:43:07.298388677Z","created_by":"daemon"}]}
{"id":"meal-planner-sv5.1.2","title":"Create credentials loader module","description":"File: gleam/test/integration/helpers/credentials.gleam\n\n**Implementation:**\n```gleam\npub type Credentials {\n  Credentials(\n    tandoor: Option(TandoorCreds),\n    fatsecret: Option(FatSecretCreds),\n  )\n}\n\npub type TandoorCreds {\n  TandoorCreds(base_url: String, username: String, password: String)\n}\n\npub type FatSecretCreds {\n  FatSecretCreds(oauth_token: String, oauth_token_secret: String)\n}\n\npub fn load() -\u003e Credentials\npub fn has_fatsecret(creds: Credentials) -\u003e Bool\npub fn has_tandoor(creds: Credentials) -\u003e Bool\n```\n\n**Dependencies:**\n- Uses: gleam/src/meal_planner/fatsecret/storage.gleam\n- Reads: DATABASE_* env vars for PostgreSQL connection\n- Reads: OAUTH_ENCRYPTION_KEY for token decryption\n- Reads: TANDOOR_* env vars\n\n**TDD Steps:**\n1. Write test: test_load_returns_credentials_test() - FAIL\n2. Implement load() with env and DB access\n3. Test passes - COMMIT: \"PASS: Credentials loader\"\n\n**Success Criteria:**\n- Loads Tandoor from env\n- Loads FatSecret from PostgreSQL (decrypted)\n- Returns Option types (graceful if missing)\n- Helper functions for checking availability","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-15T20:43:08.079518671Z","updated_at":"2025-12-15T20:43:08.079518671Z","dependencies":[{"issue_id":"meal-planner-sv5.1.2","depends_on_id":"meal-planner-sv5.1","type":"parent-child","created_at":"2025-12-15T20:43:08.079809027Z","created_by":"daemon"}]}
{"id":"meal-planner-sv5.1.3","title":"Create assertion helpers module","description":"File: gleam/test/integration/helpers/assertions.gleam\n\n**Implementation:**\n```gleam\npub fn assert_status(response: #(Int, String), expected: Int)\npub fn assert_valid_json(body: String) -\u003e Result(String, String)\npub fn assert_has_field(body: String, field_name: String)\npub fn assert_has_array(body: String, field_name: String)\npub fn assert_positive_number(body: String, field_name: String)\npub fn assert_non_empty_string(body: String, field_name: String)\n```\n\n**Purpose:**\n- Eliminate repetitive assertion code across 195 tests\n- Provide clear, descriptive error messages\n- Composable with pipe operator\n\n**TDD Steps:**\n1. Write test: test_assert_status_validates_code_test() - FAIL\n2. Implement assert_status()\n3. Test passes - COMMIT: \"PASS: Status assertion\"\n4. Repeat for each assertion helper\n\n**Success Criteria:**\n- All 6 assertion helpers implemented\n- Clear error messages on failure\n- Can be piped together\n- Unit tests for each assertion","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-15T20:43:09.393453122Z","updated_at":"2025-12-15T20:43:09.393453122Z","dependencies":[{"issue_id":"meal-planner-sv5.1.3","depends_on_id":"meal-planner-sv5.1","type":"parent-child","created_at":"2025-12-15T20:43:09.393738699Z","created_by":"daemon"}]}
{"id":"meal-planner-sv5.1.4","title":"Verify foundation helpers work with existing 5 tests","description":"**Goal:** Ensure new helper modules integrate seamlessly with existing tests.\n\n**File:** gleam/test/endpoint_integration_test.gleam\n\n**Test:**\n1. Refactor existing 5 tests to use new helpers\n2. Replace http_get() with helpers/http.get()\n3. Replace credential checks with helpers/credentials.load()\n4. Replace assertions with helpers/assertions.*\n\n**Verification:**\n```bash\ncd gleam\ngleam test -- --module endpoint_integration_test\n```\n\n**Expected:** All 5 existing tests still pass\n\n**Success Criteria:**\n- Existing tests use new helper modules\n- No regression (all 5 tests pass)\n- Code is cleaner/shorter with helpers\n- Ready for Phase 2 expansion","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-15T20:43:10.183325478Z","updated_at":"2025-12-15T20:43:10.183325478Z","dependencies":[{"issue_id":"meal-planner-sv5.1.4","depends_on_id":"meal-planner-sv5.1","type":"parent-child","created_at":"2025-12-15T20:43:10.183629345Z","created_by":"daemon"}]}
{"id":"meal-planner-sv5.2","title":"[P1] Phase 2: Expand FatSecret Integration Tests (5→57 tests)","description":"Extend endpoint_integration_test.gleam from 5 to 57 comprehensive FatSecret tests.\n\n**Current State (5 tests):**\n✅ Diary day (GET /api/fatsecret/diary/day/:dateInt)\n✅ Diary month (GET /api/fatsecret/diary/month/:dateInt)\n✅ Foods search (GET /api/fatsecret/foods/search)\n✅ Food details (GET /api/fatsecret/foods/:id)\n✅ Profile (GET /api/fatsecret/profile)\n\n**Add 52 New Tests:**\n\n**OAuth (4 tests):**\n- GET /fatsecret/connect → 302 redirect\n- GET /fatsecret/status → 200 with auth status\n- POST /fatsecret/disconnect → 200 success\n- Edge: Disconnect when not connected → 404\n\n**Foods (2 new + 4 edge = 6 tests):**\n- GET /api/fatsecret/foods/autocomplete\n- Edge: Empty query → 400, Invalid ID → 404, Numeric strings\n\n**Recipes (5 + 4 edge = 9 tests):**\n- Autocomplete, Types, Search, Search by Type, Details\n- Edge: Empty query, Invalid recipe ID\n\n**Favorites (8 + 4 edge = 12 tests):**\n- Foods: List, Add, Delete, Most eaten, Recently eaten\n- Recipes: List, Add, Delete\n- Edge: Empty list, Duplicate add, Delete non-existent\n\n**Diary CRUD (4 + 4 edge = 8 tests):**\n- POST /entries (create), GET /entries/:id, PATCH /entries/:id, DELETE /entries/:id\n- Edge: Zero-calorie bug, Invalid date_int, Expired token\n\n**Saved Meals (3 + 2 edge = 5 tests):**\n- GET, POST, PUT\n- Edge: Empty list, Invalid meal ID\n\n**Profile (1 new + 2 edge = 3 tests):**\n- POST /api/fatsecret/profile  \n- Edge: Profile not set, Invalid weight/height\n\n**Dependencies:**\n- Requires: meal-planner-sv5 Phase 1 (helper modules)\n- File: gleam/test/endpoint_integration_test.gleam\n\n**Test Pattern:**\n- Follow existing pattern (descriptive output, curl commands, debugging tips)\n- Use helper modules from Phase 1\n- Skip tests gracefully if FatSecret not configured\n\n**Success Criteria:**\n- 52 new tests added (5 → 57 total)\n- All tests follow TDD (RED → GREEN → REFACTOR)\n- Each test has happy path + edge cases\n- Tests use database credentials via helpers","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-15T20:42:37.399757444Z","updated_at":"2025-12-15T20:42:37.399757444Z","dependencies":[{"issue_id":"meal-planner-sv5.2","depends_on_id":"meal-planner-sv5","type":"parent-child","created_at":"2025-12-15T20:42:37.400171899Z","created_by":"daemon"}]}
{"id":"meal-planner-sv5.3","title":"[P1] Phase 3: Create Tandoor Integration Tests (36 tests)","description":"Create new test file: gleam/test/tandoor_integration_test.gleam with 36 comprehensive tests.\n\n**Test Breakdown:**\n\n**Status \u0026 Metadata (3 tests):**\n- GET /tandoor/status\n- GET /api/tandoor/units  \n- GET /api/tandoor/keywords\n\n**Recipes (2 + 4 edge = 6 tests):**\n- GET /api/tandoor/recipes (list with pagination)\n- POST /api/tandoor/recipes (create)\n- Edge: Invalid data, Pagination limits, 404 on non-existent\n\n**Meal Plans (2 + 4 edge = 6 tests):**\n- GET /api/tandoor/meal-plans\n- POST /api/tandoor/meal-plans\n- Edge: Invalid dates, Missing fields\n\n**Shopping Lists (3 + 4 edge = 7 tests):**\n- GET /api/tandoor/shopping-list-entries\n- POST /api/tandoor/shopping-list-entries\n- POST /api/tandoor/shopping-list-recipe\n- Edge: Invalid recipe ID, Duplicate entries\n\n**Supermarkets (4 + 4 edge = 8 tests):**\n- GET /api/tandoor/supermarkets\n- POST /api/tandoor/supermarkets\n- GET /api/tandoor/supermarket-categories  \n- POST /api/tandoor/supermarket-categories\n- Edge: Duplicate names, Invalid category ID\n\n**Import/Export (4 + 2 edge = 6 tests):**\n- GET /api/tandoor/import-logs\n- POST /api/tandoor/import-logs\n- GET /api/tandoor/export-logs\n- POST /api/tandoor/export-logs\n- Edge: Invalid log ID, Missing parameters\n\n**Dependencies:**\n- Requires: meal-planner-sv5 Phase 1 (helper modules)\n- Creates: gleam/test/tandoor_integration_test.gleam (new file)\n\n**Test Pattern:**\n- Same pattern as endpoint_integration_test.gleam\n- Use Tandoor credentials from env (TANDOOR_URL, USERNAME, PASSWORD)\n- Skip tests gracefully if Tandoor not configured\n\n**Success Criteria:**\n- New file created with 36 tests\n- All tests follow TDD workflow\n- Tests validate status codes and JSON structure\n- Code passes gleam format --check","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-15T20:42:38.450493312Z","updated_at":"2025-12-15T20:42:38.450493312Z","dependencies":[{"issue_id":"meal-planner-sv5.3","depends_on_id":"meal-planner-sv5","type":"parent-child","created_at":"2025-12-15T20:42:38.450901827Z","created_by":"daemon"}]}
{"id":"meal-planner-sv5.4","title":"[P2] Phase 4: Add OpenAPI Schema Validation (Stretch Goal)","description":"Add response validation against OpenAPI spec constraints.\n\n**Module:** gleam/test/integration/helpers/openapi_validator.gleam\n\n**Validator Functions:**\n- validate_recipe(recipe: Recipe) -\u003e Result(Nil, String)\n- validate_food(food: Food) -\u003e Result(Nil, String)  \n- validate_diary_entry(entry: DiaryEntry) -\u003e Result(Nil, String)\n- validate_meal_plan(plan: MealPlan) -\u003e Result(Nil, String)\n\n**Checks:**\n- Required fields are non-empty\n- Numeric constraints (servings \u003e 0, calories \u003e= 0)\n- String patterns (valid UUIDs, date formats)\n- Array constraints (min/max length)\n\n**Integration:**\n- Extend existing tests with schema validation\n- Use existing decoders (meal_planner/tandoor/decoders/)\n- Add constraint checks on top of type checks\n\n**Dependencies:**\n- Requires: Phase 2 \u0026 3 complete\n- Uses: openapi.yaml as source of truth\n- Uses: Existing decoders\n\n**Success Criteria:**\n- Validator module created\n- Critical endpoints have schema validation\n- Validation failures are descriptive\n- Tests still pass (validation doesn't break existing tests)\n\n**Note:** This is a stretch goal - not blocking for MVP","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-15T20:42:39.52276493Z","updated_at":"2025-12-15T20:42:39.52276493Z","dependencies":[{"issue_id":"meal-planner-sv5.4","depends_on_id":"meal-planner-sv5","type":"parent-child","created_at":"2025-12-15T20:42:39.523287044Z","created_by":"daemon"}]}
{"id":"meal-planner-t3u","title":"Document Fractal Quality Loop workflow for systematic code validation","description":"","status":"in_progress","priority":2,"issue_type":"task","created_at":"2025-12-14T19:28:15.902696948-06:00","updated_at":"2025-12-15T18:40:25.7565465Z"}
{"id":"meal-planner-uka","title":"Fix FatSecret Diary API Response Parsing","description":"Add comprehensive decoder tests for FatSecret food_entries.get API response format. Tests validate: single entries, multiple entries, empty responses, optional field handling, and real API response structure from https://platform.fatsecret.com/docs/v2/food_entries.get","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-15T19:23:26.117813766Z","updated_at":"2025-12-15T20:02:16.819539343Z","closed_at":"2025-12-15T20:02:16.819539343Z","labels":["decoders","fatsecret","parsing","tests"]}
{"id":"meal-planner-validation-reports-archived","title":"[ARCHIVED] API Validation Reports (FatSecret/Weight/Exercise/OAuth)","description":"ARCHIVED FROM: 12 validation markdown files\n- HANDLER_VALIDATION_REPORT.md\n- FATSECRET_FOODS_VALIDATION_SUMMARY.md\n- FATSECRET_RECIPES_VALIDATION.md\n- FATSECRET_SAVED_MEALS_DECODER_VALIDATION.md\n- WEIGHT_DECODER_VALIDATION_REPORT.md\n- WEIGHT_MODULE_VALIDATION_REPORT.md\n- WEIGHT_MODULE_FIXES_SUMMARY.md\n- EXERCISE_DECODER_VALIDATION_REPORT.md\n- FATSECRET_CLIENT_VALIDATION_REPORT.md\n- FATSECRET_OAUTH_VALIDATION_REPORT.md\n- OAUTH_VALIDATION_REPORT.md\n- VALIDATION_REPORT.md\n\nCONSOLIDATION: All validation findings consolidated into respective API beads.\nThese reports were validation/evaluation documents. All technical details stored in beads system.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-14T13:58:34.903385573-06:00","updated_at":"2025-12-14T13:59:01.513400451-06:00","closed_at":"2025-12-14T13:59:01.513406248-06:00","labels":["archived","evaluation","validation"]}
{"id":"meal-planner-wh9","title":"GREEN phase: implement missing endpoints + fix test failures","description":"Make all tests pass. Implement any missing client functions. Update decoders if needed.","status":"in_progress","priority":2,"issue_type":"task","created_at":"2025-12-15T19:19:55.445881883Z","updated_at":"2025-12-15T19:20:53.490058686Z"}
{"id":"meal-planner-x1y","title":"Audit Tandoor SDK against API spec - types/decoders","description":"Review gleam/src/meal_planner/tandoor/types/* and decoders/* against Tandoor (2.3.6).yaml. Ensure all fields match spec, opaque IDs are used, Option types for nullable fields. Document any gaps.","status":"in_progress","priority":2,"issue_type":"task","created_at":"2025-12-15T19:19:55.409486258Z","updated_at":"2025-12-15T19:20:45.690424142Z"}
