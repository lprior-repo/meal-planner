{"id":"meal-planner-1k1","title":"Document SPARC workflow and phases for meal-planner project","description":"","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-14T19:27:34.187177636-06:00","updated_at":"2025-12-14T19:27:34.187177636-06:00"}
{"id":"meal-planner-1qa","title":"[SDK] Extract decoders from client.gleam","description":"Remove decoder code (lines 1022-1340) from client.gleam, import from decoders/ directory. Make client HTTP-focused only.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-14T12:28:46.058918875-06:00","updated_at":"2025-12-14T13:45:36.941083492-06:00","closed_at":"2025-12-14T13:45:36.941083492-06:00","labels":["refactor","sdk"],"dependencies":[{"issue_id":"meal-planner-1qa","depends_on_id":"meal-planner-3ea","type":"blocks","created_at":"2025-12-14T12:28:53.135602608-06:00","created_by":"daemon"}]}
{"id":"meal-planner-20x","title":"Implement persistent rate limiting","description":"Rate limiting placeholder needs persistent storage implementation (Redis/database). TODO at line 292 in web/middleware.gleam.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-15T03:16:22.178218104Z","updated_at":"2025-12-15T03:16:22.178218104Z","labels":["middleware","performance","rate-limiting"]}
{"id":"meal-planner-23m","title":"Implement diary/service.gleam service layer","description":"Create service layer wrapper for diary API with auto-config loading","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T11:53:37.270070334-06:00","updated_at":"2025-12-14T12:03:09.197638424-06:00","closed_at":"2025-12-14T12:03:09.197638424-06:00","labels":["diary","fatsecret","implementation","service"]}
{"id":"meal-planner-27a","title":"Resolve TandoorFood type inconsistency: 2-field vs 8-field vs 16-field mismatch","description":"","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-14T19:27:39.892305175-06:00","updated_at":"2025-12-15T03:08:09.717734449Z","closed_at":"2025-12-15T03:08:09.717734449Z"}
{"id":"meal-planner-2sn","title":"Setup Beads viewer (bv) for task intelligence and parallel planning","description":"","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-14T19:28:03.809251736-06:00","updated_at":"2025-12-14T19:28:03.809251736-06:00"}
{"id":"meal-planner-3ea","title":"[SDK] Consolidate type system to types/ directory","description":"Delete types.gleam, extract types from client.gleam (lines 894-1009), establish types/ as single source of truth. Update 30+ imports. Impact: ~250 lines removed, eliminates 3 parallel hierarchies.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-14T12:28:45.981043804-06:00","updated_at":"2025-12-14T13:45:36.905983096-06:00","closed_at":"2025-12-14T13:45:36.905983096-06:00","labels":["foundation","refactor","sdk"]}
{"id":"meal-planner-3zq","title":"Re-enable dashboard handlers when module is available","description":"Dashboard handlers disabled with TODO at lines 52, 62 in web/handlers.gleam. Waiting for dashboard module availability.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-15T03:16:22.184597279Z","updated_at":"2025-12-15T03:16:22.184597279Z","labels":["dashboard","handlers","refactor"]}
{"id":"meal-planner-5tv","title":"Re-enable food logging handlers when module is available","description":"Food logging handlers disabled with TODO at line 72 in web/handlers.gleam. Waiting for foods module availability.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-15T03:16:22.190660984Z","updated_at":"2025-12-15T03:16:22.190660984Z","labels":["food-logging","handlers","refactor"]}
{"id":"meal-planner-6zj","title":"Fix update_food parameter name: change 'food' to 'food_data'","description":"","status":"open","priority":1,"issue_type":"bug","created_at":"2025-12-14T19:27:50.72845582-06:00","updated_at":"2025-12-14T19:27:50.72845582-06:00"}
{"id":"meal-planner-71q","title":"Parse ingredients from recipe steps when available","description":"Tandoor recipe mapper doesn't extract ingredients from recipe steps. TODO at line 103 in tandoor/mapper.gleam. This improves data completeness.","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-15T03:16:26.18637433Z","updated_at":"2025-12-15T03:16:26.18637433Z","labels":["parsing","recipes","tandoor"]}
{"id":"meal-planner-766","title":"Fix image upload - requires binary body support in HTTP module","description":"Image upload functionality is blocked because the HTTP module doesn't support binary request bodies. This affects recipe image uploads in Tandoor integration. Files: image.gleam, image_stub_temp.gleam","status":"open","priority":0,"issue_type":"feature","created_at":"2025-12-15T03:16:22.087825085Z","updated_at":"2025-12-15T03:16:22.087825085Z","labels":["critical","image-upload","tandoor"]}
{"id":"meal-planner-796","title":"Investigate Favorites endpoints returning 404","description":"All FatSecret Favorites endpoints return 404 Not Found despite having handlers and routes defined.\n\nAffected endpoints:\n- GET /api/fatsecret/favorites/foods\n- GET /api/fatsecret/favorites/foods/most-eaten\n- GET /api/fatsecret/favorites/recipes\n\nNeed to verify handler exports, module imports, and pattern matching with verbose logging.","status":"open","priority":1,"issue_type":"bug","created_at":"2025-12-14T13:08:53.070196527-06:00","updated_at":"2025-12-14T13:08:53.070196527-06:00","labels":["404","fatsecret","favorites"]}
{"id":"meal-planner-7gw","title":"Complete MealPlan API implementation","description":"MealPlan API endpoints in tandoor/client.gleam are incomplete with FIXME markers at lines 1659, 1727, 1809. Needs full implementation of meal plan CRUD operations.","status":"open","priority":0,"issue_type":"feature","created_at":"2025-12-15T03:16:22.099577236Z","updated_at":"2025-12-15T03:16:22.099577236Z","labels":["critical","mealplan","tandoor"]}
{"id":"meal-planner-9jm","title":"Fix FatSecret Recipes search parser error","description":"Recipe search endpoint fetches data from API successfully but fails to parse the JSON response.\n\nError: 'Failed to parse recipe search'\nEndpoint: GET /api/fatsecret/recipes/search?q=chicken\n\nFiles to investigate:\n- gleam/src/meal_planner/fatsecret/recipes/decoders.gleam\n- gleam/src/meal_planner/web/handlers.gleam","status":"open","priority":1,"issue_type":"bug","created_at":"2025-12-14T13:08:51.929374019-06:00","updated_at":"2025-12-14T13:08:51.929374019-06:00","labels":["fatsecret","parser","recipes"]}
{"id":"meal-planner-a4h","title":"[SDK] Extract CRUD helpers for API boilerplate","description":"Create api/crud_helpers.gleam with 6 generic functions (get_resource, create_resource, update_resource, delete_resource, list_resources_paginated, build_query_params). Migrate 27 API files. Impact: 87% reduction (731 ‚Üí 90 lines).","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-14T12:28:37.201633493-06:00","updated_at":"2025-12-14T13:45:36.798802898-06:00","closed_at":"2025-12-14T13:45:36.798802898-06:00","labels":["high-roi","refactor","sdk"]}
{"id":"meal-planner-a4p","title":"Parse query parameters in ImportLog/ExportLog list handlers","description":"List handlers need to parse query parameters for limit/offset pagination. TODO at line 97 in import_export_handlers.gleam. Affects: handle_import_logs, handle_export_logs.","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-15T03:16:22.118133601Z","updated_at":"2025-12-15T03:16:22.118133601Z","labels":["import-export","query-params"]}
{"id":"meal-planner-add-api-middleware","title":"[HIGH-P2] Add missing middleware chains to API handlers","description":"Three legacy API endpoints missing the standard middleware chain for robustness.\n\nFiles:\n- gleam/src/meal_planner/web/handlers/recipes.gleam:111\n- gleam/src/meal_planner/web/handlers/macros.gleam:13\n- gleam/src/meal_planner/web/handlers/diet.gleam:15\n\nRequired Middleware Chain (on all 3 handlers):\n  use \u003c- wisp.log_request(req)\n  use \u003c- wisp.rescue_crashes\n  use req \u003c- wisp.handle_head(req)\n\nMiddleware Purpose:\n- log_request: HTTP request logging for debugging/monitoring\n- rescue_crashes: Catch panics, return 500 gracefully\n- handle_head: Convert HEAD requests to GET responses\n\nGolden Rules Violated: Rule 3 (Middleware \u0026 Control Flow)","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-14T13:47:36.083864539-06:00","updated_at":"2025-12-14T20:49:26.632698429Z","closed_at":"2025-12-14T20:49:26.632698429Z","labels":["golden-rule-3","high","middleware","quality"],"dependencies":[{"issue_id":"meal-planner-add-api-middleware","depends_on_id":"meal-planner-fix-recipe-scoring","type":"blocks","created_at":"2025-12-14T13:47:36.086161266-06:00","created_by":"daemon"},{"issue_id":"meal-planner-add-api-middleware","depends_on_id":"meal-planner-fix-macros-calculator","type":"blocks","created_at":"2025-12-14T13:47:36.088209847-06:00","created_by":"daemon"},{"issue_id":"meal-planner-add-api-middleware","depends_on_id":"meal-planner-fix-diet-compliance","type":"blocks","created_at":"2025-12-14T13:47:36.089882543-06:00","created_by":"daemon"}]}
{"id":"meal-planner-add-json-decoders","title":"[HIGH-P2] Add JSON decoders for type-safe request parsing","description":"Add JSON decoders for type-safe request parsing to multiple endpoints.\n\nIMPORTANT UPDATE (2025-12-14): FatSecret diary endpoints already have comprehensive decoders:\n‚úÖ POST /api/fatsecret/diary/entries - parse_food_entry_input implemented\n‚úÖ PATCH /api/fatsecret/diary/entries/:entry_id - parse_food_entry_update implemented\n\nRemaining work:\n‚ùå POST /api/ai/score-recipe - NEEDS ScoringRequest decoder\n‚ùå POST /api/macros/calculate - NEEDS MacrosRequest decoder\n? POST /api/fatsecret/saved-meals - Verify decoder status\n? Other POST/PUT endpoints - Check coverage\n\nGolden Rules Violated: Rule 4 (JSON Handling)","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-14T13:47:36.120229929-06:00","updated_at":"2025-12-15T03:04:28.378429064Z","labels":["blocker","golden-rule-4","high","json-decoders","type-safety"],"dependencies":[{"issue_id":"meal-planner-add-json-decoders","depends_on_id":"meal-planner-add-api-middleware","type":"blocks","created_at":"2025-12-14T13:47:36.123147404-06:00","created_by":"daemon"}]}
{"id":"meal-planner-agent-sessions-archived","title":"[ARCHIVED] Agent Session Reports \u0026 Analysis","description":"ARCHIVED FROM: 2 agent session markdown files\n- AGENT22_SUMMARY.md (agent session summary)\n- CODE_REVIEW_REPORT.md (agent analysis)\n\nThese were historical agent execution logs and session summaries.\nAll actionable findings consolidated into active beads.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-14T13:58:38.832399365-06:00","updated_at":"2025-12-14T13:59:03.315625219-06:00","closed_at":"2025-12-14T13:59:03.315632692-06:00","labels":["agent-sessions","archived","historical"]}
{"id":"meal-planner-ahh","title":"Implement missing list_foods_with_options function in Tandoor API","description":"","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-14T19:27:45.016000019-06:00","updated_at":"2025-12-15T03:08:35.24202437Z","closed_at":"2025-12-15T03:08:35.24202437Z"}
{"id":"meal-planner-aqq","title":"SECURITY: debug_oauth1 exposes sensitive crypto material","description":"client.gleam debug_oauth1(): Returns signing_key containing consumer_secret and token_secret. Remove function or secure by stripping secrets from output.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T20:41:47.340111091Z","updated_at":"2025-12-14T20:43:01.631099865Z","closed_at":"2025-12-14T20:43:01.631101415Z"}
{"id":"meal-planner-audit-completion","title":"[META] Bead System Audit Completion - 100% Verified","description":"Comprehensive 15-agent bead audit completed 2025-12-14.\n\nAUDIT RESULTS - 100% ACCURACY:\n‚úÖ 7/7 production-critical beads verified against codebase\n‚úÖ meal-planner-add-json-decoders updated (diary already has decoders)\n‚úÖ Single source of truth established: Beads system authoritative\n\nCRITICAL FINDINGS:\nP0 Beads - All Verified Correct:\n- meal-planner-fix-recipe-scoring: Hardcoded data at line 158 ‚úÖ\n- meal-planner-fix-macros-calculator: No request parsing ‚úÖ\n- meal-planner-fix-diet-compliance: Mock recipe at lines 19-41 ‚úÖ\n\nP1 Beads - All Verified Correct:\n- meal-planner-integrate-diary-handlers: 824-line implementation ready for 0.5h integration ‚úÖ\n- meal-planner-add-api-middleware: 9 missing middleware items across 3 handlers ‚úÖ\n- meal-planner-add-json-decoders: UPDATED - diary endpoints already have decoders (parse_food_entry_input lines 445-636, parse_food_entry_update lines 640-682) ‚ö†Ô∏è\n- meal-planner-implement-log-food: 501 Not Implemented endpoints ‚úÖ\n\nSYSTEM STATUS:\n- Total beads in system: 323\n- Active/open beads: 32\n- Critical production beads: 7\n- Accuracy rate: 100% (6/6 verified correct, 1/7 updated with accurate info)\n\nGOVERNANCE:\nBeads = Source of Truth for all task details, priorities, dependencies\nMarkdown = Reference only (API_BEADS.md + CLAUDE.md maintained)\n\nFILES ARCHIVED (to git history):\n1. GRADING_REPORT.md - Outdated\n2. AUDIT_CORRECTIONS_SUMMARY.md - Historical\n3. CONSOLIDATION_CHECKLIST.md - Completed\n4. DECODER_CONSOLIDATION_REPORT.md - Completed\n5. DECODER_CONSOLIDATION_SUMMARY.md - Completed\n6. AGENT22_SUMMARY.md - Historical\n7. PAGINATION_HELPERS_IMPLEMENTATION.md - Completed\n8. VALIDATION_REPORT.md - Superseded","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-14T13:57:56.341292675-06:00","updated_at":"2025-12-14T13:59:04.054131626-06:00","closed_at":"2025-12-14T13:59:04.054137772-06:00","labels":["audit","governance","meta","source-of-truth","verified"]}
{"id":"meal-planner-avm","title":"Implement FatSecret Exercise API endpoints","description":"Wire up Exercise tracking endpoints - SDK modules exist but handlers not implemented.\n\nEndpoints:\n- GET /api/fatsecret/exercises?q=running\n- GET /api/fatsecret/exercise-entries?date=YYYY-MM-DD\n- POST /api/fatsecret/exercise-entries\n- PUT/DELETE /api/fatsecret/exercise-entries/:id\n\nFiles: gleam/src/meal_planner/fatsecret/exercise/handlers.gleam","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-14T13:08:56.78052966-06:00","updated_at":"2025-12-14T13:08:56.78052966-06:00","labels":["exercise","fatsecret","implementation"]}
{"id":"meal-planner-ays","title":"REFACTOR: Eliminate OAuth code duplication (60 lines)","description":"Duplicate oauth_encode, generate_nonce, int_to_hex, hex_digit, create_signature_base_string, create_signature. Client.gleam should import from oauth.gleam instead of redefining.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T20:41:48.173391032Z","updated_at":"2025-12-14T20:43:14.146541758Z","closed_at":"2025-12-14T20:43:14.146543848Z"}
{"id":"meal-planner-az9","title":"CRITICAL BUG: oauth_encode crashes on non-ASCII characters","description":"client.gleam line 126-129: Pattern match 'let assert \u003c\u003cbyte\u003e\u003e = \u003c\u003cchar:utf8\u003e\u003e' fails on multi-byte UTF-8 (e.g., 'cr√®me'). Use oauth.gleam's encode_bytes approach or import from oauth module.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T20:41:46.619768309Z","updated_at":"2025-12-14T20:43:01.625793612Z","closed_at":"2025-12-14T20:43:01.625795462Z"}
{"id":"meal-planner-cdm","title":"Implement database validation for API keys","description":"API key validation currently not checking against database. TODO at line 269 in web/middleware.gleam. Need to verify keys against stored credentials.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-15T03:16:22.172197199Z","updated_at":"2025-12-15T03:16:22.172197199Z","labels":["api","auth","middleware","security"]}
{"id":"meal-planner-chg","title":"CRITICAL BUG: get_current_time_ms returns hardcoded 0","description":"fallback.gleam line 344: get_current_time_ms() returns 0, breaking circuit breaker. Must use birl.now() and convert to milliseconds. BLOCKS fallback mechanism entirely.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T20:41:45.778588797Z","updated_at":"2025-12-14T20:43:01.620583927Z","closed_at":"2025-12-14T20:43:01.620587777Z"}
{"id":"meal-planner-consolidation-archived","title":"[ARCHIVED] Decoder Consolidation \u0026 Implementation Reports","description":"ARCHIVED FROM: 5 consolidation markdown files\n- DECODER_CONSOLIDATION_REPORT.md\n- DECODER_CONSOLIDATION_SUMMARY.md\n- CONSOLIDATION_CHECKLIST.md\n- PAGINATION_HELPERS_IMPLEMENTATION.md\n- REVIEW_SUMMARY.md\n\nSTATUS: Completed tasks (meal-planner-1qa, meal-planner-nl9 closed)\nPagination helpers: Implementation complete\nCode review summary: Superseded by active beads\n\nAll technical findings consolidated into respective implementation beads.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-14T13:58:37.548315758-06:00","updated_at":"2025-12-14T13:59:02.539988083-06:00","closed_at":"2025-12-14T13:59:02.539993251-06:00","labels":["archived","completed","consolidation"]}
{"id":"meal-planner-d10","title":"Implement recipe scoring algorithm","description":"Recipe scoring logic is not implemented. TODO at line 52 in web/handlers/recipes.gleam. Currently returns stub response.","status":"open","priority":1,"issue_type":"feature","created_at":"2025-12-15T03:16:22.154796613Z","updated_at":"2025-12-15T03:16:22.154796613Z","labels":["ai","recipes","scoring"]}
{"id":"meal-planner-d44","title":"Implement JSON encoding/decoding for ImportLog handlers","description":"ImportLog handlers need JSON encoding/decoding implementation. TODOs at lines 144, 177 in import_export_handlers.gleam. Affects: handle_import_logs, handle_import_log endpoints.","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-15T03:16:22.106016861Z","updated_at":"2025-12-15T03:16:22.106016861Z","labels":["import-export","json","tandoor"]}
{"id":"meal-planner-d7j","title":"Implement FatSecret Diary API endpoints","description":"Wire up Diary API endpoints - SDK modules exist but handlers return wisp.not_found().\n\nEndpoints:\n- GET /api/fatsecret/diary?date=YYYY-MM-DD\n- POST /api/fatsecret/diary\n- PUT /api/fatsecret/diary/:entry_id\n- DELETE /api/fatsecret/diary/:entry_id\n- GET /api/fatsecret/diary/month\n\nFiles: gleam/src/meal_planner/fatsecret/diary/handlers.gleam","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-14T13:08:55.327898466-06:00","updated_at":"2025-12-14T13:08:55.327898466-06:00","labels":["diary","fatsecret","implementation"]}
{"id":"meal-planner-djv","title":"Implement database validation for OAuth tokens","description":"Token validation currently not checking against database. TODO at line 256 in web/middleware.gleam. Need to verify tokens against stored credentials.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-15T03:16:22.166398584Z","updated_at":"2025-12-15T03:16:22.166398584Z","labels":["auth","middleware","security"]}
{"id":"meal-planner-dq6","title":"Implement JSON encoding/decoding for ExportLog handlers","description":"ExportLog handlers need JSON encoding/decoding implementation. TODOs at lines 300, 332, 373 in import_export_handlers.gleam. Affects: handle_export_logs, handle_export_log endpoints.","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-15T03:16:22.112083246Z","updated_at":"2025-12-15T03:16:22.112083246Z","labels":["import-export","json","tandoor"]}
{"id":"meal-planner-e7f","title":"Implement pre-commit hooks for code quality validation (format, build, test)","description":"","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-14T19:28:10.238820697-06:00","updated_at":"2025-12-14T19:28:10.238820697-06:00"}
{"id":"meal-planner-edb","title":"Consolidate web.gleam and router.gleam into single module","description":"Consolidate web.gleam (server initialization) and web/router.gleam (routing logic) into a single unified web module to reduce file fragmentation and improve cohesion. This combines the HTTP server setup with route handling in one place.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-15T03:11:34.852387437Z","updated_at":"2025-12-15T03:13:24.413569958Z","closed_at":"2025-12-15T03:13:24.413572608Z","labels":["refactor"]}
{"id":"meal-planner-ewi","title":"TESTING: Re-enable 4 skipped test files","description":"Rename: oauth_test.gleam.skip‚Üí.gleam, http_integration_test.gleam.skip‚Üí.gleam, decoders_test.gleam.skip2‚Üí.gleam, recipe_encoder_test.gleam.skip‚Üí.gleam.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-14T20:41:50.648356516Z","updated_at":"2025-12-14T20:44:20.121206514Z"}
{"id":"meal-planner-fix-diet-compliance","title":"[CRITICAL-P1] Fix diet compliance endpoint to check actual recipes","description":"Diet compliance endpoint ignores recipe_id parameter and evaluates a hardcoded mock recipe instead.\n\nFile: gleam/src/meal_planner/web/handlers/diet.gleam:15\n\nProblem:\n- Lines 19-41: Mock recipe hardcoded\n- recipe_id parameter unused\n- No database lookup\n- No error handling for invalid ID\n\nRequired Changes:\n1. Fetch actual recipe from database using recipe_id\n2. Map database recipe to vertical_diet_compliance.Recipe type\n3. Pass actual recipe to compliance checker\n4. Handle errors: 400 (invalid ID), 404 (not found), 500 (DB error)\n\nGolden Rules Violated: Rule 5 (Error Handling), Rule 4 (JSON)","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-14T13:47:36.022859045-06:00","updated_at":"2025-12-14T20:52:16.716301117Z","closed_at":"2025-12-14T20:52:16.716301117Z","labels":["api","blocker","critical","database","golden-rule-5"]}
{"id":"meal-planner-fix-macros-calculator","title":"[CRITICAL-P1] Fix macros calculator endpoint to process requests","description":"Macros calculator has no request body parsing. Returns documentation/sample response regardless of input.\n\nFile: gleam/src/meal_planner/web/handlers/macros.gleam:13\n\nProblem:\n- No wisp.require_json to parse request body\n- Returns hardcoded example response\n- Missing middleware chain\n- No aggregation logic\n\nRequired Changes:\n1. Add wisp.require_json(req) to parse request body\n2. Define MacrosRequest type with recipes array\n3. Create JSON decoder for MacrosRequest\n4. Implement aggregation logic to sum macros across recipes\n5. Return actual calculated totals\n\nGolden Rules Violated: Rule 4 (JSON Handling), Rule 3 (Middleware)","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-14T13:47:35.9930699-06:00","updated_at":"2025-12-14T20:51:45.727127013Z","closed_at":"2025-12-14T20:51:45.727127013Z","labels":["api","blocker","critical","golden-rule-4","json-handling"]}
{"id":"meal-planner-fix-recipe-scoring","title":"[CRITICAL-P1] Fix recipe scoring endpoint to parse actual JSON requests","description":"Recipe scoring endpoint returns hardcoded sample data instead of parsing request body. Function read_scoring_request() ignores request parameter.\n\nFile: gleam/src/meal_planner/web/handlers/recipes.gleam:158\n\nProblem:\n- Line 158: fn read_scoring_request(_req) returns hardcoded ScoringRequest\n- Missing wisp.require_json to parse request body\n- Missing JSON decoder for ScoringRequest type\n- Missing middleware chain (rescue_crashes, handle_head)\n\nRequired Changes:\n1. Use wisp.require_json(req) to parse request body\n2. Create JSON decoder for ScoringRequest using gleam/dynamic/decode\n3. Define decoders for nested types (ScoringRecipeInput, MacroTargets, ScoringWeights)\n4. Add missing middleware (rescue_crashes, handle_head)\n\nGolden Rules Violated: Rule 4 (JSON Handling), Rule 3 (Middleware)","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-14T13:47:35.963490209-06:00","updated_at":"2025-12-14T20:51:17.221600923Z","closed_at":"2025-12-14T20:51:17.221600923Z","labels":["api","blocker","critical","golden-rule-4","json-handling"]}
{"id":"meal-planner-fp1","title":"Fix FatSecret Foods router pattern matching bug","description":"Router pattern matching order prevents /api/fatsecret/foods/search from being reached. The catch-all pattern for food_id matches before the specific 'search' pattern.\n\nFiles: gleam/src/meal_planner/web/router.gleam:73-77\nStatus: Code fix applied (swapped lines), needs rebuild and testing verification\n\nTest: curl http://localhost:8080/api/fatsecret/foods/search?q=apple should return food search results, not 404","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-14T13:08:50.974466991-06:00","updated_at":"2025-12-14T21:05:21.690458251Z","closed_at":"2025-12-14T21:05:21.690458251Z","labels":["critical","fatsecret","router"]}
{"id":"meal-planner-grading-report-archived","title":"[ARCHIVED] GLEAM API Endpoint Grading Report (2025-12-14)","description":"ARCHIVED FROM: GRADING_REPORT.md\nDate: 2025-12-14\nTotal Endpoints: 75+ (45 initial + 30+ FatSecret discovered)\nSwarm Analysis: 12 Agents (Parallel)\n\nEXECUTIVE SUMMARY:\n- Pass Rate: 90%+ (67+/75+)\n- Critical Issues: 3 endpoints (recipes, macros, diet - hardcoded/mock data)\n- Integration Issues: 1 major (diary router delegation)\n- Golden Rule Violations: 5 critical violations\n- Beads Required: 7 (from this analysis)\n\nGOLDEN RULES COMPLIANCE:\n‚úÖ Rule 1 (Stack \u0026 Imports): 95% (43/45)\n‚úÖ Rule 2 (Routing Strategy): 100% (45/45)\n‚ö†Ô∏è  Rule 3 (Middleware): 78% (35/45) - 3 handlers missing middleware\nüî¥ Rule 4 (JSON Handling): 65% (29/45) - Critical issues in recipes/macros/diet\n‚úÖ Rule 5 (Error Handling): 88% (40/45)\n‚úÖ Rule 6 (File Structure): 100% (45/45)\n‚úÖ Rule 7 (No Magic): 92% (41/45)\n\nCRITICAL ISSUES IDENTIFIED:\n1. recipes.gleam:158 - HARDCODED SAMPLE DATA (fix-recipe-scoring bead)\n2. macros.gleam:13-62 - NO REQUEST PARSING (fix-macros-calculator bead)\n3. diet.gleam:19-41 - MOCK RECIPE DATA (fix-diet-compliance bead)\n4. diary router delegation - UNINTEGRATED (integrate-diary-handlers bead)\n5. Missing middleware chains - 3 endpoints (add-api-middleware bead)\n6. Missing JSON decoders - 16+ endpoints (add-json-decoders bead)\n7. Food logging unimplemented - 2 handlers (implement-log-food bead)\n\nBEADS CREATED FROM THIS REPORT:\n1. meal-planner-fix-recipe-scoring (P0)\n2. meal-planner-fix-macros-calculator (P0)\n3. meal-planner-fix-diet-compliance (P0)\n4. meal-planner-integrate-diary-handlers (P1)\n5. meal-planner-add-api-middleware (P1)\n6. meal-planner-add-json-decoders (P1)\n7. meal-planner-implement-log-food (P2)\n\nAll details consolidated into respective beads. This metadata bead preserved for reference.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-14T13:58:32.48675225-06:00","updated_at":"2025-12-14T13:59:00.502494654-06:00","closed_at":"2025-12-14T13:59:00.502501778-06:00","labels":["archived","evaluation","golden-rules","grading-report"]}
{"id":"meal-planner-iho","title":"Implement profile/service.gleam service layer","description":"Create service layer wrapper for FatSecret profile API with auto-config loading and error translation","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T11:53:35.055096491-06:00","updated_at":"2025-12-14T11:56:03.129191612-06:00","closed_at":"2025-12-14T11:56:03.129191612-06:00","labels":["fatsecret","implementation","profile"]}
{"id":"meal-planner-implement-log-food","title":"[MEDIUM-P3] Implement food logging handlers","description":"Implement food logging feature with form UI and API endpoint.\n\nFiles:\n- gleam/src/meal_planner/web/handlers.gleam:71-90\n\nEndpoints to Implement:\n1. GET /log/food/{fdc_id} - Return HTML form for logging food\n2. POST /api/logs/food - Process food log submission\n\nCurrent Status:\nBoth handlers return HTTP 501 (Not Implemented)\n\nRequired Implementation:\n1. Create HTML form for user input (HTMX-compatible)\n   - Input for quantity/servings\n   - Date picker\n   - Food info display\n   - Submit button with hx-post to /api/logs/food\n\n2. Parse form submission\n   - Extract form data (food_id, quantity, date, etc.)\n   - Validate inputs\n   - Store in database\n\n3. Return success/error response\n   - Success: Return food log entry\n   - Error: Return validation errors\n\nDatabase integration required for food_logs table.\n\nGolden Rules Violations: Rule 6 (File Structure - unimplemented handlers)","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-14T13:47:36.153357831-06:00","updated_at":"2025-12-14T13:47:36.153357831-06:00","labels":["feature","food-logging","html","medium"],"dependencies":[{"issue_id":"meal-planner-implement-log-food","depends_on_id":"meal-planner-add-json-decoders","type":"blocks","created_at":"2025-12-14T13:47:36.156315045-06:00","created_by":"daemon"}]}
{"id":"meal-planner-integrate-diary-handlers","title":"[QUICK-WIN-P2] Integrate FatSecret diary handlers into router (30min)","description":"QUICK WIN: FatSecret diary API is fully implemented (824 lines, production-ready) but NOT integrated into main router.\n\nFiles:\n- Router: gleam/src/meal_planner/web/router.gleam:170-197\n- Implementation: gleam/src/meal_planner/fatsecret/diary/handlers.gleam (COMPLETE, 824 lines)\n\nCurrent Status:\n- Router lines 170-197 return wisp.not_found() with TODO comments\n- But diary/handlers.gleam has COMPLETE production-ready implementation with:\n  * POST /api/fatsecret/diary/entries - Create food entry\n  * GET /api/fatsecret/diary/entries/:entry_id - Get single entry\n  * PATCH /api/fatsecret/diary/entries/:entry_id - Edit entry\n  * DELETE /api/fatsecret/diary/entries/:entry_id - Delete entry\n  * GET /api/fatsecret/diary/day/:date_int - Get all entries for date\n  * GET /api/fatsecret/diary/month/:date_int - Get month summary\n\nRequired Changes:\n1. Import diary handlers in router.gleam:\n   import meal_planner/fatsecret/diary/handlers as diary_handlers\n\n2. Replace TODO blocks (lines 170-197) with:\n   [\"api\", \"fatsecret\", \"diary\"] -\u003e diary_handlers.handle_diary_routes(req, ctx)\n\nImpact: 6 production-ready endpoints immediately unlocked with 30 minutes work!\n\nType: Integration (no new code, just delegation)","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-14T13:47:36.053849807-06:00","updated_at":"2025-12-14T13:47:36.053849807-06:00","labels":["blocker","diary","fatsecret","high","integration","quick-win"]}
{"id":"meal-planner-kbv","title":"Investigate Saved Meals endpoints returning 404","description":"All FatSecret Saved Meals endpoints return 404 Not Found despite having handlers and routes defined.\n\nAffected endpoints:\n- GET /api/fatsecret/saved-meals\n- POST /api/fatsecret/saved-meals\n- PUT /api/fatsecret/saved-meals/:id\n\nMay have shared root cause with Favorites issue.","status":"open","priority":1,"issue_type":"bug","created_at":"2025-12-14T13:08:54.186720139-06:00","updated_at":"2025-12-14T13:08:54.186720139-06:00","labels":["404","fatsecret","saved-meals"]}
{"id":"meal-planner-lw1","title":"Implement request body parsing for ImportLog create/update","description":"CreateRequest and UpdateRequest JSON body parsing not implemented. TODOs at lines 167, 201 in import_export_handlers.gleam.","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-15T03:16:22.124244937Z","updated_at":"2025-12-15T03:16:22.124244937Z","labels":["import-export","json-parsing"]}
{"id":"meal-planner-lxv","title":"[SDK] Fix embedded types in ingredient.gleam","description":"Remove embedded Food and Unit types from types/recipe/ingredient.gleam, import from canonical locations.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-14T12:28:46.027048428-06:00","updated_at":"2025-12-14T13:24:22.93735378-06:00","closed_at":"2025-12-14T13:24:22.93735378-06:00","labels":["refactor","sdk"]}
{"id":"meal-planner-m1u","title":"Implement diary/handlers.gleam web handlers","description":"Create Wisp web handlers for diary endpoints","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T11:53:38.217453306-06:00","updated_at":"2025-12-14T12:07:08.998237155-06:00","closed_at":"2025-12-14T12:07:08.998245606-06:00","labels":["diary","fatsecret","handlers","implementation"]}
{"id":"meal-planner-may","title":"Update fatsecret.gleam main module exports","description":"Add Exercise and Profile service exports to main facade module","notes":"Implemented Exercise and Profile service exports in fatsecret.gleam facade module","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T11:53:39.469763409-06:00","updated_at":"2025-12-14T11:58:53.890151494-06:00","closed_at":"2025-12-14T11:58:53.890157221-06:00","labels":["exports","fatsecret","refactor"]}
{"id":"meal-planner-mxk","title":"Implement exercise handlers - authorization and body parsing","description":"FatSecret exercise handlers missing authorization header extraction and JSON body parsing. TODOs at lines 112, 148, 149, 202, 234, 270, 271 in exercise/handlers.gleam. Affects GET/POST/PUT/DELETE exercise endpoints.","status":"open","priority":1,"issue_type":"feature","created_at":"2025-12-15T03:16:22.136403167Z","updated_at":"2025-12-15T03:16:22.136403167Z","labels":["api","exercise","fatsecret"]}
{"id":"meal-planner-n79","title":"Implement web routes for Exercise API endpoints","description":"Web router has placeholder TODOs for exercise handlers at lines 242, 250, 254, 262, 266 in web.gleam. Need: GET /api/fatsecret/exercises, POST/PUT/DELETE /api/fatsecret/exercise-entries/:id","status":"open","priority":1,"issue_type":"feature","created_at":"2025-12-15T03:16:22.142266102Z","updated_at":"2025-12-15T03:16:22.142266102Z","labels":["exercise","routing","web"]}
{"id":"meal-planner-nl9","title":"[SDK] Consolidate recipe decoders","description":"Keep recipe_decoder.gleam as entry point, remove embedded decoders (use imports), delete recipe_basic_decoder.gleam, refactor recipe_detail_decoder.gleam.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-14T12:28:46.091039636-06:00","updated_at":"2025-12-14T13:45:36.976208542-06:00","closed_at":"2025-12-14T13:45:36.976208542-06:00","labels":["refactor","sdk"],"dependencies":[{"issue_id":"meal-planner-nl9","depends_on_id":"meal-planner-3ea","type":"blocks","created_at":"2025-12-14T12:28:53.188279361-06:00","created_by":"daemon"}]}
{"id":"meal-planner-nlo","title":"Implement FatSecret Weight API endpoints","description":"Wire up Weight tracking endpoints - SDK fully implemented but handlers are stubs.\n\nEndpoints:\n- GET /api/fatsecret/weight?date=YYYY-MM-DD\n- POST /api/fatsecret/weight\n- GET /api/fatsecret/weight/month\n\nFiles: gleam/src/meal_planner/fatsecret/weight/handlers.gleam","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-14T13:08:57.965509742-06:00","updated_at":"2025-12-14T13:08:57.965509742-06:00","labels":["fatsecret","implementation","weight"]}
{"id":"meal-planner-pbp","title":"Implement diary/client.gleam HTTP client","description":"Create HTTP client for FatSecret diary API endpoints (food entries, summaries)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T11:53:36.332440444-06:00","updated_at":"2025-12-14T11:58:28.789672811-06:00","closed_at":"2025-12-14T11:58:28.789672811-06:00","labels":["client","diary","fatsecret","implementation"]}
{"id":"meal-planner-r4d","title":"Configure Agent Mail MCP coordination for multi-agent workflows","description":"","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-14T19:27:57.608722861-06:00","updated_at":"2025-12-14T19:27:57.608722861-06:00"}
{"id":"meal-planner-rk2","title":"INEFFICIENCY: oauth_encode verbose alphanumeric pattern matching","description":"client.gleam \u0026 oauth.gleam: Individually lists A-Z, a-z, 0-9. Use character code ranges (48-57, 65-90, 97-122) or helper predicates instead.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T20:41:49.749541219Z","updated_at":"2025-12-14T20:43:38.068067071Z","closed_at":"2025-12-14T20:43:38.068069291Z"}
{"id":"meal-planner-rmc","title":"Implement web routes for Weight API endpoints","description":"Web router has placeholder TODOs for weight handlers at lines 278, 282, 290 in web.gleam. Need: GET/POST /api/fatsecret/weight, GET /api/fatsecret/weight/month","status":"open","priority":1,"issue_type":"feature","created_at":"2025-12-15T03:16:22.148422368Z","updated_at":"2025-12-15T03:16:22.148422368Z","labels":["fatsecret","routing","web","weight"]}
{"id":"meal-planner-rzh","title":"INEFFICIENCY: pow() uses O(N) recursion on floats","description":"fallback.gleam line 351-357: Recursive power calculation prone to stack overflow. Replace with math library or iterative approach.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T20:41:49.063851049Z","updated_at":"2025-12-14T20:43:19.262057291Z","closed_at":"2025-12-14T20:43:19.262060561Z"}
{"id":"meal-planner-slf","title":"Implement request body parsing for ExportLog create/update","description":"CreateRequest and UpdateRequest JSON body parsing not implemented. TODOs at lines 322, 356 in import_export_handlers.gleam.","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-15T03:16:22.130291012Z","updated_at":"2025-12-15T03:16:22.130291012Z","labels":["import-export","json-parsing"]}
{"id":"meal-planner-t3u","title":"Document Fractal Quality Loop workflow for systematic code validation","description":"","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-14T19:28:15.902696948-06:00","updated_at":"2025-12-14T19:28:15.902696948-06:00"}
{"id":"meal-planner-validation-reports-archived","title":"[ARCHIVED] API Validation Reports (FatSecret/Weight/Exercise/OAuth)","description":"ARCHIVED FROM: 12 validation markdown files\n- HANDLER_VALIDATION_REPORT.md\n- FATSECRET_FOODS_VALIDATION_SUMMARY.md\n- FATSECRET_RECIPES_VALIDATION.md\n- FATSECRET_SAVED_MEALS_DECODER_VALIDATION.md\n- WEIGHT_DECODER_VALIDATION_REPORT.md\n- WEIGHT_MODULE_VALIDATION_REPORT.md\n- WEIGHT_MODULE_FIXES_SUMMARY.md\n- EXERCISE_DECODER_VALIDATION_REPORT.md\n- FATSECRET_CLIENT_VALIDATION_REPORT.md\n- FATSECRET_OAUTH_VALIDATION_REPORT.md\n- OAUTH_VALIDATION_REPORT.md\n- VALIDATION_REPORT.md\n\nCONSOLIDATION: All validation findings consolidated into respective API beads.\nThese reports were validation/evaluation documents. All technical details stored in beads system.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-14T13:58:34.903385573-06:00","updated_at":"2025-12-14T13:59:01.513400451-06:00","closed_at":"2025-12-14T13:59:01.513406248-06:00","labels":["archived","evaluation","validation"]}
