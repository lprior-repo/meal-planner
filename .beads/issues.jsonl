{"id":"MP-0qkz","title":"[TESTING] Create integration tests for FatSecret OAuth","description":"Create comprehensive integration tests:\n1. OAuth flow (request token → authorize → access token)\n2. Error handling (invalid credentials, expired tokens)\n3. Signature generation\n4. Token storage/retrieval\n\nVibe: e816c3d8-9455-4d88-bd48-8f935aebc862","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-28T07:53:29.537275077-06:00","updated_at":"2025-12-28T07:53:29.537275077-06:00","labels":["fatsecret","p2","testing"]}
{"id":"MP-1pox","title":"[WINDMILL] Create Profile, Weight, Exercise scripts","description":"Create Windmill scripts for Profile, Weight, Exercise\n\nVibe: 15994553-9b28-465a-8513-e0affebee152","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-28T07:53:21.958921206-06:00","updated_at":"2025-12-28T07:53:21.958921206-06:00","labels":["fatsecret","p2","windmill"]}
{"id":"MP-4su1","title":"[WINDMILL] Create Foods domain Windmill scripts","description":"Create Windmill scripts for Foods:\n1. foods/search.rs\n2. foods/get_details.rs\n3. foods/autocomplete.rs\n4. foods/cache_popular.rs\n\nVibe: e3ecb152-5589-4a36-9eb0-ae5ea8494f63","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-28T07:53:21.910486376-06:00","updated_at":"2025-12-28T07:53:21.910486376-06:00","labels":["fatsecret","p2","windmill"]}
{"id":"MP-57ki","title":"Create fatsecret/foods_search lambda for food database","description":"Search FatSecret food database by name/brand.\n\nInput:\n{\n  \"params\": {\n    \"query\": \"string\",\n    \"max_results\": 50,\n    \"page_number\": 1\n  }\n}\n\nOutput:\n{\n  \"data\": {\n    \"foods\": [ ... ],\n    \"pagination\": {\n      \"total_results\": 1234,\n      \"page\": 1,\n      \"has_more\": true\n    }\n  }\n}\n\nRequirements:\n- Full-text search support\n- Brand filtering\n- Pagination support\n- \u003c 300ms cold start (read-heavy)\n- Result caching\n\nLocation: src/lambdas/fatsecret/foods_search.rs","status":"in_progress","priority":1,"issue_type":"task","created_at":"2025-12-29T01:06:44.415231922-06:00","updated_at":"2025-12-29T01:39:20.496559691-06:00"}
{"id":"MP-5yg.1","title":"Deep Dive: tandoor domain - client split strategy and API patterns","description":"Analyze tandoor/client.gleam (1719 lines), understand current clients/ directory structure, handler patterns, response encoding, and create detailed split strategy.","status":"tombstone","priority":0,"issue_type":"task","created_at":"2025-12-25T07:50:33.45901575-06:00","updated_at":"2025-12-29T08:51:21.974634434-06:00","deleted_at":"2025-12-29T08:51:21.974634434-06:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"MP-5yg.1.3","title":"Refactor: Extract Recipe APIs (730 lines) to clients/recipes.gleam","description":"Phase 3: Move all Recipe-related types (Unit, Food, Ingredient, Recipe, RecipeDetail, etc.), decoders, and functions from client.gleam to clients/recipes.gleam. Extract 12 decoders (lines 1013-1347). Move endpoint functions (get_recipes, create_recipe, etc.). Target: 750 LOC in new file","notes":"Discovered circular dependency issue when trying to extract recipe types from client.gleam.\n\nProblem:\n- tandoor/recipe.gleam needs Step type\n- tandoor/step.gleam imports Recipe from tandoor/recipe\n- Creates import cycle if we try to move types between modules\n\nOptions:\n1. Keep shared types (Step, Ingredient, Unit, Food, NutritionInfo, etc.) in client.gleam\n2. Create separate types/shared.gleam module\n3. Use opaque types to break cycle\n\nProgress:\n✓ Updated meal_sync.gleam to use tandoor/recipe.get_recipe\n✓ Added issue analysis to memory\n⚠️ Need to resolve circular dependency before removing recipe API functions from client.gleam","status":"in_progress","priority":0,"issue_type":"task","created_at":"2025-12-25T07:56:52.405858512-06:00","updated_at":"2025-12-26T09:08:22.445242546-06:00","dependencies":[{"issue_id":"MP-5yg.1.3","depends_on_id":"MP-5yg.1","type":"parent-child","created_at":"2025-12-25T07:56:52.413824682-06:00","created_by":"daemon"}]}
{"id":"MP-5yg.1.5","title":"Refactor: Final client.gleam consolidation and cleanup","description":"Phase 5: Update main client.gleam to import from new modules. Remove all extracted code. Reduce from 1,612 to ~500 LOC. Delete client/http.gleam (duplicate). Verify all 26 downstream imports still work. Run gleam build to validate. Final size target: client.gleam (500L) + 5 new files = 1,150 total (50% reduction)","status":"in_progress","priority":0,"issue_type":"task","created_at":"2025-12-25T07:56:56.253853546-06:00","updated_at":"2025-12-27T23:42:55.646841132-06:00","dependencies":[{"issue_id":"MP-5yg.1.5","depends_on_id":"MP-5yg.1","type":"parent-child","created_at":"2025-12-25T07:56:56.266094183-06:00","created_by":"daemon"}]}
{"id":"MP-5yg.1.7","title":"Refactor: Extract recipe functionality to tandoor/recipes.gleam (~300 lines)","description":"Extract recipe-related functionality from tandoor/client.gleam into a new tandoor/recipes.gleam module. Focus on Recipe CRUD operations, recipe search, and recipe encoding/decoding. Remove duplicates between client.gleam and existing recipe.gleam. Follow TDD: write tests first, implement, refactor. Use Serena for code edits. Target: ~300 lines in new recipes.gleam module.","notes":"Project has compilation errors. Recipe refactoring partially complete with 3 conflicting modules. Need clarification on target path: tandoor/recipe.gleam (exists) vs tandoor/recipes.gleam (new) vs tandoor/client/recipes.gleam (exists).","status":"blocked","priority":2,"issue_type":"task","created_at":"2025-12-26T07:44:10.160445708-06:00","updated_at":"2025-12-26T07:47:23.652281631-06:00","dependencies":[{"issue_id":"MP-5yg.1.7","depends_on_id":"MP-5yg.1","type":"parent-child","created_at":"2025-12-26T07:44:10.163304236-06:00","created_by":"daemon"}]}
{"id":"MP-7mr9","title":"Build Windmill flows for nutrition compliance","description":"Break down into tasks:\n1. Audit existing daily_compliance_check.flow\n2. Update flow for new lambda structure\n3. Create nutrition compliance flow\n4. Create trend analysis flow  \n5. Create historical analysis flow\n6. Add error handling and retry steps\n7. Test flows in Windmill UI","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-28T01:04:46.228380613-06:00","updated_at":"2025-12-29T07:59:27.973668912-06:00","labels":["orchestration","windmill"]}
{"id":"MP-880q","title":"Create fatsecret/oauth_auth lambda for token management","description":"OAuth authentication lambda for FatSecret API token management.\n\nInput:\n{\n  \"params\": {\n    \"action\": \"get_token|refresh_token|validate_token\",\n    \"client_id\": \"string\",\n    \"client_secret\": \"string\",\n    \"redirect_uri\": \"string\",\n    \"code\": \"string (optional, for get_token)\",\n    \"refresh_token\": \"string (optional, for refresh_token)\",\n    \"access_token\": \"string (optional, for validate_token)\"\n  },\n  \"_meta\": { \"request_id\": \"uuid\", \"trace_id\": \"uuid\" }\n}\n\nOutput:\n{\n  \"data\": {\n    \"access_token\": \"string\",\n    \"refresh_token\": \"string\",\n    \"expires_at\": \"ISO8601\",\n    \"token_type\": \"Bearer\"\n  },\n  \"meta\": {\n    \"execution_time_ms\": 123,\n    \"request_id\": \"uuid\",\n    \"trace_id\": \"uuid\"\n  }\n}\n\nRequirements:\n- OAuth 2.0 flow implementation\n- Token storage in Windmill variables\n- Automatic token refresh before expiry\n- \u003c 500ms cold start (API client)\n\nDependencies:\n- Needs core/config.rs for environment variables\n- Needs core/logger.rs for tracing\n\nLocation: src/lambdas/fatsecret/oauth_auth.rs","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-29T01:06:44.353746807-06:00","updated_at":"2025-12-29T08:16:53.241591601-06:00","closed_at":"2025-12-29T08:16:53.241591601-06:00","close_reason":"Closed"}
{"id":"MP-96xw","title":"Automation: Optimize meal macros","description":"Break down into tasks:\n1. Create macro_optimizer lambda\n2. Implement portion adjustment algorithm\n3. Calculate macro adjustments to meet goals\n4. Preserve recipe ratios (protein/fat/carb)\n5. Return optimized servings\n6. Add unit tests (\u003e80%)\n7. Benchmark cold start (\u003c300ms)","status":"open","priority":1,"issue_type":"feature","created_at":"2025-12-29T01:13:11.55056624-06:00","updated_at":"2025-12-29T07:59:24.150621749-06:00"}
{"id":"MP-9qvg","title":"[WINDMILL] Create FatSecret OAuth flow scripts","description":"Create Windmill scripts for OAuth:\n1. auth/request_token.rs\n2. auth/authorize_url.rs\n3. auth/exchange_token.rs\n4. auth/store_credentials.rs\n\nVibe: d49aee92-19c0-4b57-8f83-9517922784f9","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-28T07:53:21.886872875-06:00","updated_at":"2025-12-28T07:53:21.886872875-06:00","labels":["fatsecret","p1","windmill"]}
{"id":"MP-9xu0","title":"Port meal planning automation to Rust lambdas","description":"Break down into tasks:\n1. Create src/infrastructure/lambdas/meal_planning/ directory\n2. Port fetch_recipes to Rust (Tandoor API client)\n3. Port filter_by_preferences to Rust (preference filtering)\n4. Port optimize_macros to Rust (same as MP-96xw)\n5. Port generate_plan to Rust (weekly plan generation)\n6. Add to Cargo.toml as binaries\n7. Write unit tests (\u003e80%)","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-28T01:04:53.536648156-06:00","updated_at":"2025-12-29T07:59:26.413381322-06:00","labels":["migration","rust","windmill"]}
{"id":"MP-b7rb","title":"Implement Go Lambda Migration Plan","description":"Migrate meal planner to use Windmill + Go Lambdas as outlined in PORTING_GUIDE.md and MIGRATION_PLAN.md","status":"in_progress","priority":0,"issue_type":"epic","created_at":"2025-12-27T15:22:58.617128453-06:00","updated_at":"2025-12-28T00:31:26.427201683-06:00"}
{"id":"MP-c1xc","title":"Automation: FatSecret daily sync orchestrator","description":"Break down into tasks:\n1. Create sync orchestrator lambda (src/automation/fatsecret_sync.rs)\n2. Add retry logic for API failures\n3. Implement conflict detection (same entry exists)\n4. Add logging with tracing\n5. Create database storage layer for synced data\n6. Write unit tests (\u003e80% coverage)\n7. Write integration test with real API call","status":"open","priority":1,"issue_type":"feature","created_at":"2025-12-29T01:13:11.508623076-06:00","updated_at":"2025-12-29T07:59:21.578275701-06:00"}
{"id":"MP-fekb","title":"Automation: Generate meal plan","description":"Break down into tasks:\n1. Create plan_generator lambda (fetch_recipes, filter, score, select)\n2. Add recipe fetching from Tandoor API\n3. Implement preference filtering (dietary constraints)\n4. Create nutrition scoring algorithm\n5. Implement meal selection optimization\n6. Add unit tests (\u003e80%)\n7. Return structured meal plan JSON","status":"open","priority":1,"issue_type":"feature","created_at":"2025-12-29T01:13:11.52980865-06:00","updated_at":"2025-12-29T07:59:22.620337086-06:00"}
{"id":"MP-feq4","title":"FatSecret Domain: Port Gleam to Rust/Windmill (CUPID-compliant)","description":"Complete port of FatSecret domain from Gleam (69 modules) to Rust/Windmill with CUPID principles.\n\n## Current State\n- Gleam: 69 modules, 100% coverage of 11 FatSecret API domains\n- Rust: 1 file (types only, no behavior)\n- Windmill: 1 stub script\n- Implementation Gap: 97.5%\n\n## CUPID Compliance Target\n- Composable: 10/10 (layered architecture)\n- Unix Philosophy: 10/10 (single responsibility)\n- Predictable: 10/10 (typed errors, opaque IDs)\n- Idiomatic: 10/10 (Rust best practices)\n- Domain-based: 10/10 (rich domain models)\n\n## Phases\n1. Core Foundation (OAuth, Config, Errors, HTTP) - BLOCKERS\n2. Domain Types (Foods, Diary, Profile, etc.)\n3. API Clients (11 domains)\n4. Business Logic (Service layer)\n5. Windmill Integration (Scripts + Flows)\n6. Testing (Integration tests)\n7. Documentation\n\n## Reference\nSee FATSECRET_CUPID_AUDIT_2025-12-28.md for full analysis\n\n## Tasks\n25 tasks created in both Vibe Kanban and Beads\nEstimated effort: 54-84 days (2-4 months)","status":"open","priority":2,"issue_type":"epic","created_at":"2025-12-28T07:53:51.719853028-06:00","updated_at":"2025-12-28T07:53:51.719853028-06:00","labels":["epic","fatsecret","p0"]}
{"id":"MP-frd1","title":"[DOCS] Create Windmill deployment guide","description":"Create deployment documentation:\n1. Windmill setup (resources, variables, schedules)\n2. OAuth configuration\n3. Database migrations\n4. Monitoring and alerting\n5. Runbook for common issues\n\nVibe: ab31998c-73ca-4b11-b336-97509f8ed88b","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-28T07:53:35.597518263-06:00","updated_at":"2025-12-28T07:53:35.597518263-06:00","labels":["docs","fatsecret","p3","windmill"]}
{"id":"MP-kmuo","title":"Port grocery list generation to Rust lambdas","description":"Convert grocery list generation from Gleam to Rust lambdas.\n\nSource: src/meal_planner/grocery_list.gleam\n\nLambdas needed:\n- extract_ingredients (from meal plans)\n- consolidate_quantities (aggregate amounts)\n- categorize_items (group by section)\n- format_output (shopping list format)\n\nTarget: src/meal_planner/infrastructure/lambdas/grocery_list/","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-28T01:05:03.010041161-06:00","updated_at":"2025-12-28T01:05:03.010041161-06:00","labels":["migration","rust","windmill"]}
{"id":"MP-meji","title":"[TESTING] Create integration tests for Foods API","description":"Create integration tests for Foods domain:\n1. Search foods with pagination\n2. Get food details\n3. Autocomplete suggestions\n4. Error cases\n\nVibe: ec00a12f-ca12-4c6b-909f-0d0c0ff86f97","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-28T07:53:29.5604027-06:00","updated_at":"2025-12-28T07:53:29.5604027-06:00","labels":["fatsecret","p2","testing"]}
{"id":"MP-n2hx","title":"FatSecret Profile: Get user profile","description":"**CUPID-U: Do ONE thing well**\n\nRetrieve user profile data.\n\n**Dependencies:** FS-CORE-001 (OAuth), FS-CORE-002 (HTTP)\n\n**Acceptance Criteria:**\n- [ ] Returns user profile data\n- [ ] Handles authentication errors\n- [ ] \u003c 300ms cold start\n- [ ] Unit tests \u003e 80%\n- [ ] Error handling for 404\n\n**Domain:** fatsecret/profile\n**CUPID Score:** C-10, U-10, P-10, I-9, D-10","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-29T01:12:46.471537483-06:00","updated_at":"2025-12-29T01:12:46.471537483-06:00"}
{"id":"MP-prw6","title":"[TESTING] Create integration tests for Diary API","description":"Create integration tests for Diary domain:\n1. CRUD operations\n2. Custom food entries with validation\n3. Daily and monthly summaries\n4. Edge cases\n\nVibe: 2d541ff0-4aed-4b75-91d6-a726cccd0ba8","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-28T07:53:29.588828254-06:00","updated_at":"2025-12-28T07:53:29.588828254-06:00","labels":["fatsecret","p2","testing"]}
{"id":"MP-qhz4","title":"[WINDMILL] Create Diary domain Windmill scripts","description":"Create Windmill scripts for Diary:\n1. diary/get_entries.rs\n2. diary/create_entry.rs\n3. diary/update_entry.rs\n4. diary/delete_entry.rs\n5. diary/daily_summary.rs\n6. diary/copy_day.rs\n\nVibe: 2b0e2ca8-fc74-4c02-a862-766fb0090dca","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-28T07:53:21.935804955-06:00","updated_at":"2025-12-28T07:53:21.935804955-06:00","labels":["fatsecret","p2","windmill"]}
{"id":"MP-s0ff","title":"Create fatsecret/diary_create_entry lambda","description":"Create food diary entry in FatSecret API.\n\nInput:\n{\n  \"params\": {\n    \"date\": \"YYYY-MM-DD\",\n    \"meal_type\": \"Breakfast|Lunch|Dinner|Other\",\n    \"food_entries\": [\n      { \"food_id\": 123, \"serving\": 1.5, \"unit\": \"cup\" },\n      ...\n    ]\n  }\n}\n\nOutput:\n{\n  \"data\": {\n    \"entry_id\": 123,\n    \"entry\": { ... }\n  }\n}\n\nRequirements:\n- Batch food entry support\n- Validation of meal_type\n- Nutrition calculation validation\n- \u003c 500ms cold start\n\nLocation: src/lambdas/fatsecret/diary_create_entry.rs","status":"in_progress","priority":1,"issue_type":"task","created_at":"2025-12-29T01:06:44.395850729-06:00","updated_at":"2025-12-29T01:39:20.446399913-06:00"}
{"id":"MP-tcf6","title":"Create fatsecret/diary_get_entry lambda","description":"Get single food diary entry from FatSecret API.\n\nInput:\n{\n  \"params\": {\n    \"date\": \"YYYY-MM-DD\",\n    \"entry_id\": \"integer\"\n  }\n}\n\nOutput:\n{\n  \"data\": {\n    \"entry\": { ...diary_entry_fields... }\n  }\n}\n\nRequirements:\n- \u003c 500ms cold start\n- Pagination support (if listing)\n- Error handling for not found\n\nLocation: src/lambdas/fatsecret/diary_get_entry.rs","status":"in_progress","priority":1,"issue_type":"task","created_at":"2025-12-29T01:06:44.374275675-06:00","updated_at":"2025-12-29T01:39:20.402119103-06:00"}
{"id":"MP-w0nk","title":"[SERVICE] Implement Foods service layer with business logic","description":"Port fatsecret/foods/service.gleam to Rust:\n- Wrap client calls with business validation\n- Cache frequently accessed foods\n- Nutrition enrichment\n\nVibe: a3a874e9-6ffd-4a3d-bd5d-b58927cb12ea","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-28T07:53:07.631888402-06:00","updated_at":"2025-12-28T07:53:07.631888402-06:00","labels":["fatsecret","p2","rust","service"]}
{"id":"meal-planner-kg1","title":"Implement OAuth token storage with SQLx for FatSecret","status":"open","priority":1,"issue_type":"feature","created_at":"2025-12-29T08:51:36.210089058-06:00","updated_at":"2025-12-29T08:51:36.210089058-06:00"}
