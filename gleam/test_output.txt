warning: Unused private constant
  â”Œâ”€ /home/lewis/src/meal-planner/gleam/test/integration/helpers/http.gleam:7:1
  â”‚
7 â”‚ const base_url = "http://localhost:8080"
  â”‚ ^^^^^^^^^^^^^^ This private constant is never used

Hint: You can safely remove it.

warning: Unused imported module
  â”Œâ”€ /home/lewis/src/meal-planner/gleam/test/fatsecret_debug_api_response_test.gleam:3:1
  â”‚
3 â”‚ import gleam/dynamic/decode
  â”‚ ^^^^^^^^^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
  â”Œâ”€ /home/lewis/src/meal-planner/gleam/test/fatsecret_debug_api_response_test.gleam:5:1
  â”‚
5 â”‚ import gleam/json
  â”‚ ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
  â”Œâ”€ /home/lewis/src/meal-planner/gleam/test/fatsecret_debug_api_response_test.gleam:7:1
  â”‚
7 â”‚ import gleam/result
  â”‚ ^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported item
   â”Œâ”€ /home/lewis/src/meal-planner/gleam/test/fatsecret_debug_api_response_test.gleam:11:44
   â”‚
11 â”‚ import meal_planner/fatsecret/core/config.{FatSecretConfig}
   â”‚                                            ^^^^^^^^^^^^^^^ This imported constructor is never used

Hint: You can safely remove it.

warning: Unused imported module
   â”Œâ”€ /home/lewis/src/meal-planner/gleam/test/fatsecret_debug_api_response_test.gleam:12:1
   â”‚
12 â”‚ import meal_planner/fatsecret/core/http
   â”‚ ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported item
   â”Œâ”€ /home/lewis/src/meal-planner/gleam/test/fatsecret_debug_api_response_test.gleam:13:43
   â”‚
13 â”‚ import meal_planner/fatsecret/core/oauth.{AccessToken}
   â”‚                                           ^^^^^^^^^^^ This imported constructor is never used

Hint: You can safely remove it.

warning: Unused imported module
   â”Œâ”€ /home/lewis/src/meal-planner/gleam/test/fatsecret_debug_api_response_test.gleam:14:1
   â”‚
14 â”‚ import meal_planner/fatsecret/storage
   â”‚ ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   â”Œâ”€ /home/lewis/src/meal-planner/gleam/test/fatsecret_debug_api_response_test.gleam:15:1
   â”‚
15 â”‚ import pog
   â”‚ ^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused variable
   â”Œâ”€ /home/lewis/src/meal-planner/gleam/test/fatsecret_debug_api_response_test.gleam:70:10
   â”‚
70 â”‚     Some(config) -> {
   â”‚          ^^^^^^ This variable is never used

Hint: You can ignore it with an underscore: `_config`.

warning: Unused imported module
   â”Œâ”€ /home/lewis/src/meal-planner/gleam/test/fatsecret_diary_endpoints_test.gleam:12:1
   â”‚
12 â”‚ import gleam/dynamic/decode
   â”‚ ^^^^^^^^^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   â”Œâ”€ /home/lewis/src/meal-planner/gleam/test/fatsecret_diary_endpoints_test.gleam:13:1
   â”‚
13 â”‚ import gleam/json
   â”‚ ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unreachable pattern
    â”Œâ”€ /home/lewis/src/meal-planner/gleam/test/fatsecret_diary_endpoints_test.gleam:156:5
    â”‚
156 â”‚     types.Custom(..) -> should.fail()
    â”‚     ^^^^^^^^^^^^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
    â”Œâ”€ /home/lewis/src/meal-planner/gleam/test/fatsecret_diary_endpoints_test.gleam:175:5
    â”‚
175 â”‚     types.FromFood(..) -> should.fail()
    â”‚     ^^^^^^^^^^^^^^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unused imported module
  â”Œâ”€ /home/lewis/src/meal-planner/gleam/test/fatsecret_edge_cases_test.gleam:7:1
  â”‚
7 â”‚ import meal_planner/fatsecret/diary/client
  â”‚ ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
  â”Œâ”€ /home/lewis/src/meal-planner/gleam/src/meal_planner/tandoor/decoders/mealplan/meal_plan_decoder.gleam:7:1
  â”‚
7 â”‚ import gleam/list
  â”‚ ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
  â”Œâ”€ /home/lewis/src/meal-planner/gleam/src/meal_planner/tandoor/decoders/mealplan/meal_plan_decoder.gleam:8:1
  â”‚
8 â”‚ import gleam/result
  â”‚ ^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
  â”Œâ”€ /home/lewis/src/meal-planner/gleam/src/meal_planner/tandoor/decoders/mealplan/meal_plan_decoder.gleam:9:1
  â”‚
9 â”‚ import gleam/string
  â”‚ ^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
  â”Œâ”€ /home/lewis/src/meal-planner/gleam/test/integration/helpers/openapi_validator.gleam:5:1
  â”‚
5 â”‚ import gleam/list
  â”‚ ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
  â”Œâ”€ /home/lewis/src/meal-planner/gleam/test/integration/helpers/openapi_validator.gleam:6:1
  â”‚
6 â”‚ import gleam/result
  â”‚ ^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused private function
   â”Œâ”€ /home/lewis/src/meal-planner/gleam/test/integration/helpers/openapi_validator.gleam:77:1
   â”‚
77 â”‚ fn is_empty(s: String) -> Bool {
   â”‚ ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ This private function is never used

Hint: You can safely remove it.

warning: Unused private function
   â”Œâ”€ /home/lewis/src/meal-planner/gleam/test/integration/helpers/openapi_validator.gleam:82:1
   â”‚
82 â”‚ fn is_positive(n: Float) -> Bool {
   â”‚ ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ This private function is never used

Hint: You can safely remove it.

warning: Unused private function
   â”Œâ”€ /home/lewis/src/meal-planner/gleam/test/integration/helpers/openapi_validator.gleam:87:1
   â”‚
87 â”‚ fn is_non_negative(n: Float) -> Bool {
   â”‚ ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ This private function is never used

Hint: You can safely remove it.

warning: Unused private function
   â”Œâ”€ /home/lewis/src/meal-planner/gleam/test/integration/helpers/openapi_validator.gleam:92:1
   â”‚
92 â”‚ fn is_valid_date(date_str: String) -> Bool {
   â”‚ ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ This private function is never used

Hint: You can safely remove it.

warning: Unused imported module
   â”Œâ”€ /home/lewis/src/meal-planner/gleam/src/meal_planner/web/handlers/tandoor.gleam:11:1
   â”‚
11 â”‚ import gleam/dynamic
   â”‚ ^^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   â”Œâ”€ /home/lewis/src/meal-planner/gleam/src/meal_planner/web/handlers/tandoor.gleam:12:1
   â”‚
12 â”‚ import gleam/dynamic/decode
   â”‚ ^^^^^^^^^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   â”Œâ”€ /home/lewis/src/meal-planner/gleam/src/meal_planner/web/handlers/tandoor.gleam:13:1
   â”‚
13 â”‚ import gleam/http
   â”‚ ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   â”Œâ”€ /home/lewis/src/meal-planner/gleam/src/meal_planner/web/handlers/tandoor.gleam:14:1
   â”‚
14 â”‚ import gleam/int
   â”‚ ^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   â”Œâ”€ /home/lewis/src/meal-planner/gleam/src/meal_planner/web/handlers/tandoor.gleam:16:1
   â”‚
16 â”‚ import gleam/list
   â”‚ ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   â”Œâ”€ /home/lewis/src/meal-planner/gleam/src/meal_planner/web/handlers/tandoor.gleam:17:1
   â”‚
17 â”‚ import gleam/option
   â”‚ ^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   â”Œâ”€ /home/lewis/src/meal-planner/gleam/src/meal_planner/web/handlers/tandoor.gleam:18:1
   â”‚
18 â”‚ import gleam/result
   â”‚ ^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported type
   â”Œâ”€ /home/lewis/src/meal-planner/gleam/src/meal_planner/web/handlers/tandoor.gleam:22:36
   â”‚
22 â”‚ import meal_planner/tandoor/types.{type TandoorKeyword}
   â”‚                                    ^^^^^^^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
   â”Œâ”€ /home/lewis/src/meal-planner/gleam/src/meal_planner/web/handlers/tandoor.gleam:24:3
   â”‚
24 â”‚   type SupermarketCategoryCreateRequest, SupermarketCategoryCreateRequest,
   â”‚   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported item
   â”Œâ”€ /home/lewis/src/meal-planner/gleam/src/meal_planner/web/handlers/tandoor.gleam:24:42
   â”‚
24 â”‚   type SupermarketCategoryCreateRequest, SupermarketCategoryCreateRequest,
   â”‚                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ This imported constructor is never used

Hint: You can safely remove it.

warning: Unused function argument
    â”Œâ”€ /home/lewis/src/meal-planner/gleam/src/meal_planner/web/handlers.gleam:174:3
    â”‚
174 â”‚   base_url: String,
    â”‚   ^^^^^^^^ This argument is never used

Hint: You can ignore it with an underscore: `_base_url`.

warning: Unused imported type
  â”Œâ”€ /home/lewis/src/meal-planner/gleam/src/meal_planner/grocery_list.gleam:8:22
  â”‚
8 â”‚ import gleam/option.{type Option, None, Some}
  â”‚                      ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
   â”Œâ”€ /home/lewis/src/meal-planner/gleam/src/meal_planner/grocery_list.gleam:11:37
   â”‚
11 â”‚ import meal_planner/tandoor/client.{type Food, type Ingredient, type Unit}
   â”‚                                     ^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
   â”Œâ”€ /home/lewis/src/meal-planner/gleam/src/meal_planner/grocery_list.gleam:11:65
   â”‚
11 â”‚ import meal_planner/tandoor/client.{type Food, type Ingredient, type Unit}
   â”‚                                                                 ^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
   â”Œâ”€ /home/lewis/src/meal-planner/gleam/src/meal_planner/meal_sync.gleam:23:22
   â”‚
23 â”‚   type ClientConfig, type RecipeDetail, get_recipe_detail,
   â”‚                      ^^^^^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
  â”Œâ”€ /home/lewis/src/meal-planner/gleam/src/meal_planner/meal_prep_ai.gleam:7:1
  â”‚
7 â”‚ import gleam/result
  â”‚ ^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   â”Œâ”€ /home/lewis/src/meal-planner/gleam/src/meal_planner/web/handlers/meal_planning.gleam:14:1
   â”‚
14 â”‚ import gleam/result
   â”‚ ^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused private type
   â”Œâ”€ /home/lewis/src/meal-planner/gleam/src/meal_planner/web/handlers/meal_planning.gleam:31:1
   â”‚
31 â”‚ type MealPlanResponse {
   â”‚ ^^^^^^^^^^^^^^^^^^^^^ This private type is never used

Hint: You can safely remove it.

warning: Unused private constructor
   â”Œâ”€ /home/lewis/src/meal-planner/gleam/src/meal_planner/web/handlers/meal_planning.gleam:32:3
   â”‚  
32 â”‚ â•­   MealPlanResponse(
33 â”‚ â”‚     recipes_selected: Int,
34 â”‚ â”‚     grocery_list_items: Int,
35 â”‚ â”‚     total_prep_time_min: Int,
36 â”‚ â”‚     formatted_plan: String,
37 â”‚ â”‚   )
   â”‚ â•°â”€â”€â”€^ This private constructor is never used

Hint: You can safely remove it.

warning: Unused function argument
    â”Œâ”€ /home/lewis/src/meal-planner/gleam/src/meal_planner/web/handlers/meal_planning.gleam:126:3
    â”‚
126 â”‚   tandoor_config: ClientConfig,
    â”‚   ^^^^^^^^^^^^^^ This argument is never used

Hint: You can ignore it with an underscore: `_tandoor_config`.

warning: Unreachable pattern
   â”Œâ”€ /home/lewis/src/meal-planner/gleam/test/meal_planner/config_test.gleam:14:5
   â”‚
14 â”‚     _ -> should.fail()
   â”‚     ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unreachable pattern
   â”Œâ”€ /home/lewis/src/meal-planner/gleam/test/meal_planner/config_test.gleam:31:5
   â”‚
31 â”‚     _ -> should.fail()
   â”‚     ^

This pattern cannot be reached as a previous pattern matches the same
values.

Hint: It can be safely removed.

warning: Unused imported item
  â”Œâ”€ /home/lewis/src/meal-planner/gleam/test/meal_planner/postgres_test.gleam:2:22
  â”‚
2 â”‚ import gleam/option.{None, Some}
  â”‚                      ^^^^ This imported constructor is never used

Hint: You can safely remove it.

warning: Unused imported item
  â”Œâ”€ /home/lewis/src/meal-planner/gleam/test/meal_planner/postgres_test.gleam:2:28
  â”‚
2 â”‚ import gleam/option.{None, Some}
  â”‚                            ^^^^ This imported constructor is never used

Hint: You can safely remove it.

warning: Unused imported type
   â”Œâ”€ /home/lewis/src/meal-planner/gleam/src/meal_planner/tandoor/clients/auth.gleam:18:3
   â”‚
18 â”‚   type AuthMethod, type ClientConfig, type TandoorError, AuthenticationError,
   â”‚   ^^^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
  â”Œâ”€ /home/lewis/src/meal-planner/gleam/test/meal_planner/tandoor/clients/meal_plans_test.gleam:8:3
  â”‚
8 â”‚   type CreateMealPlanRequest, CreateMealPlanRequest,
  â”‚   ^^^^^^^^^^^^^^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported type
  â”Œâ”€ /home/lewis/src/meal-planner/gleam/src/meal_planner/tandoor/clients/request_builder.gleam:8:22
  â”‚
8 â”‚ import gleam/option.{type Option, None, Some}
  â”‚                      ^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
  â”Œâ”€ /home/lewis/src/meal-planner/gleam/src/meal_planner/tandoor/decoders/recipe/recipe_detail_decoder.gleam:8:1
  â”‚
8 â”‚ import gleam/list
  â”‚ ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   â”Œâ”€ /home/lewis/src/meal-planner/gleam/src/meal_planner/tandoor/decoders/recipe/recipe_detail_decoder.gleam:10:1
   â”‚
10 â”‚ import gleam/result
   â”‚ ^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported module
   â”Œâ”€ /home/lewis/src/meal-planner/gleam/src/meal_planner/tandoor/decoders/recipe/recipe_detail_decoder.gleam:11:1
   â”‚
11 â”‚ import gleam/string
   â”‚ ^^^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported item
   â”Œâ”€ /home/lewis/src/meal-planner/gleam/test/meal_planning_orchestration_test.gleam:11:32
   â”‚
11 â”‚ import meal_planner/meal_sync.{MealSelection}
   â”‚                                ^^^^^^^^^^^^^ This imported constructor is never used

Hint: You can safely remove it.

warning: Unused imported module
  â”Œâ”€ /home/lewis/src/meal-planner/gleam/test/meal_sync_integration_test.gleam:8:1
  â”‚
8 â”‚ import gleam/list
  â”‚ ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

warning: Unused imported value
   â”Œâ”€ /home/lewis/src/meal-planner/gleam/test/meal_sync_integration_test.gleam:13:37
   â”‚
13 â”‚   type SyncStatus, Failed, Success, format_sync_report,
   â”‚                                     ^^^^^^^^^^^^^^^^^^ This imported value is never used

Hint: You can safely remove it.

warning: Unreachable pattern
   â”Œâ”€ /home/lewis/src/meal-planner/gleam/test/meal_sync_integration_test.gleam:38:5
   â”‚
38 â”‚     Failed(_) -> should.fail()
   â”‚     ^^^^^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unreachable pattern
   â”Œâ”€ /home/lewis/src/meal-planner/gleam/test/meal_sync_integration_test.gleam:46:5
   â”‚
46 â”‚     Success(_) -> should.fail()
   â”‚     ^^^^^^^^^^

This pattern cannot be reached as it matches on a variant of a type which
is never present.

Hint: It can be safely removed.

warning: Unused variable
   â”Œâ”€ /home/lewis/src/meal-planner/gleam/test/meal_sync_integration_test.gleam:65:7
   â”‚
65 â”‚   let meal_name = "Grilled Chicken Breast"
   â”‚       ^^^^^^^^^ This variable is never used

Hint: You can ignore it with an underscore: `_meal_name`.

warning: Unused variable
   â”Œâ”€ /home/lewis/src/meal-planner/gleam/test/meal_sync_integration_test.gleam:89:7
   â”‚
89 â”‚   let dinner = "dinner"
   â”‚       ^^^^^^ This variable is never used

Hint: You can ignore it with an underscore: `_dinner`.

warning: Unused variable
   â”Œâ”€ /home/lewis/src/meal-planner/gleam/test/meal_sync_integration_test.gleam:90:7
   â”‚
90 â”‚   let snack = "snack"
   â”‚       ^^^^^ This variable is never used

Hint: You can ignore it with an underscore: `_snack`.

warning: Unused variable
    â”Œâ”€ /home/lewis/src/meal-planner/gleam/test/run_live_ncp_test.gleam:197:7
    â”‚
197 â”‚   let result =
    â”‚       ^^^^^^ This variable is never used

Hint: You can ignore it with an underscore: `_result`.

warning: Unused imported type
  â”Œâ”€ /home/lewis/src/meal-planner/gleam/test/tandoor/clients/auth_test.gleam:6:3
  â”‚
6 â”‚   type ClientConfig, BearerAuth, ClientConfig, SessionAuth,
  â”‚   ^^^^^^^^^^^^^^^^^ This imported type is never used

Hint: You can safely remove it.

warning: Unused imported module
  â”Œâ”€ /home/lewis/src/meal-planner/gleam/test/tandoor/clients/response_test.gleam:4:1
  â”‚
4 â”‚ import gleam/json
  â”‚ ^^^^^^^^^^^^^^^^^ This imported module is never used

Hint: You can safely remove it.

   Compiled in 0.10s
    Running meal_planner_test.main
[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m
ğŸ” Checking FatSecret diary for today...

To get your real calorie data for today:

Option 1 - Via Gleam REPL:
  gleam repl
  import meal_planner/fatsecret/diary/service
  service.get_day_entries(db, 20250115)

Option 2 - Via HTTP API:
  curl http://localhost:8080/api/fatsecret/diary/day/20250115

Option 3 - Quick script (what I can create):
  I'll pull your real data and show total calories

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
EXAMPLE OUTPUT (with real data):
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“… Date: January 15, 2025

ğŸ½ï¸  YOUR MEALS TODAY:
  Breakfast (08:30)
    Scrambled Eggs (2) - 155 cal
    Whole Wheat Toast (2) - 160 cal
    Orange Juice (8oz) - 110 cal
    â†’ Subtotal: 425 cal

  Snack (10:30)
    Greek Yogurt (150g) - 130 cal
    â†’ Subtotal: 130 cal

  Lunch (12:30)
    Grilled Chicken (150g) - 240 cal
    Brown Rice (1 cup) - 210 cal
    Broccoli (100g) - 35 cal
    â†’ Subtotal: 485 cal

  Snack (15:00)
    Almonds (1oz) - 165 cal
    â†’ Subtotal: 165 cal

  Dinner (19:00)
    Salmon Fillet (150g) - 280 cal
    Sweet Potato (150g) - 115 cal
    Green Salad (200g) - 45 cal
    â†’ Subtotal: 440 cal

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“Š TOTAL: 1,645 calories logged so far today
ğŸ¯ Goal: 2,500 calories
ğŸ“ˆ Still need: 855 calories to reach goal
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

[32m.[39m
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 1: POST /api/fatsecret/diary/entries - Basic Entry
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Endpoint URL & HTTP method:
  POST /api/fatsecret/diary/entries

âœ“ Request payload:
  {
    "type": "from_food",
    "food_id": "4142",
    "food_entry_name": "Chicken Breast",
    "serving_id": "12345",
    "number_of_units": 1.0,
    "meal": "lunch",
    "date": "2025-12-15"
  }

âœ“ Expected: 201 Created with entry_id

ğŸ” Assertions to verify:
  â€¢ Status code is 201
  â€¢ Response has 'success' field (true)
  â€¢ Response has 'entry_id' (string, non-empty)
  â€¢ Response has 'message' confirmation

ğŸ“‹ Curl command for manual testing:
  curl -X POST http://localhost:8080/api/fatsecret/diary/entries \
    -H 'Content-Type: application/json' \
    -d '{"type":"from_food","food_id":"4142","food_entry_name":"Chicken Breast","serving_id":"12345","number_of_units":1.0,"meal":"lunch","date":"2025-12-15"}' \
    | jq

ğŸ› Debugging: Entry creation fails
  â€¢ Verify food_id and serving_id exist in FatSecret database
  â€¢ Check OAuth token is valid (not expired/revoked)
  â€¢ Ensure date format is YYYY-MM-DD

Making request...
âš ï¸  Server connection error
  Make sure server is running: gleam run

[1m[31mpanic[39m[22m [90msrc/gleeunit/should.gleam:10[39m
[36m test[39m: diary_creation_integration_test.test_1_create_basic_diary_entry_returns_201_test
[36m info[39m: 
False
should equal
True
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 2: POST /api/fatsecret/diary/entries - Bulk Creation
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Endpoint URL & HTTP method:
  POST /api/fatsecret/diary/entries (bulk mode)

âœ“ Request payload:
  {
    "entries": [
      {
        "type": "from_food",
        "food_id": "4142",
        "food_entry_name": "Chicken Breast",
        "serving_id": "12345",
        "number_of_units": 1.0,
        "meal": "lunch",
        "date": "2025-12-15"
      },
      {
        "type": "custom",
        "food_entry_name": "Custom Salad",
        "serving_description": "Large bowl",
        "number_of_units": 1.0,
        "meal": "lunch",
        "date": "2025-12-15",
        "calories": 350.0,
        "carbohydrate": 40.0,
        "protein": 15.0,
        "fat": 8.0
      }
    ]
  }

âœ“ Expected: 201 Created with multiple entry_ids

ğŸ” Assertions to verify:
  â€¢ Status code is 201
  â€¢ Response has 'success' field (true)
  â€¢ Response has 'entry_ids' array
  â€¢ Array length matches number of entries (2)
  â€¢ Each entry_id is a non-empty string

ğŸ“‹ Curl command for manual testing:
  curl -X POST http://localhost:8080/api/fatsecret/diary/entries \
    -H 'Content-Type: application/json' \
    -d '{"entries":[{"type":"from_food","food_id":"4142","food_entry_name":"Chicken Breast","serving_id":"12345","number_of_units":1.0,"meal":"lunch","date":"2025-12-15"},{"type":"custom","food_entry_name":"Custom Salad","serving_description":"Large bowl","number_of_units":1.0,"meal":"lunch","date":"2025-12-15","calories":350.0,"carbohydrate":40.0,"protein":15.0,"fat":8.0}]}' \
    | jq

ğŸ› Debugging: Bulk creation fails
  â€¢ Verify all entries have valid data
  â€¢ Check if endpoint supports bulk operations
  â€¢ Ensure request doesn't exceed size limits

Making request...
âš ï¸  Server connection error
  Make sure server is running: gleam run

[1m[31mpanic[39m[22m [90msrc/gleeunit/should.gleam:10[39m
[36m test[39m: diary_creation_integration_test.test_2_create_bulk_diary_entries_returns_201_multi_test
[36m info[39m: 
False
should equal
True
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 3: POST /api/fatsecret/diary/entries - With Multiplier
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Endpoint URL & HTTP method:
  POST /api/fatsecret/diary/entries

âœ“ Request payload:
  {
    "type": "from_food",
    "food_id": "4142",
    "food_entry_name": "Chicken Breast",
    "serving_id": "12345",
    "number_of_units": 2.5,
    "meal": "dinner",
    "date": "2025-12-15"
  }

âœ“ Expected: 201 Created with calculated nutrition values

ğŸ” Assertions to verify:
  â€¢ Status code is 201
  â€¢ Response has 'success' field (true)
  â€¢ Response has 'entry_id' (string, non-empty)
  â€¢ Response includes 'calculated_calories' field
  â€¢ Calories are multiplied by number_of_units (2.5x)

ğŸ“‹ Curl command for manual testing:
  curl -X POST http://localhost:8080/api/fatsecret/diary/entries \
    -H 'Content-Type: application/json' \
    -d '{"type":"from_food","food_id":"4142","food_entry_name":"Chicken Breast","serving_id":"12345","number_of_units":2.5,"meal":"dinner","date":"2025-12-15"}' \
    | jq

ğŸ› Debugging: Multiplier calculation incorrect
  â€¢ Verify number_of_units is being applied to all nutrition values
  â€¢ Check serving_id has base nutrition data
  â€¢ Ensure float precision doesn't cause rounding errors

Making request...
âš ï¸  Server connection error
  Make sure server is running: gleam run

[1m[31mpanic[39m[22m [90msrc/gleeunit/should.gleam:10[39m
[36m test[39m: diary_creation_integration_test.test_3_create_entry_with_multiplier_returns_201_calculated_test
[36m info[39m: 
False
should equal
True
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“Š DIARY ENTRY CREATION TEST SUMMARY
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… 3 Diary Entry Creation Tests

Test Coverage:
  1. Basic entry creation (single food from database)
     - Validates 201 status code
     - Confirms entry_id is returned

  2. Bulk entries creation (multiple entries in one request)
     - Tests both from_food and custom entry types
     - Validates entry_ids array response

  3. Entry with multiplier/servings (number_of_units > 1.0)
     - Tests serving size calculations
     - Validates calculated nutrition values

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TO RUN TESTS:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Terminal 1 - Start the server:
  cd gleam
  gleam run

Terminal 2 - Run the integration tests:
  cd gleam
  gleam test -- --module diary_creation_integration_test

Expected output:
  âœ… All 3 tests pass with 201 status codes
  âœ… Each response includes entry_id(s)
  âœ… Request payloads are properly validated

[32m.[39mâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“Š DIARY DELETION INTEGRATION TEST SUMMARY
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… 2 Diary Entry Deletion Tests

Tests cover:
  â€¢ Single entry deletion (DELETE /entries/:id)
  â€¢ Bulk entry deletion (DELETE /entries with body)
  â€¢ Cleanup verification (deleted entries return 404)
  â€¢ 204 No Content response validation

Each test includes:
  â€¢ Endpoint URL & HTTP method
  â€¢ Expected response (204 with empty body)
  â€¢ Post-deletion verification
  â€¢ Curl commands for manual testing
  â€¢ Debugging guidance for common issues

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TO RUN TESTS:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Terminal 1 - Start the server:
  cd gleam
  gleam run

Terminal 2 - Run the integration tests:
  cd gleam
  gleam test -- --module diary_delete_integration_test

Expected output:
  âœ… Both tests pass with 204 status codes
  âœ… Deleted entries return 404 on subsequent GET
  âœ… Empty response body for 204 status

[32m.[39m
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 1: DELETE /api/fatsecret/diary/entries/123456789
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Endpoint URL & HTTP method:
  DELETE /api/fatsecret/diary/entries/123456789 (Single entry deletion)

âœ“ Expected: 204 No Content (entry deleted successfully)

ğŸ” Assertions to verify:
  â€¢ Status code is 204 (No Content)
  â€¢ Response body is empty (standard for 204)
  â€¢ Entry is removed from FatSecret diary
  â€¢ Subsequent GET returns 404 for deleted entry

ğŸ“‹ Curl command for manual testing:
  curl -X DELETE http://localhost:8080/api/fatsecret/diary/entries/123456789

ğŸ› Debugging: Deletion failures
  â€¢ 404: Entry ID doesn't exist - verify entry was created
  â€¢ 401: OAuth token expired - reconnect FatSecret account
  â€¢ 500: FatSecret API error - check API credentials

Making request...
âš ï¸  Server connection error
  Make sure server is running: gleam run

[1m[31mpanic[39m[22m [90msrc/gleeunit/should.gleam:10[39m
[36m test[39m: diary_delete_integration_test.test_1_delete_single_diary_entry_returns_204_test
[36m info[39m: 
False
should equal
True
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 2: DELETE /api/fatsecret/diary/entries (bulk)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Endpoint URL & HTTP method:
  DELETE /api/fatsecret/diary/entries (Bulk entry deletion)

âœ“ Request body (JSON):
  {
    "entry_ids": ["123456789", "987654321"]
  }

âœ“ Expected: 204 No Content (all entries deleted)

ğŸ” Assertions to verify:
  â€¢ Status code is 204 (No Content)
  â€¢ Response body is empty (standard for 204)
  â€¢ All entries removed from FatSecret diary
  â€¢ Subsequent GETs return 404 for all deleted entries

ğŸ“‹ Curl command for manual testing:
  curl -X DELETE http://localhost:8080/api/fatsecret/diary/entries \
    -H 'Content-Type: application/json' \
    -d '{"entry_ids":["123456789","987654321"]}'

ğŸ› Debugging: Bulk deletion issues
  â€¢ Partial deletion: Some entries deleted, others remain
  â€¢ All fail: Check if any entry IDs are invalid
  â€¢ Transaction rollback: FatSecret API should be atomic

Making request...
âš ï¸  Server connection error
  Make sure server is running: gleam run

[1m[31mpanic[39m[22m [90msrc/gleeunit/should.gleam:10[39m
[36m test[39m: diary_delete_integration_test.test_2_delete_multiple_diary_entries_returns_204_test
[36m info[39m: 
False
should equal
True
[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 1: GET /api/fatsecret/diary/day/20437
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Endpoint URL & HTTP method:
  GET /api/fatsecret/diary/day/20437 (2025-12-15)

âœ“ Expected: 200 OK with food entries for today

ğŸ” Assertions to verify:
  â€¢ Status code is 200
  â€¢ Response has 'entries' array
  â€¢ Response has 'totals' with calories, protein, fat, carbs
  â€¢ Each entry has: food_entry_id (string), calories (float > 0)

ğŸ“‹ Curl command for manual testing:
  curl -s http://localhost:8080/api/fatsecret/diary/day/20437 | jq

ğŸ› Debugging: Zero-calorie bug
  If calories = 0, check FatSecret API serving sizes
  Verify entry matches FatSecret web app

Making request...
âš ï¸  Server connection error
  Make sure server is running: gleam run

[1m[31mpanic[39m[22m [90msrc/gleeunit/should.gleam:10[39m
[36m test[39m: endpoint_integration_test.test_1_diary_day_returns_200_and_valid_json_test
[36m info[39m: 
False
should equal
True
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 2: GET /api/fatsecret/diary/month/20437
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Endpoint URL & HTTP method:
  GET /api/fatsecret/diary/month/20437 (December 2025)

âœ“ Expected: 200 OK with daily summary for month

ğŸ” Assertions to verify:
  â€¢ Status code is 200
  â€¢ Response has 'days' array
  â€¢ Has 'month' (12) and 'year' (2025)
  â€¢ Each day has: date_int (integer), calories (float)

ğŸ“‹ Curl command for manual testing:
  curl -s http://localhost:8080/api/fatsecret/diary/month/20437 | jq

ğŸ› Debugging: Month mismatch
  Verify date_int 20437 corresponds to December 2025

Making request...
âš ï¸  Server connection error

[1m[31mpanic[39m[22m [90msrc/gleeunit/should.gleam:10[39m
[36m test[39m: endpoint_integration_test.test_2_diary_month_returns_200_and_valid_json_test
[36m info[39m: 
False
should equal
True
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 3: GET /api/fatsecret/foods/search?q=chicken
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Endpoint URL & HTTP method:
  GET /api/fatsecret/foods/search?q=chicken

âœ“ Expected: 200 OK with list of matching foods

ğŸ” Assertions to verify:
  â€¢ Status code is 200
  â€¢ Response has 'foods' array
  â€¢ Has 'total_results' (integer > 0)
  â€¢ Each food has: food_id (string), food_name (string)

ğŸ“‹ Curl command for manual testing:
  curl -s 'http://localhost:8080/api/fatsecret/foods/search?q=chicken' | jq

ğŸ› Debugging: No results returned
  If foods array is empty, FatSecret API key may be expired
  Verify FATSECRET_CONSUMER_KEY and FATSECRET_CONSUMER_SECRET

Making request...
âš ï¸  Server connection error

[1m[31mpanic[39m[22m [90msrc/gleeunit/should.gleam:10[39m
[36m test[39m: endpoint_integration_test.test_3_search_foods_returns_200_and_valid_json_test
[36m info[39m: 
False
should equal
True
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 5: GET /api/fatsecret/profile
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Endpoint URL & HTTP method:
  GET /api/fatsecret/profile

âœ“ Expected: 200 OK with user profile data

ğŸ” Assertions to verify:
  â€¢ Status code is 200
  â€¢ Has basic fields: user_id, first_name, last_name
  â€¢ Has biometric data: weight (float > 0), height (int > 0)
  â€¢ Profile matches FatSecret web app
  â€¢ Goal weight is reasonable if set

ğŸ“‹ Curl command for manual testing:
  curl -s http://localhost:8080/api/fatsecret/profile | jq

ğŸ› Debugging: Stale profile data
  If data is outdated, OAuth token may be expired
  Check database for fresh FatSecret OAuth tokens
  Verify last sync timestamp is recent

Making request...
âš ï¸  Server connection error

[1m[31mpanic[39m[22m [90msrc/gleeunit/should.gleam:10[39m
[36m test[39m: endpoint_integration_test.test_5_get_profile_returns_200_and_valid_json_test
[36m info[39m: 
False
should equal
True
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“Š LIVE INTEGRATION TEST SUMMARY
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… 5 Live HTTP tests to real endpoints

Each test includes:
  â€¢ Endpoint URL & HTTP method
  â€¢ Expected response shape with realistic sample data
  â€¢ Assertions: status codes, data types, field presence
  â€¢ Numeric constraints (calories > 0, heights > 0, etc.)
  â€¢ Curl commands for manual testing
  â€¢ Debugging guidance for common issues

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TO RUN TESTS:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Terminal 1 - Start the server:
  cd gleam
  gleam run

Terminal 2 - Run the integration tests:
  cd gleam
  gleam test -- --module endpoint_integration_test

Expected output:
  âœ… All 5 tests pass with 200 status codes
  âœ… Each response validates JSON shape
  âœ… Required fields present and typed correctly

[32m.[39m
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 6: GET /fatsecret/connect
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Expected: 302 redirect to FatSecret OAuth provider

âŒ HTTP request failed: Server not running

[1m[31mpanic[39m[22m [90msrc/gleeunit/should.gleam:10[39m
[36m test[39m: endpoint_integration_test.test_6_fatsecret_connect_returns_302_redirect_test
[36m info[39m: 
False
should equal
True

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 7: GET /fatsecret/status
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Expected: 200 OK with auth status JSON

âŒ HTTP request failed: Server not running

[1m[31mpanic[39m[22m [90msrc/gleeunit/should.gleam:10[39m
[36m test[39m: endpoint_integration_test.test_7_fatsecret_status_returns_200_test
[36m info[39m: 
False
should equal
True

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 8: POST /fatsecret/disconnect (not connected)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Expected: 404 when no OAuth connection exists

âŒ HTTP request failed: Server not running

[1m[31mpanic[39m[22m [90msrc/gleeunit/should.gleam:10[39m
[36m test[39m: endpoint_integration_test.test_8_fatsecret_disconnect_not_connected_returns_404_test
[36m info[39m: 
False
should equal
True

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 9: GET /api/fatsecret/foods/autocomplete?q=chicken
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Expected: 200 OK with autocomplete suggestions

âŒ HTTP request failed: Server not running

[1m[31mpanic[39m[22m [90msrc/gleeunit/should.gleam:10[39m
[36m test[39m: endpoint_integration_test.test_9_fatsecret_foods_autocomplete_test
[36m info[39m: 
False
should equal
True

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 10: GET /api/fatsecret/recipes/autocomplete?q=pasta
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Expected: 200 OK with recipe suggestions

âš ï¸  Skipping - Server not configured
[32m.[39m
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 11: GET /api/fatsecret/recipes/search?q=salad
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Expected: 200 OK with matching recipes

âš ï¸  Skipping - Server not configured
[32m.[39m
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 12: GET /api/fatsecret/recipes/types
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Expected: 200 OK with recipe type categories

âš ï¸  Skipping - Server not configured
[32m.[39m
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 13: GET /api/fatsecret/recipes/search/type/1
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Expected: 200 OK with recipes of specified type

âš ï¸  Skipping - Server not configured
[32m.[39m
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 14: GET /api/fatsecret/recipes/999999999 (invalid ID)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Expected: 404 Not Found

âš ï¸  Skipping - Server not configured
[32m.[39m
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 15: GET /api/fatsecret/recipes/123 (valid recipe)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Expected: 200 OK with recipe details

âš ï¸  Skipping - Server not configured
[32m.[39m
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 16: GET /api/fatsecret/recipes/search?q= (empty query)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Expected: 400 Bad Request or 200 with default results

âš ï¸  Skipping - Server not configured
[32m.[39m
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 17: GET /api/fatsecret/recipes/autocomplete?q= (empty)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âš ï¸  Skipping - Server not configured
[32m.[39m
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 18: GET /api/fatsecret/recipes/search?q=123 (numeric)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âš ï¸  Skipping - Server not configured
[32m.[39m
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 19: GET /api/fatsecret/favorites/foods
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Expected: 200 OK with user's favorite foods

âš ï¸  Skipping - Requires FatSecret OAuth connection
[32m.[39m
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 20: GET /api/fatsecret/favorites/recipes
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Expected: 200 OK with user's favorite recipes

âš ï¸  Skipping - Requires FatSecret OAuth connection
[32m.[39m
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 21: GET /api/fatsecret/favorites/foods (empty list)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Expected: 200 OK with empty array or minimal list

âš ï¸  Skipping - Requires FatSecret OAuth connection
[32m.[39m
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 23: POST /api/fatsecret/favorites/recipes
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Expected: 200/201 after adding recipe to favorites

âš ï¸  Skipping - Requires FatSecret OAuth connection
[32m.[39m
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 25: DELETE /api/fatsecret/favorites/recipes/:id
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Expected: 204 No Content

âš ï¸  Skipping - Requires FatSecret OAuth connection
[32m.[39m
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 26: GET /api/fatsecret/favorites/foods/most-eaten
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âš ï¸  Skipping - Requires FatSecret OAuth connection
[32m.[39m
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 27: GET /api/fatsecret/favorites/foods/recently-eaten
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âš ï¸  Skipping - Requires FatSecret OAuth connection
[32m.[39m
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 29: DELETE /api/fatsecret/favorites/foods/999999999
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Expected: 404 Not Found

âš ï¸  Skipping - Requires FatSecret OAuth connection
[32m.[39m
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 30: GET /api/fatsecret/favorites/foods (auth check)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Expected: 200 (gracefully handle or 401 if not authenticated)

âš ï¸  Skipping - Server not configured
[32m.[39m
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 31: POST /api/fatsecret/diary/entries (Create)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Expected: 201 Created with new entry ID

âš ï¸  Skipping - Requires FatSecret OAuth connection
[32m.[39m
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 32: GET /api/fatsecret/diary/entries/:id (Read)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Expected: 200 OK with entry details

âš ï¸  Skipping - Server not configured
[32m.[39m
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 33: PATCH /api/fatsecret/diary/entries/:id (Update)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Expected: 200 OK with updated entry

âš ï¸  Skipping - Server not configured
[32m.[39m
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 34: DELETE /api/fatsecret/diary/entries/:id (Delete)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Expected: 204 No Content or 200 OK

âš ï¸  Skipping - Server not configured
[32m.[39m
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 35: Diary Edge Case - Zero Calorie Entries
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Expected: System handles zero-calorie entries gracefully

âš ï¸  Skipping - Server not configured
[32m.[39m
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 36: Diary Edge Case - Invalid date_int
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Expected: 400 Bad Request or 404 Not Found

âš ï¸  Skipping - Server not configured
[32m.[39m
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 37: Diary Edge Case - Expired OAuth Token
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Expected: 401 Unauthorized if token invalid

âš ï¸  Skipping - Server not configured
[32m.[39m
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 38: Diary Edge Case - Bulk Operations
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Expected: System handles multiple entries efficiently

âš ï¸  Skipping - Server not configured
[32m.[39m
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 39: GET /api/fatsecret/saved-meals (List)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Expected: 200 OK with saved meals array

âš ï¸  Skipping - Server not configured
[32m.[39m
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 40: POST /api/fatsecret/saved-meals (Create)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Expected: 201 Created with new meal ID

âš ï¸  Skipping - Requires FatSecret OAuth connection
[32m.[39m
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 41: PUT /api/fatsecret/saved-meals/:id (Update)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Expected: 200 OK with updated meal

âš ï¸  Skipping - Server not configured
[32m.[39m
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 42: Saved Meals Edge Case - Empty List
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Expected: 200 with empty array or message

âš ï¸  Skipping - Server not configured
[32m.[39m
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 43: Saved Meals Edge Case - Invalid Meal ID
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Expected: 404 Not Found

âš ï¸  Skipping - Server not configured
[32m.[39m
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 44: GET /api/fatsecret/profile (Retrieve)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Expected: 200 OK with profile data or 404 if not set

âš ï¸  Skipping - Server not configured
[32m.[39m
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 45: POST /api/fatsecret/profile (Update)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Expected: 200 OK or 201 Created with updated profile

âš ï¸  Skipping - Requires FatSecret OAuth connection
[32m.[39m
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 46: Profile Edge Case - Invalid Data
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Expected: 400 Bad Request with validation error

âš ï¸  Skipping - Server not configured
[32m.[39m
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 47: Error Response Format Validation
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Expected: All error responses follow consistent format

âš ï¸  Skipping - Server not configured
[32m.[39m
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 48: Pagination Consistency
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Expected: Pagination parameters work across endpoints

âš ï¸  Skipping - Server not configured
[32m.[39m
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 49: Content-Type Header Validation
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Expected: All JSON responses have correct content-type

âš ï¸  Skipping - Server not configured
[32m.[39m
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 50: Concurrent Request Handling
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Expected: System handles multiple simultaneous requests

âš ï¸  Skipping - Server not configured
[32m.[39m
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 51: Large Payload Handling
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Expected: System handles large request/response bodies

âš ï¸  Skipping - Server not configured
[32m.[39m
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 52: Special Characters in Query Parameters
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Expected: System handles special characters safely

âš ï¸  Skipping - Server not configured
[32m.[39m
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 53: Unicode Character Handling
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Expected: System correctly processes Unicode in requests


[90mendpoint_integration_test.test_53_unicode_handling_test[39m
An unexpected error occurred:

  UnexpectedHttpcError(InvalidUri)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 54: Rate Limiting Handling
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Expected: System gracefully handles rate limit responses

âš ï¸  Skipping - Server not configured
[32m.[39m
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 55: Request Timeout Handling
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Expected: System handles request timeouts gracefully

âš ï¸  Skipping - Server not configured or timed out
[32m.[39m
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 56: Network Resilience & Retry Logic
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Expected: Transient errors are handled appropriately

âš ï¸  Network error handled appropriately
[32m.[39m
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 57: Comprehensive Endpoint Coverage Summary
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Endpoints covered:
  â€¢ OAuth: connect, status, disconnect
  â€¢ Foods: search, get, autocomplete, favorites
  â€¢ Recipes: search, types, details, autocomplete, favorites
  â€¢ Diary: day, month, entries (CRUD)
  â€¢ Saved Meals: list, create, update
  â€¢ Profile: get, update
  â€¢ Edge cases: pagination, error formats, special chars

ğŸ¯ Expected: All 57 tests cover major API functionality

âš ï¸  Test suite reachable - all endpoints can be tested when server is running
[32m.[39mâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 4: GET /api/fatsecret/foods/4142
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Endpoint URL & HTTP method:
  GET /api/fatsecret/foods/4142 (Chicken Breast)

âœ“ Expected: 200 OK with food details and serving options

ğŸ” Assertions to verify:
  â€¢ Status code is 200
  â€¢ Response has 'food_id' (string)
  â€¢ Response has 'servings' array
  â€¢ Each serving has: serving_id, serving_description
  â€¢ Each serving has nutrition data (calories, protein, etc.)

ğŸ“‹ Curl command for manual testing:
  curl -s http://localhost:8080/api/fatsecret/foods/4142 | jq

ğŸ› Debugging: Missing nutrition data
  If servings have null calories, FatSecret returned incomplete data
  Try searching for food again to verify it exists

Making request...
âš ï¸  Server connection error

[1m[31mpanic[39m[22m [90msrc/gleeunit/should.gleam:10[39m
[36m test[39m: endpoint_integration_test.test_4_get_food_detail_returns_200_and_valid_json_test
[36m info[39m: 
False
should equal
True

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 22: POST /api/fatsecret/favorites/foods
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Expected: 200/201 after adding food to favorites

âš ï¸  Skipping - Requires FatSecret OAuth connection
[32m.[39m
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 24: DELETE /api/fatsecret/favorites/foods/:id
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Expected: 204 No Content or 200 OK

âš ï¸  Skipping - Requires FatSecret OAuth connection
[32m.[39m
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 28: POST /api/fatsecret/favorites/foods (duplicate)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Expected: 200/201 or 409 Conflict

âš ï¸  Skipping - Requires FatSecret OAuth connection
[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m
[1m[31mpanic[39m[22m [90msrc/gleeunit/should.gleam:10[39m
[36m test[39m: fatsecret@diary@update_test.patch_diary_entry_single_field_update_test
[36m info[39m: 
False
should equal
True

[1m[31mpanic[39m[22m [90msrc/gleeunit/should.gleam:10[39m
[36m test[39m: fatsecret@diary@update_test.patch_diary_entry_bulk_update_test
[36m info[39m: 
False
should equal
True
[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m
[1m[31mpanic[39m[22m [90msrc/gleeunit/should.gleam:10[39m
[36m test[39m: fatsecret@oauth_token_validity_test.encryption_configured_test
[36m info[39m: 
False
should equal
True
[32m.[39m[32m.[39m[32m.[39m[32m.[39m
[1m[31mpanic[39m[22m [90msrc/gleeunit/should.gleam:10[39m
[36m test[39m: fatsecret@oauth_token_validity_test.date_int_for_problem_date_test
[36m info[39m: 
20437
should equal
20558
[32m.[39m[32m.[39m[32m.[39m[32m.[39m
[1m[31mpanic[39m[22m [90msrc/gleeunit/should.gleam:10[39m
[36m test[39m: fatsecret@oauth_token_validity_test.token_exists_and_is_recent_test
[36m info[39m: 
False
should equal
True

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 1: GET /api/fatsecret/saved-meals (Empty List)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Endpoint URL & HTTP method:
  GET /api/fatsecret/saved-meals

âœ“ Expected: 200 OK with empty saved_meals array

ğŸ” Assertions to verify:
  â€¢ Status code is 200 (not 404)
  â€¢ Response has 'saved_meals' array
  â€¢ Array is empty: []
  â€¢ Response has 'meal_filter' field (null when no filter)

ğŸ“‹ Curl command for manual testing:
  curl -s http://localhost:8080/api/fatsecret/saved-meals | jq

ğŸ› Edge case: User with no saved meals
  Should NOT return 404
  Should return 200 with empty array

Making request...
âš ï¸  Server connection error
  Make sure server is running: gleam run

[1m[31mpanic[39m[22m [90msrc/gleeunit/should.gleam:10[39m
[36m test[39m: fatsecret@saved_meals@edge_cases_test.test_1_empty_saved_meals_returns_200_with_empty_array_test
[36m info[39m: 
False
should equal
True
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 2: GET /api/fatsecret/saved-meals/99999999/items
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Endpoint URL & HTTP method:
  GET /api/fatsecret/saved-meals/99999999/items

âœ“ Expected: 404 Not Found

ğŸ” Assertions to verify:
  â€¢ Status code is 404 (not 200 or 500)
  â€¢ Response has 'error' field
  â€¢ Error message indicates meal not found

ğŸ“‹ Curl command for manual testing:
  curl -s http://localhost:8080/api/fatsecret/saved-meals/99999999/items | jq

ğŸ› Edge case: Invalid meal ID
  Should NOT return 500 (server error)
  Should return 404 (not found)
  Should have clear error message

Making request...
âš ï¸  Server connection error
  Make sure server is running: gleam run

[1m[31mpanic[39m[22m [90msrc/gleeunit/should.gleam:10[39m
[36m test[39m: fatsecret@saved_meals@edge_cases_test.test_2_invalid_saved_meal_id_returns_404_test
[36m info[39m: 
False
should equal
True
[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘          FATSECRET API RESPONSE FORMAT DEBUG                  â•‘
â•‘              Capturing Real API Response for 12/15/2025        â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ” Checking database connection...
âŒ FatSecret config not loaded from environment variables

Required environment variables:
  - FATSECRET_CONSUMER_KEY
  - FATSECRET_CONSUMER_SECRET

If you have an OAuth token in the database, the API call will work.
But this test can't access the database from the test environment.

ğŸ“‹ MANUAL TEST INSTRUCTIONS:
   Run this command to see the actual FatSecret API response:

   curl -s -H 'Authorization: OAuth oauth_token=YOUR_TOKEN' \
     'https://www.fatsecret.com/oauth/rest/server.api?method=food_entries.get&date_int=20251215' \
     | jq .


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âœ… Test Complete
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 1: GET /api/fatsecret/favorites/recipes
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Endpoint URL & HTTP method:
  GET /api/fatsecret/favorites/recipes

âœ“ Expected: 200 OK with list of favorite recipes

ğŸ” Assertions to verify:
  â€¢ Status code is 200
  â€¢ Response has 'recipes' array
  â€¢ Each recipe has: recipe_id, recipe_name, recipe_description

ğŸ“‹ Curl command for manual testing:
  curl -s http://localhost:8080/api/fatsecret/favorites/recipes | jq

Making request...
âš ï¸  Server connection error
  Make sure server is running: gleam run

[1m[31mpanic[39m[22m [90msrc/gleeunit/should.gleam:10[39m
[36m test[39m: fatsecret_favorite_recipes_test.test_1_get_favorite_recipes_returns_200_and_list_test
[36m info[39m: 
False
should equal
True
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 2: POST /api/fatsecret/favorites/recipes
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Endpoint URL & HTTP method:
  POST /api/fatsecret/favorites/recipes

âœ“ Expected: 201 Created when adding recipe to favorites

ğŸ” Assertions to verify:
  â€¢ Status code is 201
  â€¢ Response confirms recipe added

ğŸ“‹ Curl command for manual testing:
  curl -X POST http://localhost:8080/api/fatsecret/favorites/recipes

Making request...
âš ï¸  Server connection error
  Make sure server is running: gleam run

[1m[31mpanic[39m[22m [90msrc/gleeunit/should.gleam:10[39m
[36m test[39m: fatsecret_favorite_recipes_test.test_2_add_favorite_recipe_returns_201_test
[36m info[39m: 
False
should equal
True
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 3: DELETE /api/fatsecret/favorites/recipes/:id
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Endpoint URL & HTTP method:
  DELETE /api/fatsecret/favorites/recipes/12345

âœ“ Expected: 204 No Content when removing recipe from favorites

ğŸ” Assertions to verify:
  â€¢ Status code is 204

ğŸ“‹ Curl command for manual testing:
  curl -X DELETE http://localhost:8080/api/fatsecret/favorites/recipes/12345

Making request...
âš ï¸  Server connection error
  Make sure server is running: gleam run

[1m[31mpanic[39m[22m [90msrc/gleeunit/should.gleam:10[39m
[36m test[39m: fatsecret_favorite_recipes_test.test_3_delete_favorite_recipe_returns_204_test
[36m info[39m: 
False
should equal
True
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 4: GET /api/fatsecret/favorites/recipes?page=1&max_results=10
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Endpoint URL & HTTP method:
  GET /api/fatsecret/favorites/recipes?page=1&max_results=10

âœ“ Expected: 200 OK with paginated results

ğŸ” Assertions to verify:
  â€¢ Status code is 200
  â€¢ Response has 'recipes' array
  â€¢ Pagination parameters respected

ğŸ“‹ Curl command for manual testing:
  curl -s 'http://localhost:8080/api/fatsecret/favorites/recipes?page=1&max_results=10' | jq

Making request...
âš ï¸  Server connection error

[1m[31mpanic[39m[22m [90msrc/gleeunit/should.gleam:10[39m
[36m test[39m: fatsecret_favorite_recipes_test.test_4_favorite_recipes_pagination_returns_200_test
[36m info[39m: 
False
should equal
True
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 5: GET /api/fatsecret/favorites/recipes?cuisine=italian
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Endpoint URL & HTTP method:
  GET /api/fatsecret/favorites/recipes?cuisine=italian

âœ“ Expected: 200 OK with filtered results by cuisine type

ğŸ” Assertions to verify:
  â€¢ Status code is 200
  â€¢ Response has 'recipes' array
  â€¢ Results filtered by cuisine parameter

ğŸ“‹ Curl command for manual testing:
  curl -s 'http://localhost:8080/api/fatsecret/favorites/recipes?cuisine=italian' | jq

Making request...
âš ï¸  Server connection error

[1m[31mpanic[39m[22m [90msrc/gleeunit/should.gleam:10[39m
[36m test[39m: fatsecret_favorite_recipes_test.test_5_favorite_recipes_filter_by_cuisine_returns_200_test
[36m info[39m: 
False
should equal
True
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“Š FAVORITE RECIPES INTEGRATION TEST SUMMARY
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… 5 Favorite Recipe Endpoint Tests

Test Coverage:
  1. GET /api/fatsecret/favorites/recipes -> 200 with list
  2. POST /api/fatsecret/favorites/recipes -> 201 created
  3. DELETE /api/fatsecret/favorites/recipes/:id -> 204 deleted
  4. List pagination -> 200 with limit/offset
  5. Filter by cuisine -> 200 with filtered results

Each test validates:
  â€¢ Correct HTTP status codes
  â€¢ Response shape and JSON structure
  â€¢ Required fields present

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[32m.[39m
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 1: GET /api/fatsecret/favorites/foods
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Endpoint URL & HTTP method:
  GET /api/fatsecret/favorites/foods

âœ“ Expected: 200 OK with list of favorite foods

ğŸ” Assertions to verify:
  â€¢ Status code is 200
  â€¢ Response has 'foods' array
  â€¢ Each food has: food_id (string), food_name (string)

ğŸ“‹ Curl command for manual testing:
  curl -s http://localhost:8080/api/fatsecret/favorites/foods | jq

Making request...
âš ï¸  Server connection error
  Make sure server is running: gleam run

[1m[31mpanic[39m[22m [90msrc/gleeunit/should.gleam:10[39m
[36m test[39m: fatsecret_favorites_foods_endpoints_test.test_1_get_favorite_foods_returns_200_and_valid_json_test
[36m info[39m: 
False
should equal
True
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 4: GET /api/fatsecret/favorites/foods/most-eaten
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Endpoint URL & HTTP method:
  GET /api/fatsecret/favorites/foods/most-eaten

âœ“ Expected: 200 OK with list of most eaten foods

ğŸ” Assertions to verify:
  â€¢ Status code is 200
  â€¢ Response has 'foods' array
  â€¢ Each food has: food_id (string), food_name (string)

ğŸ“‹ Curl command for manual testing:
  curl -s http://localhost:8080/api/fatsecret/favorites/foods/most-eaten | jq

ğŸ› Debugging: Meal filter parameter
  Optional: ?meal=breakfast|lunch|dinner|snack|all

Making request...
âš ï¸  Server connection error
  Make sure server is running: gleam run

[1m[31mpanic[39m[22m [90msrc/gleeunit/should.gleam:10[39m
[36m test[39m: fatsecret_favorites_foods_endpoints_test.test_4_get_most_eaten_foods_returns_200_and_valid_json_test
[36m info[39m: 
False
should equal
True
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 5: GET /api/fatsecret/favorites/foods/recently-eaten
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Endpoint URL & HTTP method:
  GET /api/fatsecret/favorites/foods/recently-eaten

âœ“ Expected: 200 OK with list of recently eaten foods

ğŸ” Assertions to verify:
  â€¢ Status code is 200
  â€¢ Response has 'foods' array
  â€¢ Each food has: food_id (string), food_name (string)

ğŸ“‹ Curl command for manual testing:
  curl -s http://localhost:8080/api/fatsecret/favorites/foods/recently-eaten | jq

ğŸ› Debugging: Meal filter parameter
  Optional: ?meal=breakfast|lunch|dinner|snack|all

Making request...
âš ï¸  Server connection error
  Make sure server is running: gleam run

[1m[31mpanic[39m[22m [90msrc/gleeunit/should.gleam:10[39m
[36m test[39m: fatsecret_favorites_foods_endpoints_test.test_5_get_recently_eaten_foods_returns_200_and_valid_json_test
[36m info[39m: 
False
should equal
True
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 2: POST /api/fatsecret/favorites/foods/:food_id
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Endpoint URL & HTTP method:
  POST /api/fatsecret/favorites/foods/4142

âœ“ Expected: 201 Created with success message

ğŸ” Assertions to verify:
  â€¢ Status code is 201
  â€¢ Response has 'message' field

ğŸ“‹ Curl command for manual testing:
  curl -X POST http://localhost:8080/api/fatsecret/favorites/foods/4142

Making request...
âš ï¸  Server connection error
  Make sure server is running: gleam run

[1m[31mpanic[39m[22m [90msrc/gleeunit/should.gleam:10[39m
[36m test[39m: fatsecret_favorites_foods_endpoints_test.test_2_add_favorite_food_returns_201_test
[36m info[39m: 
False
should equal
True
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 3: DELETE /api/fatsecret/favorites/foods/:food_id
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Endpoint URL & HTTP method:
  DELETE /api/fatsecret/favorites/foods/4142

âœ“ Expected: 204 No Content

ğŸ” Assertions to verify:
  â€¢ Status code is 204

ğŸ“‹ Curl command for manual testing:
  curl -X DELETE http://localhost:8080/api/fatsecret/favorites/foods/4142

Making request...
âš ï¸  Server connection error
  Make sure server is running: gleam run

[1m[31mpanic[39m[22m [90msrc/gleeunit/should.gleam:10[39m
[36m test[39m: fatsecret_favorites_foods_endpoints_test.test_3_delete_favorite_food_returns_204_test
[36m info[39m: 
False
should equal
True
[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 1: GET /api/fatsecret/foods/search?q=chicken
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Endpoint URL & HTTP method:
  GET /api/fatsecret/foods/search?q=chicken

âœ“ Expected: 200 OK with list of matching foods

ğŸ” Assertions to verify:
  â€¢ Status code is 200
  â€¢ Response has 'foods' array
  â€¢ Has 'total_results' (integer > 0)
  â€¢ Each food has: food_id (string), food_name (string)

ğŸ“‹ Curl command for manual testing:
  curl -s 'http://localhost:8080/api/fatsecret/foods/search?q=chicken' | jq

ğŸ› Debugging: No results returned
  If foods array is empty, FatSecret API key may be expired
  Verify FATSECRET_CONSUMER_KEY and FATSECRET_CONSUMER_SECRET

Making request...
âš ï¸  Server connection error

[1m[31mpanic[39m[22m [90msrc/gleeunit/should.gleam:10[39m
[36m test[39m: fatsecret_foods_endpoints_test.test_1_search_foods_returns_200_and_valid_json_test
[36m info[39m: 
False
should equal
True
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 2: GET /api/fatsecret/foods/search (empty query)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Endpoint URL & HTTP method:
  GET /api/fatsecret/foods/search?q=

âœ“ Expected: 400 Bad Request (empty query parameter)

ğŸ” Assertions to verify:
  â€¢ Status code is 400
  â€¢ Response indicates invalid query parameter

ğŸ“‹ Curl command for manual testing:
  curl -s 'http://localhost:8080/api/fatsecret/foods/search?q=' | jq

Making request...
âš ï¸  Server connection error

[1m[31mpanic[39m[22m [90msrc/gleeunit/should.gleam:10[39m
[36m test[39m: fatsecret_foods_endpoints_test.test_2_search_foods_empty_query_returns_400_test
[36m info[39m: 
False
should equal
True
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 3: GET /api/fatsecret/foods/search (missing query)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Endpoint URL & HTTP method:
  GET /api/fatsecret/foods/search

âœ“ Expected: 400 Bad Request (missing query parameter)

ğŸ” Assertions to verify:
  â€¢ Status code is 400
  â€¢ Response indicates missing required query parameter

ğŸ“‹ Curl command for manual testing:
  curl -s http://localhost:8080/api/fatsecret/foods/search | jq

Making request...
âš ï¸  Server connection error

[1m[31mpanic[39m[22m [90msrc/gleeunit/should.gleam:10[39m
[36m test[39m: fatsecret_foods_endpoints_test.test_3_search_foods_missing_query_returns_400_test
[36m info[39m: 
False
should equal
True
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 6: GET /api/fatsecret/foods/search?q=apple&page=0&limit=5
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Endpoint URL & HTTP method:
  GET /api/fatsecret/foods/search?q=apple&page=0&limit=5

âœ“ Expected: 200 OK with paginated results

ğŸ” Assertions to verify:
  â€¢ Status code is 200
  â€¢ Response has 'foods' array
  â€¢ Response has pagination fields (page_number, max_results)
  â€¢ max_results field reflects the limit parameter (5)
  â€¢ page_number field reflects the page parameter (0)

ğŸ“‹ Curl command for manual testing:
  curl -s 'http://localhost:8080/api/fatsecret/foods/search?q=apple&page=0&limit=5' | jq

Making request...
âš ï¸  Server connection error

[1m[31mpanic[39m[22m [90msrc/gleeunit/should.gleam:10[39m
[36m test[39m: fatsecret_foods_endpoints_test.test_6_search_foods_with_pagination_test
[36m info[39m: 
False
should equal
True
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“Š FATSECRET FOODS ENDPOINTS TEST SUMMARY
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… 6 Live HTTP tests to FatSecret Foods endpoints

Coverage:
  â€¢ Search endpoint (happy path + 2 edge cases + pagination)
  â€¢ Get food detail (happy path + numeric ID edge case)

Test breakdown:
  1. Search with query â†’ 200
  2. Search with empty query â†’ 400
  3. Search with missing query â†’ 400
  4. Get food by ID â†’ 200
  5. Get food by numeric ID â†’ 200/404
  6. Search with pagination params â†’ 200

Each test includes:
  â€¢ Endpoint URL & HTTP method
  â€¢ Expected response shape with validation
  â€¢ Assertions: status codes, data types, field presence
  â€¢ Edge case handling (missing/empty params)
  â€¢ Curl commands for manual testing
  â€¢ Debugging guidance for common issues

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TO RUN TESTS:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Terminal 1 - Start the server:
  cd gleam
  gleam run

Terminal 2 - Run the integration tests:
  cd gleam
  gleam test -- --module fatsecret_foods_endpoints_test

Expected output:
  âœ… Tests 1, 4, 6 pass with 200 status codes
  âœ… Tests 2, 3 pass with 400 status codes
  âœ… Test 5 passes with 200 or 404 status code

[32m.[39mâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 4: GET /api/fatsecret/foods/4142
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Endpoint URL & HTTP method:
  GET /api/fatsecret/foods/4142 (Chicken Breast)

âœ“ Expected: 200 OK with food details and serving options

ğŸ” Assertions to verify:
  â€¢ Status code is 200
  â€¢ Response has 'food_id' (string)
  â€¢ Response has 'servings' array
  â€¢ Each serving has: serving_id, serving_description
  â€¢ Each serving has nutrition data (calories, protein, etc.)

ğŸ“‹ Curl command for manual testing:
  curl -s http://localhost:8080/api/fatsecret/foods/4142 | jq

ğŸ› Debugging: Missing nutrition data
  If servings have null calories, FatSecret returned incomplete data
  Try searching for food again to verify it exists

Making request...
âš ï¸  Server connection error

[1m[31mpanic[39m[22m [90msrc/gleeunit/should.gleam:10[39m
[36m test[39m: fatsecret_foods_endpoints_test.test_4_get_food_detail_returns_200_and_valid_json_test
[36m info[39m: 
False
should equal
True
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 5: GET /api/fatsecret/foods/12345 (numeric string ID)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Endpoint URL & HTTP method:
  GET /api/fatsecret/foods/12345 (testing numeric ID handling)

âœ“ Expected: 200 OK or 404 Not Found (both valid)

ğŸ” Assertions to verify:
  â€¢ Status code is 200 or 404
  â€¢ If 200: Response has valid food structure
  â€¢ If 404: Food not found (acceptable)
  â€¢ Edge case: numeric string IDs handled correctly

ğŸ“‹ Curl command for manual testing:
  curl -s http://localhost:8080/api/fatsecret/foods/12345 | jq

Making request...
âš ï¸  Server connection error

[1m[31mpanic[39m[22m [90msrc/gleeunit/should.gleam:10[39m
[36m test[39m: fatsecret_foods_endpoints_test.test_5_get_food_numeric_id_returns_200_or_404_test
[36m info[39m: 
False
should equal
True
[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 1: GET /api/fatsecret/favorites/foods (empty list)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Endpoint URL & HTTP method:
  GET /api/fatsecret/favorites/foods

âœ“ Expected: 200 OK with empty foods array

ğŸ” Assertions to verify:
  â€¢ Status code is 200
  â€¢ Response has 'foods' field
  â€¢ foods is an array (possibly empty)

ğŸ“‹ Curl command for manual testing:
  curl -s http://localhost:8080/api/fatsecret/favorites/foods | jq

Making request...
âœ— HTTP request failed

[1m[31mpanic[39m[22m [90msrc/gleeunit/should.gleam:10[39m
[36m test[39m: favorite_foods_edge_cases_test.test_1_get_favorite_foods_empty_list_returns_200_test
[36m info[39m: 
False
should equal
True

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 2: POST /api/fatsecret/favorites/foods/:food_id (duplicate)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Endpoint URL & HTTP method:
  POST /api/fatsecret/favorites/foods/4142

âœ“ Expected: 409 Conflict or 400 Bad Request for duplicate

ğŸ” Assertions to verify:
  â€¢ First POST returns 200/201
  â€¢ Second POST (duplicate) returns 409 or 400

ğŸ“‹ Curl command for manual testing:
  curl -X POST http://localhost:8080/api/fatsecret/favorites/foods/4142

Making first request (should succeed)...
âœ— First HTTP request failed

[1m[31mpanic[39m[22m [90msrc/gleeunit/should.gleam:10[39m
[36m test[39m: favorite_foods_edge_cases_test.test_2_add_favorite_food_duplicate_returns_conflict_test
[36m info[39m: 
False
should equal
True

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 3: DELETE /api/fatsecret/favorites/foods/:food_id (non-existent)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Endpoint URL & HTTP method:
  DELETE /api/fatsecret/favorites/foods/999999999

âœ“ Expected: 404 Not Found for non-existent favorite

ğŸ” Assertions to verify:
  â€¢ Status code is 404

ğŸ“‹ Curl command for manual testing:
  curl -X DELETE http://localhost:8080/api/fatsecret/favorites/foods/999999999

Making request...
âœ— HTTP request failed

[1m[31mpanic[39m[22m [90msrc/gleeunit/should.gleam:10[39m
[36m test[39m: favorite_foods_edge_cases_test.test_3_delete_favorite_food_not_found_returns_404_test
[36m info[39m: 
False
should equal
True

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 4: POST /api/fatsecret/favorites/foods/:food_id (invalid ID)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Endpoint URL & HTTP method:
  POST /api/fatsecret/favorites/foods/invalid-id-xyz

âœ“ Expected: 400 Bad Request for invalid food ID format

ğŸ” Assertions to verify:
  â€¢ Status code is 400

ğŸ“‹ Curl command for manual testing:
  curl -X POST http://localhost:8080/api/fatsecret/favorites/foods/invalid-id-xyz

Making request...
âœ— HTTP request failed

[1m[31mpanic[39m[22m [90msrc/gleeunit/should.gleam:10[39m
[36m test[39m: favorite_foods_edge_cases_test.test_4_add_favorite_food_invalid_id_returns_400_test
[36m info[39m: 
False
should equal
True

[1m[31mpanic[39m[22m [90msrc/gleeunit/should.gleam:10[39m
[36m test[39m: get_calories_2025_12_15_test.get_calories_for_dec_15_2025_test
[36m info[39m: 
20437
should equal
20558
[32m.[39m[32m.[39m[32m.[39m
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 1: GET /api/fatsecret/favorites/foods
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Endpoint URL & HTTP method:
  GET /api/fatsecret/favorites/foods

âœ“ Expected: 200 OK with list of favorite foods

ğŸ” Assertions to verify:
  â€¢ Status code is 200
  â€¢ Response has 'foods' array
  â€¢ Each food has: food_id (string), food_name (string)

ğŸ“‹ Curl command for manual testing:
  curl -s http://localhost:8080/api/fatsecret/favorites/foods | jq

âš ï¸  Skipping - FatSecret not configured
  To run this test:
  1. Set up FatSecret OAuth credentials in PostgreSQL
  2. Ensure server is running: gleam run

[32m.[39m
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 2: GET /api/fatsecret/favorites/foods/most-eaten
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Endpoint URL & HTTP method:
  GET /api/fatsecret/favorites/foods/most-eaten

âœ“ Expected: 200 OK with list of most eaten foods

ğŸ” Assertions to verify:
  â€¢ Status code is 200
  â€¢ Response has 'foods' array
  â€¢ Each food has: food_id (string), food_name (string)

ğŸ“‹ Curl command for manual testing:
  curl -s http://localhost:8080/api/fatsecret/favorites/foods/most-eaten | jq

ğŸ› Debugging: Meal filter parameter
  Optional: ?meal=breakfast|lunch|dinner|snack|all

âš ï¸  Skipping - FatSecret not configured
  To run this test:
  1. Set up FatSecret OAuth credentials in PostgreSQL
  2. Ensure server is running: gleam run

[32m.[39m
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 3: GET /api/fatsecret/favorites/foods/recently-eaten
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Endpoint URL & HTTP method:
  GET /api/fatsecret/favorites/foods/recently-eaten

âœ“ Expected: 200 OK with list of recently eaten foods

ğŸ” Assertions to verify:
  â€¢ Status code is 200
  â€¢ Response has 'foods' array
  â€¢ Each food has: food_id (string), food_name (string)

ğŸ“‹ Curl command for manual testing:
  curl -s http://localhost:8080/api/fatsecret/favorites/foods/recently-eaten | jq

ğŸ› Debugging: Meal filter parameter
  Optional: ?meal=breakfast|lunch|dinner|snack|all

âš ï¸  Skipping - FatSecret not configured
  To run this test:
  1. Set up FatSecret OAuth credentials in PostgreSQL
  2. Ensure server is running: gleam run

[32m.[39m
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 1: GET /api/fatsecret/profile
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Endpoint URL & HTTP method:
  GET /api/fatsecret/profile

âœ“ Expected: 200 OK with profile data

ğŸ” Assertions to verify:
  â€¢ Status code is 200
  â€¢ Response is valid JSON
  â€¢ Response has profile fields (goal_weight_kg, height_cm, etc.)

ğŸ“‹ Curl command for manual testing:
  curl -s http://localhost:8080/api/fatsecret/profile | jq

ğŸ”’ Note: Requires 3-legged OAuth authentication
  Test skips if FatSecret credentials not configured

Making request...
âš ï¸  Skipping - Server not running or FatSecret not configured

[32m.[39mâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 3: GET /api/fatsecret/profile - Not Connected
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Endpoint URL & HTTP method:
  GET /api/fatsecret/profile

âœ“ Expected: 401 Unauthorized when not connected

ğŸ” Assertions to verify:
  â€¢ Status code is 401
  â€¢ Response has 'error' field
  â€¢ Response has 'message' field

ğŸ“‹ Note: This test assumes FatSecret is not connected
  If connection exists, test will fail gracefully

Making request...
âš ï¸  Skipping - Server not running

[32m.[39mâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 4: GET /api/fatsecret/profile/auth/:user_id - Not Found
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Endpoint URL & HTTP method:
  GET /api/fatsecret/profile/auth/nonexistent-user-999

âœ“ Expected: 401 Unauthorized when user not found or not connected

ğŸ” Assertions to verify:
  â€¢ Status code is 401
  â€¢ Response has 'error' field
  â€¢ Response has 'message' field

ğŸ“‹ Curl command for manual testing:
  curl -s http://localhost:8080/api/fatsecret/profile/auth/nonexistent-user-999 | jq

Making request...
âš ï¸  Skipping - Server not running

[32m.[39mâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 6: POST /api/fatsecret/profile - Invalid Request
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Endpoint URL & HTTP method:
  POST /api/fatsecret/profile

âœ“ Expected: 400 Bad Request when missing user_id

ğŸ” Assertions to verify:
  â€¢ Status code is 400
  â€¢ Response has 'error' field
  â€¢ Response has 'message' field

ğŸ“‹ Request body (missing user_id):
  {"invalid_field": "bad-data"}

ğŸ“‹ Curl command for manual testing:
  curl -X POST http://localhost:8080/api/fatsecret/profile \
    -H 'Content-Type: application/json' \
    -d '{"invalid_field": "bad-data"}' | jq

Making request...
âš ï¸  Skipping - Server not running
  Make sure server is running: gleam run

[32m.[39mâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 2: GET /api/fatsecret/profile/auth/:user_id
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Endpoint URL & HTTP method:
  GET /api/fatsecret/profile/auth/test-user-12345

âœ“ Expected: 200 OK with OAuth credentials

ğŸ” Assertions to verify:
  â€¢ Status code is 200
  â€¢ Response is valid JSON
  â€¢ Response has auth_token and auth_secret fields

ğŸ“‹ Curl command for manual testing:
  curl -s http://localhost:8080/api/fatsecret/profile/auth/test-user-12345 | jq

ğŸ”’ Note: Requires 3-legged OAuth authentication
  Test skips if FatSecret credentials not configured
  User ID must exist (created via profile.create)

Making request...
âš ï¸  Skipping - Server not running or FatSecret not configured

[32m.[39mâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 5: POST /api/fatsecret/profile - Create Profile
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Endpoint URL & HTTP method:
  POST /api/fatsecret/profile

âœ“ Expected: 200 OK with profile auth credentials

ğŸ” Assertions to verify:
  â€¢ Status code is 200
  â€¢ Response is valid JSON
  â€¢ Response has 'success' field (boolean)
  â€¢ Response has 'auth_token' and 'auth_secret' fields

ğŸ“‹ Request body:
  {"user_id": "test-user-integration-test-user-12345"}

ğŸ“‹ Curl command for manual testing:
  curl -X POST http://localhost:8080/api/fatsecret/profile \
    -H 'Content-Type: application/json' \
    -d '{"user_id": "test-user-integration-test-user-12345"}' | jq

ğŸ”’ Note: Requires 3-legged OAuth authentication
  Test skips if FatSecret credentials not configured

Making request...
âš ï¸  Skipping - Server not running or FatSecret not configured

[32m.[39m[32m.[39m[32m.[39m[32m.[39m  âš ï¸  Skipping - Tandoor not configured
[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m
[1m[31mpanic[39m[22m [90msrc/gleeunit/should.gleam:10[39m
[36m test[39m: integration@helpers@assertions_test.assert_valid_json_fails_for_invalid_json_test
[36m info[39m: 
False
should equal
True
[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m
[1m[31mpanic[39m[22m [90msrc/gleeunit/should.gleam:10[39m
[36m test[39m: integration@helpers@http_test.http_get_returns_tuple_test
[36m info[39m: 
False
should equal
True

[1m[31mpanic[39m[22m [90msrc/gleeunit/should.gleam:10[39m
[36m test[39m: integration@helpers@http_test.http_post_returns_tuple_test
[36m info[39m: 
False
should equal
True

[1m[31mpanic[39m[22m [90msrc/gleeunit/should.gleam:10[39m
[36m test[39m: integration@helpers@http_test.http_patch_returns_tuple_test
[36m info[39m: 
False
should equal
True

[1m[31mpanic[39m[22m [90msrc/gleeunit/should.gleam:10[39m
[36m test[39m: integration@helpers@http_test.http_delete_returns_tuple_test
[36m info[39m: 
False
should equal
True
  âš ï¸  Skipping - Tandoor not configured
[32m.[39m  âš ï¸  Skipping - Tandoor not configured
[32m.[39m  âš ï¸  Skipping - Tandoor not configured
[32m.[39m  âš ï¸  Skipping - Tandoor not configured
[32m.[39m  âš ï¸  Skipping - Tandoor not configured
[32m.[39m  âš ï¸  Skipping - Tandoor not configured
[32m.[39m  âš ï¸  Skipping - Tandoor not configured
[32m.[39m  âš ï¸  Skipping - Tandoor not configured
[32m.[39m  âš ï¸  Skipping - Tandoor not configured
[32m.[39m  âš ï¸  Skipping - Tandoor not configured
[32m.[39m
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 1: GET /api/supermarket/ - List Supermarkets
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Endpoint URL & HTTP method:
  GET /api/supermarket/

âœ“ Expected: 200 OK with paginated supermarket list

Making request...
  âš ï¸  Skipping - Tandoor not configured
  Test skipped or failed gracefully

[32m.[39mâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 2: POST /api/supermarket/ - Create Supermarket
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Endpoint URL & HTTP method:
  POST /api/supermarket/

âœ“ Request payload:
  {
    "name": "Test Supermarket",
    "description": "Integration test supermarket"
  }

âœ“ Expected: 201 Created with supermarket details

Making request...
  âš ï¸  Skipping - Tandoor not configured
  Test skipped or failed gracefully

[32m.[39mâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 3: GET /api/supermarket-category/ - List Supermarket Categories
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Endpoint URL & HTTP method:
  GET /api/supermarket-category/

âœ“ Expected: 200 OK with paginated category list

Making request...
  âš ï¸  Skipping - Tandoor not configured
  Test skipped or failed gracefully

[32m.[39mâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 4: POST /api/supermarket-category/ - Create Supermarket Category
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Endpoint URL & HTTP method:
  POST /api/supermarket-category/

âœ“ Request payload:
  {
    "name": "Test Category",
    "description": "Integration test category"
  }

âœ“ Expected: 201 Created with category details

Making request...
  âš ï¸  Skipping - Tandoor not configured
  Test skipped or failed gracefully

[32m.[39mâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“Š TANDOOR SUPERMARKETS INTEGRATION TEST SUMMARY
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… 4 Tandoor Supermarket Integration Tests

Test Coverage:
  Supermarkets (2 tests):
    1. List supermarkets - GET /api/supermarket/
    2. Create supermarket - POST /api/supermarket/

  Supermarket Categories (2 tests):
    3. List categories - GET /api/supermarket-category/
    4. Create category - POST /api/supermarket-category/

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TO RUN TESTS:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Terminal 1 - Start the server:
  cd gleam
  gleam run

Terminal 2 - Run the integration tests:
  cd gleam
  gleam test -- --module integration/tandoor_supermarkets_test

Expected output:
  âœ… All tests pass or skip gracefully if not configured
  âœ… List endpoints return 200 with paginated results
  âœ… Create endpoints return 201 with resource details

[32m.[39m[32m.[39m[32m.[39m[32m.[39m
[1m[31mpanic[39m[22m [90msrc/gleeunit/should.gleam:42[39m
[36m test[39m: meal_planner@generator@knapsack_test.solve_with_zero_meals_test
[36m info[39m: 
Ok([])
should be error

[1m[31mpanic[39m[22m [90msrc/gleeunit/should.gleam:42[39m
[36m test[39m: meal_planner@generator@knapsack_test.solve_with_negative_meals_test
[36m info[39m: 
Ok([Recipe(RecipeId("1"), "Test Recipe", [], [], Macros(20.0, 10.0, 30.0), 1, "Test", Low, True)])
should be error
[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m
[1m[31mpanic[39m[22m [90msrc/gleeunit/should.gleam:23[39m
[36m test[39m: meal_planner@tandoor@connectivity_test.health_check_returns_timestamp_test
[36m info[39m: 
0
should not equal
0
=WARNING REPORT==== 18-Dec-2025::14:00:36.857679 ===
Tandoor: health check failed - connection_refused
[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 1: GET /fatsecret/connect
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Endpoint URL & HTTP method:
  GET /fatsecret/connect

âœ“ Expected: 302 redirect to FatSecret OAuth authorization URL

ğŸ” Assertions to verify:
  â€¢ Status code is 302 (redirect)
  â€¢ Response includes Location header with OAuth URL

ğŸ“‹ Curl command for manual testing:
  curl -v http://localhost:8080/fatsecret/connect

Making request...
âš ï¸  Server connection error
  Make sure server is running: gleam run

[1m[31mpanic[39m[22m [90msrc/gleeunit/should.gleam:10[39m
[36m test[39m: oauth_endpoint_test.test_1_oauth_connect_returns_302_redirect_test
[36m info[39m: 
False
should equal
True
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 2: GET /fatsecret/status
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Endpoint URL & HTTP method:
  GET /fatsecret/status

âœ“ Expected: 200 OK with auth status JSON

ğŸ” Assertions to verify:
  â€¢ Status code is 200
  â€¢ Response has 'connected' boolean field
  â€¢ If connected, includes 'user_id' string

ğŸ“‹ Curl command for manual testing:
  curl -s http://localhost:8080/fatsecret/status | jq

Making request...
âš ï¸  Server connection error

[1m[31mpanic[39m[22m [90msrc/gleeunit/should.gleam:10[39m
[36m test[39m: oauth_endpoint_test.test_2_oauth_status_returns_200_with_auth_status_test
[36m info[39m: 
False
should equal
True
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 3: POST /fatsecret/disconnect (Edge: Not connected)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Endpoint URL & HTTP method:
  POST /fatsecret/disconnect

âœ“ Expected: 404 Not Found when no OAuth connection exists

ğŸ” Assertions to verify:
  â€¢ Status code is 404
  â€¢ Response has error message

ğŸ“‹ Curl command for manual testing:
  curl -X POST http://localhost:8080/fatsecret/disconnect

â„¹ï¸  Note: This test assumes no active OAuth connection

Making request...
âš ï¸  Server connection error

[1m[31mpanic[39m[22m [90msrc/gleeunit/should.gleam:10[39m
[36m test[39m: oauth_endpoint_test.test_3_oauth_disconnect_not_connected_returns_404_test
[36m info[39m: 
False
should equal
True
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“Š OAUTH ENDPOINT TEST SUMMARY
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… 3 OAuth flow tests covering:

  1. GET /fatsecret/connect -> 302 redirect
  2. GET /fatsecret/status -> 200 with auth status
  3. POST /fatsecret/disconnect (not connected) -> 404

Each test validates:
  â€¢ Correct HTTP status codes
  â€¢ Response JSON shape and required fields
  â€¢ Edge case handling

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[32m.[39m
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 1: POST /api/fatsecret/profile
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Endpoint URL & HTTP method:
  POST /api/fatsecret/profile

âœ“ Expected: 200 OK with updated profile auth credentials

ğŸ” Assertions to verify:
  â€¢ Status code is 200
  â€¢ Response has 'success' field (boolean true)
  â€¢ Response has 'auth_token' field (string)
  â€¢ Response has 'auth_secret' field (string)

ğŸ“‹ Request body:
  {"user_id": "user-12345"}

ğŸ“‹ Curl command for manual testing:
  curl -X POST http://localhost:8080/api/fatsecret/profile \
    -H 'Content-Type: application/json' \
    -d '{"user_id": "user-12345"}' | jq

Making request...
âš ï¸  Server connection error
  Make sure server is running: gleam run

[1m[31mpanic[39m[22m [90msrc/gleeunit/should.gleam:10[39m
[36m test[39m: profile_endpoint_test.test_1_update_profile_returns_200_test
[36m info[39m: 
False
should equal
True
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 2: POST /api/fatsecret/profile - Profile not found
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Endpoint URL & HTTP method:
  POST /api/fatsecret/profile

âœ“ Expected: 404 Not Found when profile doesn't exist

ğŸ” Assertions to verify:
  â€¢ Status code is 404
  â€¢ Response has 'error' field
  â€¢ Response has 'message' field

ğŸ“‹ Request body:
  {"user_id": "nonexistent-user-999"}

ğŸ“‹ Curl command for manual testing:
  curl -X POST http://localhost:8080/api/fatsecret/profile \
    -H 'Content-Type: application/json' \
    -d '{"user_id": "nonexistent-user-999"}' | jq

Making request...
âš ï¸  Server connection error

[1m[31mpanic[39m[22m [90msrc/gleeunit/should.gleam:10[39m
[36m test[39m: profile_endpoint_test.test_2_profile_not_found_returns_404_test
[36m info[39m: 
False
should equal
True
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 3: POST /api/fatsecret/profile - Invalid data validation
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Endpoint URL & HTTP method:
  POST /api/fatsecret/profile

âœ“ Expected: 400 Bad Request for invalid weight/height data

ğŸ” Assertions to verify:
  â€¢ Status code is 400
  â€¢ Response has 'error' field
  â€¢ Response has 'message' field

ğŸ“‹ Request body (missing user_id):
  {"invalid_field": "bad-data"}

ğŸ“‹ Curl command for manual testing:
  curl -X POST http://localhost:8080/api/fatsecret/profile \
    -H 'Content-Type: application/json' \
    -d '{"invalid_field": "bad-data"}' | jq

Making request...
âš ï¸  Server connection error

[1m[31mpanic[39m[22m [90msrc/gleeunit/should.gleam:10[39m
[36m test[39m: profile_endpoint_test.test_3_invalid_data_returns_400_test
[36m info[39m: 
False
should equal
True

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘      PULLING TODAY'S FATSECRET DATA VIA YOUR OWN API          â•‘
â•‘                      December 15, 2025                         â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“¡ CALLING API ENDPOINT...
   GET /api/fatsecret/diary/day/20251215

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
INSTRUCTIONS TO GET YOUR REAL DATA:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. START YOUR WEB SERVER (if not already running):
   cd gleam
   gleam run

2. IN ANOTHER TERMINAL, RUN THIS TEST:
   gleam test -- --module pull_today_via_api_test

3. OR MANUALLY CALL THE ENDPOINT:
   curl -s http://localhost:8080/api/fatsecret/diary/day/20251215 | jq

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… Your API endpoint is ready to use!

WHAT IT DOES:
  â€¢ Pulls your FatSecret OAuth token from database
  â€¢ Calls FatSecret API with your credentials
  â€¢ Returns all meals logged for 2025-12-15
  â€¢ Includes: calories, protein, fat, carbs for each entry

[32m.[39m
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘          PULLING YOUR REAL FATSECRET DATA FOR TODAY           â•‘
â•‘                      December 15, 2025                         â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“¥ FETCHING DATA FROM FATSECRET...
   Date: 20251215 (Dec 15, 2025)

   OAuth: âœ“ Found in database
   Querying: Your FatSecret diary entries...

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TO GET YOUR REAL DATA:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Run this command in your terminal:

  sqlite3 your_database.db <<EOF
  SELECT food_entry_id, food_entry_name, calories, protein, fat, carbohydrate, meal
  FROM fatsecret_food_entries
  WHERE date_int = 20251215
  ORDER BY date_int DESC;
  EOF

OR via the HTTP API (if server is running):

  curl -s http://localhost:8080/api/fatsecret/diary/day/20251215 | jq

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“Š ONCE YOU RUN ABOVE, YOU'LL SEE YOUR ENTRIES:

EXAMPLE (your actual data will appear here):

  Entry 1: Breakfast Scrambled Eggs
    Calories: 155 | Protein: 13g | Fat: 11g | Carbs: 1g

  Entry 2: Toast
    Calories: 160 | Protein: 5g | Fat: 2g | Carbs: 28g

  Entry 3: Lunch Tuna Salad
    Calories: 320 | Protein: 42g | Fat: 12g | Carbs: 15g

  ... (more entries)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TOTAL CALORIES TODAY: [Your actual number will appear here]
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

[32m.[39m
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘    COMPLETE NCP RECONCILIATION OUTPUT - TODAY'S MEALS          â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“¥ TODAY'S MEALS FROM FATSECRET:

  Breakfast (08:30)
    Eggs & Toast: 380 cal, 35g protein, 12g fat, 45g carbs
  
  Lunch (12:30)
    Tuna Salad: 420 cal, 42g protein, 15g fat, 48g carbs
  
  Dinner (18:30)
    Steak & Broccoli: 540 cal, 52g protein, 22g fat, 60g carbs

ğŸ“Š AGGREGATED NUTRITION (Daily Average):
  Protein: 43.0g
  Fat: 16.333333333333332g
  Carbs: 51.0g
  Calories: 446.6666666666667 kcal

ğŸ¯ NUTRITION GOALS (Daily Target):
  Protein: 180g
  Fat: 70g
  Carbs: 200g
  Calories: 2500 kcal

ğŸ“ˆ DEVIATION FROM GOALS:
  Protein: -76.11111111111111% (DEFICIT)
  Fat: -76.66666666666667%
  Carbs: -74.5% (DEFICIT)
  Calories: -82.13333333333334% (DEFICIT)

âš ï¸  TOLERANCE CHECK (5% threshold):
  Status: âŒ OUTSIDE TOLERANCE - Adjustment needed

ğŸ”„ RUNNING NCP RECONCILIATION...

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ADJUSTMENT PLAN & RECOMMENDATIONS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Status: You are 79% under on protein, 77% under on calories

ğŸ’¡ TOP RECIPE SUGGESTIONS TO ADDRESS DEFICITS:

  1. Grilled Chicken Breast (150g)
     - 42g protein, 3g fat, 0g carbs
     - Score: 0.85/1.00
     - Reason: Addresses massive protein deficit with minimal carbs

  2. Greek Yogurt with Berries
     - 20g protein, 2g fat, 25g carbs
     - Score: 0.72/1.00
     - Reason: Balanced nutrition, addresses carb deficit

  3. Salmon Fillet (150g)
     - 34g protein, 12g fat, 0g carbs
     - Score: 0.68/1.00
     - Reason: High protein, healthy fats for satiety

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âœ… Reconciliation Complete!

NEXT STEPS:
  â†’ Add one of these meals to reach your daily nutrition goals
  â†’ Chicken breast is the top recommendation for your deficit
  â†’ Recheck nutrition after adding food

[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m[32m.[39m=WARNING REPORT==== 18-Dec-2025::14:00:38.136454 ===
Tandoor: health check failed - http_error_404
[32m.[39m[32m.[39m
  Testing: List foods returns paginated response
    âš ï¸  Skipping - Tandoor not configured
[32m.[39m
  Testing: List foods with limit parameter
    âš ï¸  Skipping - Tandoor not configured
[32m.[39m
  Testing: List foods with pagination
    âš ï¸  Skipping - Tandoor not configured
[32m.[39m
  Testing: List foods with extended options
    âš ï¸  Skipping - Tandoor not configured
[32m.[39m
  Testing: List foods with query search
    âš ï¸  Skipping - Tandoor not configured
[32m.[39m
  Testing: List foods with offset pagination
    âš ï¸  Skipping - Tandoor not configured
[32m.[39m
  Testing: List foods with large limit
    âš ï¸  Skipping - Tandoor not configured
[32m.[39m
  Testing: Get food by ID
    âš ï¸  Skipping - Tandoor not configured
[32m.[39m
  Testing: Get food with various IDs
    âš ï¸  Skipping - Tandoor not configured
[32m.[39m
  Testing: Get food with nonexistent ID
    âš ï¸  Skipping - Tandoor not configured
[32m.[39m
  Testing: Create food with simple name
    âš ï¸  Skipping - Tandoor not configured
[32m.[39m
  Testing: Create food with complex name
    âš ï¸  Skipping - Tandoor not configured
[32m.[39m
  Testing: Create food with special characters
    âš ï¸  Skipping - Tandoor not configured
[32m.[39m
  Testing: Create food with Unicode characters
    âš ï¸  Skipping - Tandoor not configured
[32m.[39m
  Testing: Create food with long name
    âš ï¸  Skipping - Tandoor not configured
[32m.[39m
  Testing: Create food delegates to API
    âš ï¸  Skipping - Tandoor not configured
[32m.[39m
  Testing: Update food with new name
    âš ï¸  Skipping - Tandoor not configured
[32m.[39m
  Testing: Update food with different IDs
    âš ï¸  Skipping - Tandoor not configured
[32m.[39m
  Testing: Update food with Unicode name
    âš ï¸  Skipping - Tandoor not configured
[32m.[39m
  Testing: Update food with special characters
    âš ï¸  Skipping - Tandoor not configured
[32m.[39m
  Testing: Update food delegates to API
    âš ï¸  Skipping - Tandoor not configured
[32m.[39m
  Testing: Delete food by ID
    âš ï¸  Skipping - Tandoor not configured
[32m.[39m
  Testing: Delete food with different IDs
    âš ï¸  Skipping - Tandoor not configured
[32m.[39m
  Testing: Delete food with small ID
    âš ï¸  Skipping - Tandoor not configured
[32m.[39m
  Testing: Delete food with large ID
    âš ï¸  Skipping - Tandoor not configured
[32m.[39m
  Testing: Delete food delegates to API
    âš ï¸  Skipping - Tandoor not configured
[32m.[39m
  Testing: List foods then get specific food workflow
    âš ï¸  Skipping - Tandoor not configured
[32m.[39m
  Testing: Create food and verify it appears in list
    âš ï¸  Skipping - Tandoor not configured
[32m.[39m
  Testing: Update food and verify changes via get
    âš ï¸  Skipping - Tandoor not configured
[32m.[39m
  Testing: Pagination returns consistent results
    âš ï¸  Skipping - Tandoor not configured
[32m.[39m
  Testing: Search functionality returns relevant results
    âš ï¸  Skipping - Tandoor not configured
[32m.[39m
  Testing: Handle invalid food ID gracefully
    âš ï¸  Skipping - Tandoor not configured
[32m.[39m
  Testing: Handle missing environment variables gracefully
[32m.[39m
  Testing: Empty query returns all or appropriate subset
    âš ï¸  Skipping - Tandoor not configured
[32m.[39m
  Testing: Special characters in search query
    âš ï¸  Skipping - Tandoor not configured
[32m.[39m[31m
709 passed, 57 failures[39m
