{
  "analysis_date": "2025-12-03",
  "agent": "redundancy-analyzer",
  "thread_id": "CLEANUP-2025-001",
  "summary": {
    "total_similar_groups": 2,
    "highest_similarity": 85,
    "potential_space_savings": "15 KB"
  },
  "similar_file_groups": [
    {
      "group_id": "save_food_to_log_docs",
      "similarity_score": 85,
      "reason": "Multiple documentation approaches for same feature",
      "files": [
        {
          "path": "docs/architecture/save_food_to_log_design.md",
          "size": 24576,
          "type": "comprehensive_design",
          "unique_content": [
            "ADR (Architecture Decision Records)",
            "Database schema with CHECK constraints",
            "Security architecture deep dive",
            "Performance benchmarks and optimization",
            "Migration strategy",
            "Implementation checklist"
          ]
        },
        {
          "path": "docs/architecture/save_food_to_log_diagrams.md",
          "size": 23552,
          "type": "visual_documentation",
          "unique_content": [
            "ASCII art system diagrams",
            "C4 architecture diagrams",
            "Data flow visualizations",
            "Authorization flow charts",
            "Nutrient parsing flow",
            "Error handling decision trees"
          ]
        },
        {
          "path": "docs/architecture/save_food_to_log_quickref.md",
          "size": 14336,
          "type": "implementation_guide",
          "unique_content": [
            "Copy-paste code snippets",
            "Implementation order checklist",
            "Common pitfalls section",
            "Performance targets table",
            "Security checklist"
          ]
        }
      ],
      "overlapping_content": [
        "Function signatures (repeated 3 times)",
        "Type definitions (repeated 3 times)",
        "Error handling patterns (similar across all 3)",
        "Basic architecture concepts"
      ],
      "consolidation_strategy": {
        "approach": "MERGE_WITH_SECTIONS",
        "target_file": "docs/architecture/save_food_to_log.md",
        "structure": [
          {
            "section": "Quick Reference",
            "source": "quickref.md",
            "purpose": "Fast lookup for developers"
          },
          {
            "section": "Architecture & Design",
            "source": "design.md",
            "purpose": "In-depth technical decisions"
          },
          {
            "section": "Visual Diagrams",
            "source": "diagrams.md",
            "purpose": "Understanding system flow"
          }
        ],
        "estimated_size": "45 KB (vs current 61 KB)",
        "space_saved": "16 KB",
        "benefits": [
          "Single source of truth",
          "Easier to maintain consistency",
          "Better navigation with TOC",
          "Reduced cognitive overhead for developers"
        ]
      },
      "priority": "MEDIUM",
      "effort": "LOW (1-2 hours)"
    },
    {
      "group_id": "gleam_stdlib_duplication",
      "similarity_score": 60,
      "reason": "Build artifacts duplicated across multiple build directories",
      "files": [
        {
          "path": "gleam/build/packages/gleam_stdlib/gleam.toml",
          "size": 14336
        },
        {
          "path": "shared/build/packages/gleam_stdlib/gleam.toml",
          "size": 14336
        },
        {
          "path": "gleam/build/dev/erlang/*/gleam.toml",
          "size": "various"
        }
      ],
      "consolidation_strategy": {
        "approach": "NO_ACTION_REQUIRED",
        "reason": "These are legitimate build artifacts managed by Gleam build system",
        "note": "Each subproject (gleam/, server/, shared/) has its own build directory with dependencies"
      },
      "priority": "NONE"
    }
  ],
  "code_similarity_analysis": {
    "note": "No significant copy-pasted code blocks detected in source files",
    "methodology": "Manual review of Gleam source files",
    "findings": [
      {
        "pattern": "UI component structure",
        "files": [
          "gleam/src/meal_planner/ui/components/button.gleam",
          "gleam/src/meal_planner/ui/components/card.gleam",
          "gleam/src/meal_planner/ui/components/forms.gleam"
        ],
        "similarity": "LOW (25%)",
        "reason": "Common patterns but not duplicates - appropriate abstraction level",
        "recommendation": "NO_ACTION - This is good component modularity"
      },
      {
        "pattern": "Test setup functions",
        "files": [
          "Multiple *_test.gleam files",
          "Shared test utilities"
        ],
        "similarity": "MEDIUM (40%)",
        "reason": "Common test setup patterns",
        "recommendation": "CONSIDER - Extract common test utilities to shared test helper module",
        "priority": "LOW"
      }
    ]
  },
  "type_definition_analysis": {
    "finding": "No significant duplicate type definitions found",
    "note": "Type system is well-organized with shared/src/shared/types.gleam as single source of truth",
    "recommendation": "MAINTAIN - Current architecture is clean"
  }
}
