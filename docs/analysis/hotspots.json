{
  "analysis_date": "2025-12-03",
  "description": "Files with high commit churn indicating either instability or active development hotspots",
  "high_churn_files": [
    {
      "file": ".beads/beads.jsonl",
      "commits": 148,
      "status": "stable_hotspot",
      "reason": "Issue tracking system, expected high activity",
      "action": "Monitor for performance, consider archiving old issues",
      "refactoring_needed": false
    },
    {
      "file": ".beads/issues.jsonl",
      "commits": 47,
      "status": "active_hotspot",
      "reason": "Current issue tracking, actively growing",
      "action": "None - working as designed",
      "refactoring_needed": false
    },
    {
      "file": ".claude-flow/metrics/system-metrics.json",
      "commits": 21,
      "size": "464KB",
      "status": "problematic_hotspot",
      "reason": "Auto-generated file tracked in git, grows continuously",
      "action": "URGENT: Add to .gitignore, stop tracking",
      "refactoring_needed": true
    },
    {
      "file": ".claude-flow/metrics/performance.json",
      "commits": 17,
      "status": "problematic_hotspot",
      "reason": "Auto-generated metrics tracked in git",
      "action": "Add to .gitignore",
      "refactoring_needed": true
    },
    {
      "file": ".claude-flow/metrics/task-metrics.json",
      "commits": 17,
      "status": "problematic_hotspot",
      "reason": "Auto-generated metrics tracked in git",
      "action": "Add to .gitignore",
      "refactoring_needed": true
    },
    {
      "file": "gleam/src/meal_planner/web.gleam",
      "commits": "~15-20",
      "status": "active_development_hotspot",
      "reason": "Main web routing file, frequent API changes",
      "action": "Consider splitting into multiple modules if > 500 lines",
      "refactoring_needed": "evaluate_size"
    },
    {
      "file": "gleam/src/meal_planner/storage.gleam",
      "commits": "~12-15",
      "status": "active_development_hotspot",
      "reason": "Database layer evolving with PostgreSQL migration",
      "action": "Monitor complexity, may need splitting",
      "refactoring_needed": "evaluate_size"
    },
    {
      "file": "shared/src/shared/types.gleam",
      "commits": "~10-15",
      "status": "consolidation_hotspot",
      "reason": "Type consolidation from refactor (meal-planner-d09)",
      "action": "Should stabilize soon post-refactor",
      "refactoring_needed": false
    }
  ],
  "refactoring_candidates": [
    {
      "file": "gleam/src/meal_planner/web.gleam",
      "reason": "Central routing file with many endpoints",
      "suggested_split": [
        "gleam/src/meal_planner/web/recipes_routes.gleam",
        "gleam/src/meal_planner/web/food_log_routes.gleam",
        "gleam/src/meal_planner/web/user_routes.gleam",
        "gleam/src/meal_planner/web/auto_planner_routes.gleam"
      ],
      "priority": "medium"
    },
    {
      "file": "gleam/src/meal_planner/storage.gleam",
      "reason": "Large storage layer handling multiple entities",
      "suggested_split": [
        "gleam/src/meal_planner/storage/recipes.gleam",
        "gleam/src/meal_planner/storage/food_logs.gleam",
        "gleam/src/meal_planner/storage/users.gleam"
      ],
      "priority": "low"
    }
  ],
  "churn_by_workspace": {
    "root": {
      "files": [".beads/", ".claude-flow/", ".swarm/", ".gitignore"],
      "churn_level": "high",
      "reason": "Tooling configuration and issue tracking"
    },
    "gleam/": {
      "churn_level": "very_high",
      "reason": "Active development workspace - auto-planner, UI components, recipes",
      "hotspot_files": ["web.gleam", "storage.gleam", "auto_planner/types.gleam"]
    },
    "server/": {
      "churn_level": "medium",
      "reason": "Stabilizing after PostgreSQL migration",
      "hotspot_files": ["web.gleam", "storage.gleam"]
    },
    "shared/": {
      "churn_level": "medium",
      "reason": "Type consolidation after refactor",
      "hotspot_files": ["types.gleam"]
    },
    "docs/": {
      "churn_level": "very_high",
      "reason": "Active documentation from recent swarm work",
      "note": "22+ docs created 2025-12-03, shows good practices"
    },
    ".claude/": {
      "churn_level": "one_time_bulk",
      "reason": "400+ agent/command files added 2025-12-01 in single commit",
      "note": "May be template boilerplate, review if all needed"
    }
  }
}