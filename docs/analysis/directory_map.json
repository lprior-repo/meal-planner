{
  "analysis_metadata": {
    "timestamp": "2025-12-03T11:56:00Z",
    "analyzer_agent": "structure-analyzer",
    "thread_id": "CLEANUP-2025-001",
    "project_root": "/home/lewis/src/meal-planner"
  },
  "directory_structure": {
    "root": {
      "path": "/home/lewis/src/meal-planner",
      "total_size": "324M",
      "directories": [
        {
          "name": "db_export",
          "size": "208M",
          "file_count": "unknown",
          "purpose": "Database exports",
          "status": "oversized",
          "recommendation": "Move to gitignore, consider archival storage"
        },
        {
          "name": "gleam",
          "size": "61M",
          "file_count": "1000+",
          "purpose": "Main Gleam application",
          "status": "contains build artifacts",
          "recommendation": "Clean build/ directory, organize priv/static"
        },
        {
          "name": "node_modules",
          "size": "52M",
          "file_count": "unknown",
          "purpose": "Node dependencies",
          "status": "normal",
          "recommendation": "Ensure in .gitignore"
        },
        {
          "name": "shared",
          "size": "2.9M",
          "file_count": "unknown",
          "purpose": "Shared resources",
          "status": "needs audit",
          "recommendation": "Review for organization"
        },
        {
          "name": "docs",
          "size": "924K",
          "file_count": "50+",
          "purpose": "Documentation",
          "status": "well-organized",
          "recommendation": "Consolidate duplicate docs"
        },
        {
          "name": "server",
          "size": "268K",
          "purpose": "Server code",
          "status": "needs review",
          "recommendation": "Merge into gleam/ or clarify separation"
        },
        {
          "name": "recipes",
          "size": "68K",
          "purpose": "Recipe data",
          "status": "acceptable",
          "recommendation": "Consider moving to gleam/priv/data/"
        },
        {
          "name": "specs",
          "size": "56K",
          "purpose": "Specifications",
          "status": "acceptable",
          "recommendation": "Merge with docs/architecture/"
        },
        {
          "name": "scripts",
          "size": "40K",
          "purpose": "Utility scripts",
          "status": "mixed content",
          "recommendation": "Separate by language/purpose"
        },
        {
          "name": "memory",
          "size": "12K",
          "purpose": "Memory storage",
          "status": "unclear purpose",
          "recommendation": "Document or remove"
        },
        {
          "name": "mcp_agent_mail",
          "size": "0",
          "purpose": "Agent communication",
          "status": "empty",
          "recommendation": "Remove if unused"
        }
      ],
      "hidden_directories": [
        {
          "name": ".beads",
          "contains": ["README.md", "beads.db", "beads.db-wal", "beads.db-shm", "metadata.json"],
          "status": "active database",
          "recommendation": "Add to .gitignore, document purpose"
        },
        {
          "name": ".claude-flow",
          "contains": ["metrics/"],
          "file_count": 4,
          "total_size": "476K",
          "status": "metrics accumulation",
          "recommendation": "Implement rotation/cleanup policy"
        },
        {
          "name": ".swarm",
          "contains": ["memory.db", "memory.db-shm", "memory.db-wal"],
          "total_size": "76K",
          "status": "active database",
          "recommendation": "Add to .gitignore"
        },
        {
          "name": ".hive-mind",
          "contains": ["hive.db"],
          "status": "active database",
          "recommendation": "Add to .gitignore, consolidate with .swarm"
        },
        {
          "name": ".claude",
          "contains": ["agents/", "commands/"],
          "file_count": "200+",
          "status": "large configuration directory",
          "recommendation": "Keep, well-organized"
        }
      ]
    }
  },
  "file_type_distribution": {
    "markdown": {
      "count": "150+",
      "locations": [".claude/", "docs/", "root/"],
      "status": "widespread"
    },
    "gleam": {
      "count": "100+",
      "locations": ["gleam/src/", "gleam/test/"],
      "status": "well-organized"
    },
    "json": {
      "count": "50+",
      "locations": [".claude-flow/metrics/", ".beads/", "root/", "gleam/build/"],
      "status": "scattered"
    },
    "css": {
      "count": "5",
      "locations": ["gleam/priv/static/css/"],
      "status": "well-organized"
    },
    "javascript": {
      "count": "4",
      "locations": ["gleam/priv/static/js/", "root/", "gleam/build/"],
      "status": "mixed"
    },
    "sql": {
      "count": "unknown",
      "locations": ["gleam/migrations/", "gleam/migrations_pg/"],
      "status": "organized"
    },
    "database_files": {
      "count": "5",
      "files": [
        ".beads/beads.db",
        ".hive-mind/hive.db",
        ".swarm/memory.db"
      ],
      "status": "should not be in git",
      "recommendation": "Add *.db, *.db-shm, *.db-wal to .gitignore"
    }
  },
  "metrics_analysis": {
    "primary_metrics": {
      "location": ".claude-flow/metrics/",
      "files": [
        {
          "name": "system-metrics.json",
          "size": "475KB",
          "status": "bloated",
          "recommendation": "Implement rotation, archive old metrics"
        },
        {
          "name": "performance.json",
          "size": "1.7KB",
          "status": "acceptable"
        },
        {
          "name": "task-metrics.json",
          "size": "177B",
          "status": "minimal"
        },
        {
          "name": "agent-metrics.json",
          "size": "2B",
          "status": "nearly empty"
        }
      ]
    },
    "duplicate_metrics": {
      "location": "gleam/.claude-flow/metrics/",
      "status": "duplicate metrics directory exists",
      "files": ["performance.json", "task-metrics.json"],
      "recommendation": "Consolidate with root .claude-flow/metrics/ or remove"
    }
  },
  "summary": {
    "total_directories_scanned": 25,
    "total_files_identified": "1500+",
    "major_issues_found": 12,
    "critical_issues": 4,
    "warnings": 8
  }
}
