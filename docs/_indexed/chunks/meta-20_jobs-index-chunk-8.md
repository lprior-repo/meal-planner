---
doc_id: meta/20_jobs/index
chunk_id: meta/20_jobs/index#chunk-8
heading_path: ["Jobs", "Job Progress Stream API"]
chunk_type: code
tokens: 1220
summary: "Job Progress Stream API"
---

## Job Progress Stream API

This section is relevant if you want to use the API of Windmill to build your own client or frontend that watch the progress of a job, retrieve its new logs, result stream and get the job at completion with its result and all job metadata.

Windmill provides an [SSE endpoint](https://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events/Using_server-sent_events) to watch a given job for new logs or completion. The API endpoint is [api/job/get/w/\{workspace\}/jobs_u/getupdate_sse/\{id\}](https://app.windmill.dev/openapi.html#tag/job/get/w/{workspace}/jobs_u/getupdate_sse/{id})

It takes as query args:

### Job progress SSE Query args

```
running (optional boolean, default false): was the job already running ? Optimization for the backend to not waste time checking if the job is running if we know it's already the case
log_offset (optional integer, default 0): what was the last log offset known by the client to start from when streaming new logs
stream_offset (optional integer, default 0): what was the last log offset known by the client to start from when streaming the result stream
get_progress (optional integer, default false): should the updates contains [explicit job progress](/docs/advanced//19_explicit_progress/index.mdx)
only_result (optional integer, default false): should we only care about the result and ignore all else
no_logs (optionbal boolean, default false): should we skip streaming logs
```

### Job Progress event response

The response from the SSE endpoint is a stream of JSON objects, each with a `type` field indicating the kind of event. The possible shapes are:

- **Update**

  The updates will only contain new updates since the last one, no update will be sent if there are no updates to share, otherwise the maximum frequency at which updates are sent is every 100ms.

  with only_result = false (default):
  ```json
  {
    "type": "update",
    "running": true,                // optional, boolean: whether the job is running
    "completed": false,             // optional, boolean: whether the job is completed
    "new_logs": "string",           // optional, string: new logs since last update
    "new_result_stream": "string",  // optional, string: new result stream data since last update
    "log_offset": 123,              // optional, integer: current log offset
    "stream_offset": 456,           // optional, integer: current result stream offset
    "mem_peak": 789,                // optional, integer: peak memory usage
    "progress": 50,                 // optional, integer: explicit job progress (0-100)
    "flow_status": {...},           // optional, JSON: status of the flow (raw JSON)
    "workflow_as_code_status": {...}, // optional, JSON: status of workflow as code (raw JSON)
    "job": {...},                   // optional, JSON: job metadata
  }

Once completed, the job field will contain the full completed job data, including its result but not only


- **workspace_id** (string): The unique identifier of the workspace where the job was run.
- **id** (UUID): The unique identifier of the job.
- **parent_job** (UUID, optional): The ID of the parent job, if this job was triggered by another job.
- **created_by** (string): The user who created the job.
- **created_at** (datetime): The timestamp when the job was created.
- **started_at** (datetime, optional): The timestamp when the job started running.
- **duration_ms** (integer): The duration of the job in milliseconds.
- **success** (boolean): Whether the job completed successfully.
- **script_hash** (string, optional): The hash of the script that was executed.
- **script_path** (string, optional): The path to the script that was executed.
- **args** (object, optional): The arguments passed to the job, as a JSON object.
- **result** (object, optional): The result of the job, as a JSON object.
- **result_columns** (array of strings, optional): The columns of the result, if applicable.
- **logs** (string, optional): The logs generated by the job.
- **deleted** (boolean): Whether the job has been deleted.
- **canceled** (boolean): Whether the job was canceled.
- **canceled_by** (string, optional): The user who canceled the job, if applicable.
- **canceled_reason** (string, optional): The reason the job was canceled, if provided.
- **job_kind** (enum): The kind of job (e.g., script, flow, etc.).
- **schedule_path** (string, optional): The path of the schedule that triggered the job, if any.
- **permissioned_as** (string): The permission context under which the job ran.
- **flow_status** (object, optional): The status of the flow, as a JSON object.
- **workflow_as_code_status** (object, optional): The status of the workflow as code, as a JSON object.
- **is_flow_step** (boolean): Whether this job is a step in a flow.
- **language** (enum, optional): The language of the script executed.
- **is_skipped** (boolean): Whether this job was skipped.
- **email** (string): The email of the user who created the job.
- **visible_to_owner** (boolean): Whether the job is visible to the owner.
- **mem_peak** (integer, optional): The peak memory usage during the job.
- **tag** (string): The tag associated with the job.
- **priority** (integer, optional): The priority of the job.
- **labels** (object, optional): Arbitrary labels associated with the job, as a JSON object.


This structure provides a comprehensive record of a completed job, including its metadata, execution details, results, and status.

with only_result = true, the updates are much lighter.

```json
{
  "type": "update",
  "running": true,                // optional, boolean: whether the job is running
  "completed": false,             // optional, boolean: whether the job is completed
  "new_result_stream": "string",  // optional, string: new result stream data since last update
  "stream_offset": 456,           // optional, integer: current result stream offset
  "only_result": {...}            // optional, JSON: only the result, only
}
```

- **Error**

  ```json
  {
  	"type": "error",
  	"0": "Error message as string"
  }
  ```

- **NotFound**

  ```json
  {
  	"type": "notfound"
  }
  ```

- **Timeout**

  ```json
  {
  	"type": "timeout"
  }
  ```

- **Ping**
  ```json
  {
  	"type": "ping"
  }
  ```

**Notes:**

- All fields except `type` are optional and may be omitted if not relevant for the event.
- The `update` event contains job status, logs, result stream, and progress information.
- The `error` event contains a string error message.
- The `notfound`, `timeout`, and `ping` events are signals with no additional data.
